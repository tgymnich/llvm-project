; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --include-generated-funcs --version 4
; RUN: opt < %s -S -passes="openmp-opt-postlink,ipsccp,simplifycfg" | FileCheck %s

target datalayout = "e-i64:64-i128:128-v16:16-v32:32-n16:32:64"
target triple = "nvptx64-nvidia-cuda"

%struct.DeviceMemoryPoolTy = type { ptr, i64 }
%struct.DeviceMemoryPoolTrackingTy = type { i64, i64, i64, i64 }
%struct.DeviceEnvironmentTy = type { i32, i32, i32, i32, i64, i64, i64, i64 }
%struct.ident_t = type { i32, i32, i32, i32, ptr }
%struct.DynamicEnvironmentTy = type { i16 }
%struct.KernelEnvironmentTy = type { %struct.ConfigurationEnvironmentTy, ptr, ptr }
%struct.ConfigurationEnvironmentTy = type { i8, i8, i8, i32, i32, i32, i32, i32, i32, i32, ptr }
%struct.NuclideGridPoint = type { double, double, double, double, double, double }

@__omp_rtl_device_memory_pool = weak protected global %struct.DeviceMemoryPoolTy zeroinitializer, align 8
@__omp_rtl_device_memory_pool_tracker = weak protected global %struct.DeviceMemoryPoolTrackingTy zeroinitializer, align 8
@__omp_rtl_device_environment = weak protected addrspace(4) global %struct.DeviceEnvironmentTy undef, align 8
@anon.c274b8f03cfdd4407cb1d89714014eb3.0 = private unnamed_addr constant [23 x i8] c";unknown;unknown;0;0;;\00", align 1
@anon.c274b8f03cfdd4407cb1d89714014eb3.1 = private unnamed_addr constant %struct.ident_t { i32 0, i32 2, i32 0, i32 22, ptr @anon.c274b8f03cfdd4407cb1d89714014eb3.0 }, align 8
@__omp_offloading_run_event_based_simulation_dynamic_environment = weak_odr protected global %struct.DynamicEnvironmentTy zeroinitializer
@__omp_offloading_run_event_based_simulation_kernel_environment = weak_odr protected local_unnamed_addr constant %struct.KernelEnvironmentTy { %struct.ConfigurationEnvironmentTy { i8 0, i8 0, i8 2, i32 1, i32 128, i32 0, i32 0, i32 0, i32 0, i32 0, ptr null }, ptr @anon.c274b8f03cfdd4407cb1d89714014eb3.1, ptr @__omp_offloading_run_event_based_simulation_dynamic_environment }
@llvm.used = appending global [3 x ptr] [ptr addrspacecast (ptr addrspace(4) @__omp_rtl_device_environment to ptr), ptr @__omp_rtl_device_memory_pool, ptr @__omp_rtl_device_memory_pool_tracker], section "llvm.metadata"

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.tid.x() #0

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.ntid.x() #0

; Function Attrs: mustprogress nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: write)
declare void @llvm.assume(i1 noundef) #1

; Function Attrs: convergent nocallback nounwind
declare void @llvm.nvvm.barrier0() #2

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.ctaid.x() #0

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare noundef i32 @llvm.nvvm.read.ptx.sreg.nctaid.x() #0

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.smin.i32(i32, i32) #0

; Function Attrs: alwaysinline norecurse nounwind
define weak_odr protected void @__omp_offloading_run_event_based_simulation(ptr noalias noundef %arg, ptr noundef nonnull align 8 dereferenceable(64) %arg1, ptr noundef nonnull align 8 dereferenceable(112) %arg2, ptr noundef %arg3) local_unnamed_addr #3 {
bb:
  %i = tail call i32 @llvm.nvvm.read.ptx.sreg.tid.x() #5
  %i4 = getelementptr inbounds i8, ptr %arg1, i64 24
  %i5 = load i32, ptr %i4, align 8, !tbaa !14
  %i6 = add nsw i32 %i5, -1
  %i7 = icmp sgt i32 %i5, 0
  br i1 %i7, label %bb8, label %bb330

bb8:                                              ; preds = %bb
  %i9 = tail call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x() #6, !range !21
  %i10 = tail call i32 @llvm.nvvm.read.ptx.sreg.nctaid.x() #7, !range !22
  %i11 = icmp ult i32 %i9, %i10
  tail call void @llvm.assume(i1 noundef %i11) #8
  %i12 = shl nsw i32 %i9, 7
  %i13 = shl nsw i32 %i10, 7
  %i14 = icmp slt i32 %i12, %i5
  br i1 %i14, label %bb15, label %bb330

bb15:                                             ; preds = %bb8
  %i16 = or disjoint i32 %i12, 127
  %i17 = tail call i32 @llvm.smin.i32(i32 %i16, i32 %i6), !range !23
  %i18 = tail call i32 @llvm.nvvm.read.ptx.sreg.ntid.x() #7
  %i19 = getelementptr inbounds i8, ptr %arg1, i64 8
  %i20 = getelementptr inbounds i8, ptr %arg1, i64 16
  %i21 = getelementptr inbounds i8, ptr %arg2, i64 8
  %i22 = getelementptr inbounds i8, ptr %arg2, i64 24
  %i23 = getelementptr inbounds i8, ptr %arg2, i64 32
  %i24 = getelementptr inbounds i8, ptr %arg2, i64 40
  %i25 = getelementptr inbounds i8, ptr %arg2, i64 16
  %i26 = getelementptr inbounds i8, ptr %arg1, i64 40
  %i27 = getelementptr inbounds i8, ptr %arg1, i64 44
  %i28 = getelementptr inbounds i8, ptr %arg2, i64 76
  br label %bb29

bb29:                                             ; preds = %bb325, %bb15
  %i30 = phi i32 [ %i17, %bb15 ], [ %i328, %bb325 ]
  %i31 = phi i32 [ %i12, %bb15 ], [ %i326, %bb325 ]
  %i32 = zext i32 %i30 to i64
  tail call void @llvm.nvvm.barrier0() #9
  %i33 = load i32, ptr %i4, align 8, !tbaa !14
  %i34 = icmp sgt i32 %i33, 0
  br i1 %i34, label %bb35, label %bb325

bb35:                                             ; preds = %bb29
  %i36 = add nsw i32 %i31, %i
  %i37 = sext i32 %i36 to i64
  %i38 = icmp ugt i64 %i37, %i32
  br i1 %i38, label %bb325, label %bb39

bb39:                                             ; preds = %bb35, %bb302
  %i40 = phi i64 [ %i323, %bb302 ], [ %i37, %bb35 ]
  %i41 = trunc i64 %i40 to i32
  %i42 = shl nsw i32 %i41, 1
  %i43 = sext i32 %i42 to i64
  %i44 = and i64 %i43, 9223372036854775806
  %i45 = icmp eq i64 %i44, 0
  br i1 %i45, label %bb69, label %bb46

bb46:                                             ; preds = %bb39, %bb46
  %i47 = phi i64 [ %i58, %bb46 ], [ 0, %bb39 ]
  %i48 = phi i64 [ %i57, %bb46 ], [ 1, %bb39 ]
  %i49 = phi i64 [ %i60, %bb46 ], [ 1, %bb39 ]
  %i50 = phi i64 [ %i61, %bb46 ], [ 2806196910506780709, %bb39 ]
  %i51 = phi i64 [ %i62, %bb46 ], [ %i44, %bb39 ]
  %i52 = and i64 %i51, 1
  %i53 = icmp eq i64 %i52, 0
  %i54 = mul i64 %i50, %i47
  %i55 = add i64 %i54, %i49
  %i56 = select i1 %i53, i64 1, i64 %i50
  %i57 = mul i64 %i56, %i48
  %i58 = select i1 %i53, i64 %i47, i64 %i55
  %i59 = add i64 %i50, 1
  %i60 = mul i64 %i59, %i49
  %i61 = mul i64 %i50, %i50
  %i62 = lshr i64 %i51, 1
  %i63 = icmp ult i64 %i51, 2
  br i1 %i63, label %bb64, label %bb46

bb64:                                             ; preds = %bb46
  %i67 = mul i64 %i57, 1070
  %i68 = add i64 %i67, %i58
  br label %bb69

bb69:                                             ; preds = %bb64, %bb39
  %i70 = phi i64 [ 1070, %bb39 ], [ %i68, %bb64 ]
  %i71 = mul i64 %i70, 2806196910506780709
  %i72 = add i64 %i71, 1
  %i73 = and i64 %i72, 9223372036854775807
  %i74 = uitofp i64 %i73 to double
  %i75 = fmul double %i74, 0x3C00000000000000
  %i76 = mul i64 %i72, 2806196910506780709
  %i77 = add i64 %i76, 1
  %i78 = and i64 %i77, 9223372036854775807
  %i79 = uitofp i64 %i78 to double
  %i80 = fmul double %i79, 0x3C00000000000000
  %i81 = fcmp uge double %i80, 5.200000e-02
  br i1 %i81, label %bb82, label %bb103

bb82:                                             ; preds = %bb69
  %i83 = fcmp uge double %i80, 3.270000e-01
  br i1 %i83, label %bb84, label %bb103

bb84:                                             ; preds = %bb82
  %i85 = fcmp uge double %i80, 4.610000e-01
  br i1 %i85, label %bb86, label %bb103

bb86:                                             ; preds = %bb84
  %i87 = fcmp uge double %i80, 0x3FE3AE147AE147AF
  br i1 %i87, label %bb88, label %bb103

bb88:                                             ; preds = %bb86
  %i89 = fcmp uge double %i80, 6.790000e-01
  br i1 %i89, label %bb90, label %bb103

bb90:                                             ; preds = %bb88
  %i91 = fcmp uge double %i80, 0x3FE7D70A3D70A3D8
  br i1 %i91, label %bb92, label %bb103

bb92:                                             ; preds = %bb90
  %i93 = fcmp uge double %i80, 8.000000e-01
  br i1 %i93, label %bb94, label %bb103

bb94:                                             ; preds = %bb92
  %i95 = fcmp uge double %i80, 8.080000e-01
  br i1 %i95, label %bb96, label %bb103

bb96:                                             ; preds = %bb94
  %i97 = fcmp uge double %i80, 0x3FEA5604189374BD
  br i1 %i97, label %bb98, label %bb103

bb98:                                             ; preds = %bb96
  %i99 = fcmp uge double %i80, 0x3FEB22D0E560418A
  br i1 %i99, label %bb100, label %bb103

bb100:                                            ; preds = %bb98
  %i101 = fcmp uge double %i80, 0x3FEB8D4FDF3B645B
  br i1 %i101, label %bb102, label %bb103

bb102:                                            ; preds = %bb100
  br label %bb103

bb103:                                            ; preds = %bb102, %bb100, %bb98, %bb96, %bb94, %bb92, %bb90, %bb88, %bb86, %bb84, %bb82, %bb69
  %i104 = phi i32 [ 1, %bb69 ], [ 2, %bb82 ], [ 3, %bb84 ], [ 4, %bb86 ], [ 5, %bb88 ], [ 6, %bb90 ], [ 7, %bb92 ], [ 8, %bb94 ], [ 9, %bb96 ], [ 10, %bb98 ], [ 11, %bb100 ], [ 0, %bb102 ]
  %i105 = load i64, ptr %i19, align 8, !tbaa !24
  %i106 = load i64, ptr %i20, align 8, !tbaa !25
  %i107 = load ptr, ptr %arg2, align 8, !tbaa !26
  %i108 = load ptr, ptr %i21, align 8, !tbaa !28
  %i109 = load ptr, ptr %i22, align 8, !tbaa !29
  %i110 = load ptr, ptr %i23, align 8, !tbaa !30
  %i111 = load ptr, ptr %i24, align 8, !tbaa !31
  %i112 = load ptr, ptr %i25, align 8, !tbaa !32
  %i113 = load i32, ptr %i26, align 8, !tbaa !33
  %i114 = load i32, ptr %i27, align 4, !tbaa !34
  %i115 = load i32, ptr %i28, align 4, !tbaa !35
  switch i32 %i113, label %bb139 [
    i32 0, label %bb116
    i32 2, label %bb134
  ]

bb116:                                            ; preds = %bb103
  %i117 = mul nsw i64 %i106, %i105
  %i118 = icmp sgt i64 %i117, 2
  br i1 %i118, label %bb119, label %bb139

bb119:                                            ; preds = %bb116
  %i120 = add nsw i64 %i117, -1
  br label %bb121

bb121:                                            ; preds = %bb121, %bb119
  %i122 = phi i64 [ %i132, %bb121 ], [ %i120, %bb119 ]
  %i123 = phi i64 [ %i131, %bb121 ], [ 0, %bb119 ]
  %i124 = phi i64 [ %i130, %bb121 ], [ %i120, %bb119 ]
  %i125 = lshr i64 %i122, 1
  %i126 = add nuw nsw i64 %i125, %i123
  %i127 = getelementptr inbounds double, ptr %i109, i64 %i126
  %i128 = load double, ptr %i127, align 8, !tbaa !36
  %i129 = fcmp ogt double %i128, %i75
  %i130 = select i1 %i129, i64 %i126, i64 %i124
  %i131 = select i1 %i129, i64 %i123, i64 %i126
  %i132 = sub nsw i64 %i130, %i131
  %i133 = icmp sgt i64 %i132, 1
  br i1 %i133, label %bb121, label %bb139

bb134:                                            ; preds = %bb103
  tail call void @__ompx_split() #10
  %i135 = sitofp i32 %i114 to double
  %i136 = fdiv double 1.000000e+00, %i135
  %i137 = fdiv double %i75, %i136
  %i138 = fptosi double %i137 to i64
  br label %bb139

bb139:                                            ; preds = %bb121, %bb134, %bb116, %bb103
  %i140 = phi i64 [ %i138, %bb134 ], [ -1, %bb103 ], [ 0, %bb116 ], [ %i131, %bb121 ]
  %i141 = zext nneg i32 %i104 to i64
  %i142 = getelementptr inbounds i32, ptr %i107, i64 %i141
  %i143 = load i32, ptr %i142, align 4, !tbaa !38
  %i144 = icmp sgt i32 %i143, 0
  br i1 %i144, label %bb145, label %bb302

bb145:                                            ; preds = %bb139
  %i146 = mul nsw i32 %i115, %i104
  %i147 = mul nsw i64 %i140, %i105
  %i148 = getelementptr i32, ptr %i110, i64 %i147
  %i149 = add i64 %i106, -1
  %i150 = icmp sgt i64 %i106, 2
  %i151 = add nsw i32 %i114, -1
  %i152 = sext i32 %i151 to i64
  %i153 = icmp eq i64 %i140, %i152
  %i154 = add nsw i64 %i140, 1
  %i155 = mul nsw i64 %i154, %i105
  %i156 = getelementptr i32, ptr %i110, i64 %i155
  %i157 = trunc i64 %i106 to i32
  %i158 = add i32 %i157, -1
  br label %bb159

bb159:                                            ; preds = %bb255, %bb145
  %i160 = phi double [ 0.000000e+00, %bb145 ], [ %i298, %bb255 ]
  %i161 = phi double [ 0.000000e+00, %bb145 ], [ %i297, %bb255 ]
  %i162 = phi double [ 0.000000e+00, %bb145 ], [ %i296, %bb255 ]
  %i163 = phi double [ 0.000000e+00, %bb145 ], [ %i295, %bb255 ]
  %i164 = phi double [ 0.000000e+00, %bb145 ], [ %i294, %bb255 ]
  %i165 = phi i32 [ 0, %bb145 ], [ %i299, %bb255 ]
  %i166 = add nsw i32 %i165, %i146
  %i167 = sext i32 %i166 to i64
  %i168 = getelementptr inbounds i32, ptr %i112, i64 %i167
  %i169 = load i32, ptr %i168, align 4, !tbaa !38
  %i170 = getelementptr inbounds double, ptr %i108, i64 %i167
  %i171 = load double, ptr %i170, align 8, !tbaa !36
  switch i32 %i113, label %bb208 [
    i32 1, label %bb172
    i32 0, label %bb197
  ]

bb172:                                            ; preds = %bb159
  tail call void @__ompx_split() #10
  %i173 = sext i32 %i169 to i64
  %i174 = mul nsw i64 %i106, %i173
  %i175 = getelementptr %struct.NuclideGridPoint, ptr %i111, i64 %i174
  br i1 %i150, label %bb176, label %bb189

bb176:                                            ; preds = %bb172, %bb176
  %i177 = phi i64 [ %i187, %bb176 ], [ %i149, %bb172 ]
  %i178 = phi i64 [ %i186, %bb176 ], [ 0, %bb172 ]
  %i179 = phi i64 [ %i185, %bb176 ], [ %i149, %bb172 ]
  %i180 = lshr i64 %i177, 1
  %i181 = add nuw nsw i64 %i180, %i178
  %i182 = getelementptr inbounds %struct.NuclideGridPoint, ptr %i175, i64 %i181
  %i183 = load double, ptr %i182, align 8, !tbaa !39
  %i184 = fcmp ogt double %i183, %i75
  %i185 = select i1 %i184, i64 %i181, i64 %i179
  %i186 = select i1 %i184, i64 %i178, i64 %i181
  %i187 = sub nsw i64 %i185, %i186
  %i188 = icmp sgt i64 %i187, 1
  br i1 %i188, label %bb176, label %bb189

bb189:                                            ; preds = %bb176, %bb172
  %i190 = phi i64 [ 0, %bb172 ], [ %i186, %bb176 ]
  %i191 = icmp eq i64 %i190, %i149
  br i1 %i191, label %bb192, label %bb195

bb192:                                            ; preds = %bb189
  %i193 = getelementptr %struct.NuclideGridPoint, ptr %i175, i64 %i149
  %i194 = getelementptr i8, ptr %i193, i64 -48
  br label %bb255

bb195:                                            ; preds = %bb189
  %i196 = getelementptr %struct.NuclideGridPoint, ptr %i175, i64 %i190
  br label %bb255

bb197:                                            ; preds = %bb159
  %i198 = sext i32 %i169 to i64
  %i199 = getelementptr i32, ptr %i148, i64 %i198
  %i200 = load i32, ptr %i199, align 4, !tbaa !38
  %i201 = sext i32 %i200 to i64
  %i202 = icmp eq i64 %i149, %i201
  %i203 = mul nsw i64 %i106, %i198
  %i204 = getelementptr %struct.NuclideGridPoint, ptr %i111, i64 %i203
  %i205 = getelementptr %struct.NuclideGridPoint, ptr %i204, i64 %i201
  %i206 = select i1 %i202, i64 -48, i64 0
  %i207 = getelementptr i8, ptr %i205, i64 %i206
  br label %bb255

bb208:                                            ; preds = %bb159
  tail call void @__ompx_split() #10
  %i209 = sext i32 %i169 to i64
  %i210 = getelementptr i32, ptr %i148, i64 %i209
  %i211 = load i32, ptr %i210, align 4, !tbaa !38
  br i1 %i153, label %bb216, label %bb212

bb212:                                            ; preds = %bb208
  %i213 = getelementptr i32, ptr %i156, i64 %i209
  %i214 = load i32, ptr %i213, align 4, !tbaa !38
  %i215 = add nsw i32 %i214, 1
  br label %bb216

bb216:                                            ; preds = %bb212, %bb208
  %i217 = phi i32 [ %i215, %bb212 ], [ %i158, %bb208 ]
  %i218 = mul nsw i64 %i106, %i209
  %i219 = sext i32 %i211 to i64
  %i220 = getelementptr %struct.NuclideGridPoint, ptr %i111, i64 %i218
  %i221 = getelementptr %struct.NuclideGridPoint, ptr %i220, i64 %i219
  %i222 = load double, ptr %i221, align 8, !tbaa !39
  %i223 = sext i32 %i217 to i64
  %i224 = fcmp ult double %i222, %i75
  br i1 %i224, label %bb225, label %bb245

bb225:                                            ; preds = %bb216
  %i226 = getelementptr %struct.NuclideGridPoint, ptr %i220, i64 %i223
  %i227 = load double, ptr %i226, align 8, !tbaa !39
  %i228 = fcmp ugt double %i227, %i75
  br i1 %i228, label %bb229, label %bb245

bb229:                                            ; preds = %bb225
  %i230 = sub nsw i64 %i223, %i219
  %i231 = icmp sgt i64 %i230, 1
  br i1 %i231, label %bb232, label %bb245

bb232:                                            ; preds = %bb229, %bb232
  %i233 = phi i64 [ %i243, %bb232 ], [ %i230, %bb229 ]
  %i234 = phi i64 [ %i242, %bb232 ], [ %i219, %bb229 ]
  %i235 = phi i64 [ %i241, %bb232 ], [ %i223, %bb229 ]
  %i236 = lshr i64 %i233, 1
  %i237 = add nsw i64 %i236, %i234
  %i238 = getelementptr inbounds %struct.NuclideGridPoint, ptr %i220, i64 %i237
  %i239 = load double, ptr %i238, align 8, !tbaa !39
  %i240 = fcmp ogt double %i239, %i75
  %i241 = select i1 %i240, i64 %i237, i64 %i235
  %i242 = select i1 %i240, i64 %i234, i64 %i237
  %i243 = sub nsw i64 %i241, %i242
  %i244 = icmp sgt i64 %i243, 1
  br i1 %i244, label %bb232, label %bb245

bb245:                                            ; preds = %bb232, %bb229, %bb225, %bb216
  %i246 = phi i64 [ 0, %bb216 ], [ %i219, %bb229 ], [ %i149, %bb225 ], [ %i242, %bb232 ]
  %i247 = shl i64 %i246, 32
  %i248 = ashr exact i64 %i247, 32
  %i249 = icmp eq i64 %i248, %i149
  br i1 %i249, label %bb250, label %bb253

bb250:                                            ; preds = %bb245
  %i251 = getelementptr %struct.NuclideGridPoint, ptr %i220, i64 %i149
  %i252 = getelementptr i8, ptr %i251, i64 -48
  br label %bb255

bb253:                                            ; preds = %bb245
  %i254 = getelementptr %struct.NuclideGridPoint, ptr %i220, i64 %i248
  br label %bb255

bb255:                                            ; preds = %bb253, %bb250, %bb197, %bb195, %bb192
  %i256 = phi ptr [ %i194, %bb192 ], [ %i196, %bb195 ], [ %i252, %bb250 ], [ %i254, %bb253 ], [ %i207, %bb197 ]
  %i257 = getelementptr inbounds i8, ptr %i256, i64 48
  %i258 = load double, ptr %i257, align 8, !tbaa !39
  %i259 = fsub double %i258, %i75
  %i260 = load double, ptr %i256, align 8, !tbaa !39
  %i261 = fsub double %i258, %i260
  %i262 = getelementptr inbounds i8, ptr %i256, i64 56
  %i263 = load double, ptr %i262, align 8, !tbaa !41
  %i264 = getelementptr inbounds i8, ptr %i256, i64 8
  %i265 = load double, ptr %i264, align 8, !tbaa !41
  %i266 = fsub double %i263, %i265
  %i267 = fneg double %i259
  %i268 = fdiv double %i267, %i261
  %i269 = tail call double @llvm.fmuladd.f64(double %i268, double %i266, double %i263)
  %i270 = getelementptr inbounds i8, ptr %i256, i64 64
  %i271 = load double, ptr %i270, align 8, !tbaa !42
  %i272 = getelementptr inbounds i8, ptr %i256, i64 16
  %i273 = load double, ptr %i272, align 8, !tbaa !42
  %i274 = fsub double %i271, %i273
  %i275 = tail call double @llvm.fmuladd.f64(double %i268, double %i274, double %i271)
  %i276 = getelementptr inbounds i8, ptr %i256, i64 72
  %i277 = load double, ptr %i276, align 8, !tbaa !43
  %i278 = getelementptr inbounds i8, ptr %i256, i64 24
  %i279 = load double, ptr %i278, align 8, !tbaa !43
  %i280 = fsub double %i277, %i279
  %i281 = tail call double @llvm.fmuladd.f64(double %i268, double %i280, double %i277)
  %i282 = getelementptr inbounds i8, ptr %i256, i64 80
  %i283 = load double, ptr %i282, align 8, !tbaa !44
  %i284 = getelementptr inbounds i8, ptr %i256, i64 32
  %i285 = load double, ptr %i284, align 8, !tbaa !44
  %i286 = fsub double %i283, %i285
  %i287 = tail call double @llvm.fmuladd.f64(double %i268, double %i286, double %i283)
  %i288 = getelementptr inbounds i8, ptr %i256, i64 88
  %i289 = load double, ptr %i288, align 8, !tbaa !45
  %i290 = getelementptr inbounds i8, ptr %i256, i64 40
  %i291 = load double, ptr %i290, align 8, !tbaa !45
  %i292 = fsub double %i289, %i291
  %i293 = tail call double @llvm.fmuladd.f64(double %i268, double %i292, double %i289)
  %i294 = tail call double @llvm.fmuladd.f64(double %i269, double %i171, double %i164)
  %i295 = tail call double @llvm.fmuladd.f64(double %i275, double %i171, double %i163)
  %i296 = tail call double @llvm.fmuladd.f64(double %i281, double %i171, double %i162)
  %i297 = tail call double @llvm.fmuladd.f64(double %i287, double %i171, double %i161)
  %i298 = tail call double @llvm.fmuladd.f64(double %i293, double %i171, double %i160)
  %i299 = add nuw nsw i32 %i165, 1
  %i300 = load i32, ptr %i142, align 4, !tbaa !38
  %i301 = icmp slt i32 %i299, %i300
  br i1 %i301, label %bb159, label %bb302

bb302:                                            ; preds = %bb255, %bb139
  %i303 = phi double [ 0.000000e+00, %bb139 ], [ %i294, %bb255 ]
  %i304 = phi double [ 0.000000e+00, %bb139 ], [ %i295, %bb255 ]
  %i305 = phi double [ 0.000000e+00, %bb139 ], [ %i296, %bb255 ]
  %i306 = phi double [ 0.000000e+00, %bb139 ], [ %i297, %bb255 ]
  %i307 = phi double [ 0.000000e+00, %bb139 ], [ %i298, %bb255 ]
  %i308 = fcmp ogt double %i303, -1.000000e+00
  %i309 = select i1 %i308, double %i303, double -1.000000e+00
  %i310 = fcmp ogt double %i304, %i309
  %i311 = select i1 %i310, double %i304, double %i309
  %i312 = fcmp ogt double %i305, %i311
  %i313 = select i1 %i312, double %i305, double %i311
  %i314 = fcmp ogt double %i306, %i313
  %i315 = select i1 %i314, double %i306, double %i313
  %i316 = select i1 %i310, i64 2, i64 1
  %i317 = fcmp ogt double %i307, %i315
  %i318 = select i1 %i312, i64 3, i64 %i316
  %i319 = select i1 %i314, i64 4, i64 %i318
  %i320 = select i1 %i317, i64 5, i64 %i319
  %i321 = getelementptr inbounds i64, ptr %arg3, i64 %i40
  store i64 %i320, ptr %i321, align 8, !tbaa !46
  %i322 = add nsw i32 %i18, %i41
  %i323 = sext i32 %i322 to i64
  %i324 = icmp ugt i64 %i323, %i32
  br i1 %i324, label %bb325, label %bb39

bb325:                                            ; preds = %bb302, %bb35, %bb29
  tail call void @llvm.nvvm.barrier0() #9
  %i326 = add nsw i32 %i31, %i13
  %i327 = add nsw i32 %i30, %i13
  %i328 = tail call i32 @llvm.smin.i32(i32 %i327, i32 %i6)
  %i329 = icmp slt i32 %i326, %i5
  br i1 %i329, label %bb29, label %bb330

bb330:                                            ; preds = %bb325, %bb8, %bb
  ret void
}

; Function Attrs: convergent
declare void @__ompx_split(...) local_unnamed_addr #4

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare double @llvm.fmuladd.f64(double, double, double) #0

attributes #0 = { mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #1 = { mustprogress nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: write) }
attributes #2 = { convergent nocallback nounwind }
attributes #3 = { alwaysinline norecurse nounwind "frame-pointer"="all" "kernel" "no-trapping-math"="true" "omp_target_thread_limit"="128" "stack-protector-buffer-size"="8" "target-cpu"="sm_86" "target-features"="+ptx83,+sm_86" }
attributes #4 = { convergent "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="sm_86" "target-features"="+ptx83,+sm_86" }
attributes #5 = { "llvm.assume"="ompx_no_call_asm" }
attributes #6 = { nofree nosync willreturn "llvm.assume"="ompx_no_call_asm" }
attributes #7 = { nosync "llvm.assume"="ompx_no_call_asm" }
attributes #8 = { memory(write) "llvm.assume"="ompx_no_call_asm" }
attributes #9 = { "llvm.assume"="ompx_no_call_asm,ompx_aligned_barrier" }
attributes #10 = { convergent nounwind }

!llvm.ident = !{!0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !1, !1, !0, !1, !1, !0, !1, !1, !0, !1, !1, !0, !1, !1, !0, !1, !1}
!llvm.module.flags = !{!2, !3, !4, !5, !6, !7, !8, !9}
!nvvmir.version = !{!10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10}
!nvvm.annotations = !{!11, !12}
!omp_offload.info = !{!13}

!0 = !{!"clang version 19.0.0git (git@github.com:tgymnich/llvm-project.git 3ab6ac657ffe454901ed6f5e78a906e9dba4e1af)"}
!1 = !{!"clang version 3.8.0 (tags/RELEASE_380/final)"}
!2 = !{i32 1, !"wchar_size", i32 4}
!3 = !{i32 7, !"openmp", i32 51}
!4 = !{i32 7, !"openmp-device", i32 51}
!5 = !{i32 8, !"PIC Level", i32 2}
!6 = !{i32 7, !"frame-pointer", i32 2}
!7 = !{i32 1, !"ThinLTO", i32 0}
!8 = !{i32 1, !"EnableSplitLTOUnit", i32 1}
!9 = !{i32 2, !"SDK Version", [2 x i32] [i32 12, i32 3]}
!10 = !{i32 2, i32 0}
!11 = !{ptr @__omp_offloading_run_event_based_simulation, !"maxntidx", i32 128}
!12 = !{ptr @__omp_offloading_run_event_based_simulation, !"kernel", i32 1}
!13 = !{i32 0, i32 64769, i32 2228997, !"run_event_based_simulation", i32 51, i32 0, i32 0}
!14 = !{!15, !16, i64 24}
!15 = !{!"", !16, i64 0, !19, i64 8, !19, i64 16, !16, i64 24, !20, i64 32, !16, i64 40, !16, i64 44, !16, i64 48, !16, i64 52, !16, i64 56, !16, i64 60}
!16 = !{!"int", !17, i64 0}
!17 = !{!"omnipotent char", !18, i64 0}
!18 = !{!"Simple C/C++ TBAA"}
!19 = !{!"long", !17, i64 0}
!20 = !{!"any pointer", !17, i64 0}
!21 = !{i32 0, i32 -1}
!22 = !{i32 1, i32 0}
!23 = !{i32 -2147483648, i32 2147483647}
!24 = !{!15, !19, i64 8}
!25 = !{!15, !19, i64 16}
!26 = !{!27, !20, i64 0}
!27 = !{!"", !20, i64 0, !20, i64 8, !20, i64 16, !20, i64 24, !20, i64 32, !20, i64 40, !16, i64 48, !16, i64 52, !16, i64 56, !16, i64 60, !19, i64 64, !16, i64 72, !16, i64 76, !20, i64 80, !16, i64 88, !20, i64 96, !16, i64 104}
!28 = !{!27, !20, i64 8}
!29 = !{!27, !20, i64 24}
!30 = !{!27, !20, i64 32}
!31 = !{!27, !20, i64 40}
!32 = !{!27, !20, i64 16}
!33 = !{!15, !16, i64 40}
!34 = !{!15, !16, i64 44}
!35 = !{!27, !16, i64 76}
!36 = !{!37, !37, i64 0}
!37 = !{!"double", !17, i64 0}
!38 = !{!16, !16, i64 0}
!39 = !{!40, !37, i64 0}
!40 = !{!"", !37, i64 0, !37, i64 8, !37, i64 16, !37, i64 24, !37, i64 32, !37, i64 40}
!41 = !{!40, !37, i64 8}
!42 = !{!40, !37, i64 16}
!43 = !{!40, !37, i64 24}
!44 = !{!40, !37, i64 32}
!45 = !{!40, !37, i64 40}
!46 = !{!47, !47, i64 0}
!47 = !{!"long long", !17, i64 0}
; CHECK-LABEL: define weak_odr protected void @__omp_offloading_run_event_based_simulation(
; CHECK-SAME: ptr noalias noundef [[ARG:%.*]], ptr noundef nonnull align 8 dereferenceable(64) [[ARG1:%.*]], ptr noundef nonnull align 8 dereferenceable(112) [[ARG2:%.*]], ptr noundef [[ARG3:%.*]]) local_unnamed_addr #[[ATTR3:[0-9]+]] {
; CHECK-NEXT:  ContDispatchBB:
; CHECK-NEXT:    [[I18:%.*]] = tail call i32 @llvm.nvvm.read.ptx.sreg.ntid.x() #[[ATTR5:[0-9]+]]
; CHECK-NEXT:    [[I10:%.*]] = tail call i32 @llvm.nvvm.read.ptx.sreg.nctaid.x() #[[ATTR5]], !range [[RNG17:![0-9]+]]
; CHECK-NEXT:    [[I9:%.*]] = tail call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x() #[[ATTR6:[0-9]+]], !range [[RNG18:![0-9]+]]
; CHECK-NEXT:    [[I:%.*]] = tail call i32 @llvm.nvvm.read.ptx.sreg.tid.x() #[[ATTR7:[0-9]+]]
; CHECK-NEXT:    [[I4:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 24
; CHECK-NEXT:    [[I5:%.*]] = load i32, ptr [[I4]], align 8, !tbaa [[TBAA19:![0-9]+]]
; CHECK-NEXT:    [[I6:%.*]] = add nsw i32 [[I5]], -1
; CHECK-NEXT:    [[I7:%.*]] = icmp sgt i32 [[I5]], 0
; CHECK-NEXT:    br i1 [[I7]], label [[BB8:%.*]], label [[BB330:%.*]]
; CHECK:       bb8:
; CHECK-NEXT:    [[I11:%.*]] = icmp ult i32 [[I9]], [[I10]]
; CHECK-NEXT:    tail call void @llvm.assume(i1 noundef [[I11]]) #[[ATTR8:[0-9]+]]
; CHECK-NEXT:    [[I12:%.*]] = shl nsw i32 [[I9]], 7
; CHECK-NEXT:    [[I13:%.*]] = shl nsw i32 [[I10]], 7
; CHECK-NEXT:    [[I14:%.*]] = icmp slt i32 [[I12]], [[I5]]
; CHECK-NEXT:    br i1 [[I14]], label [[BB15:%.*]], label [[BB330]]
; CHECK:       bb15:
; CHECK-NEXT:    [[I16:%.*]] = or disjoint i32 [[I12]], 127
; CHECK-NEXT:    [[I17:%.*]] = tail call i32 @llvm.smin.i32(i32 [[I16]], i32 [[I6]]), !range [[RNG26:![0-9]+]]
; CHECK-NEXT:    [[I19:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 8
; CHECK-NEXT:    [[I20:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 16
; CHECK-NEXT:    [[I21:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 8
; CHECK-NEXT:    [[I22:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 24
; CHECK-NEXT:    [[I23:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 32
; CHECK-NEXT:    [[I24:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 40
; CHECK-NEXT:    [[I25:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 16
; CHECK-NEXT:    [[I26:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 40
; CHECK-NEXT:    [[I27:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 44
; CHECK-NEXT:    [[I28:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 76
; CHECK-NEXT:    br label [[BB29:%.*]]
; CHECK:       bb29:
; CHECK-NEXT:    [[I28438:%.*]] = phi ptr [ [[I28]], [[BB15]] ], [ [[I28443:%.*]], [[BB325:%.*]] ]
; CHECK-NEXT:    [[I25431:%.*]] = phi ptr [ [[I25]], [[BB15]] ], [ [[I25436:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I24424:%.*]] = phi ptr [ [[I24]], [[BB15]] ], [ [[I24429:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I23417:%.*]] = phi ptr [ [[I23]], [[BB15]] ], [ [[I23422:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I22410:%.*]] = phi ptr [ [[I22]], [[BB15]] ], [ [[I22415:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I21403:%.*]] = phi ptr [ [[I21]], [[BB15]] ], [ [[I21408:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I6402:%.*]] = phi i32 [ [[I6]], [[BB15]] ], [ [[I6400:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I27377:%.*]] = phi ptr [ [[I27]], [[BB15]] ], [ [[I27382:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I26370:%.*]] = phi ptr [ [[I26]], [[BB15]] ], [ [[I26375:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I20363:%.*]] = phi ptr [ [[I20]], [[BB15]] ], [ [[I20368:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I19356:%.*]] = phi ptr [ [[I19]], [[BB15]] ], [ [[I19361:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I4355:%.*]] = phi ptr [ [[I4]], [[BB15]] ], [ [[I4353:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I13344:%.*]] = phi i32 [ [[I13]], [[BB15]] ], [ [[I13347:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I18341:%.*]] = phi i32 [ [[I18]], [[BB15]] ], [ [[I18339:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I334:%.*]] = phi i32 [ [[I]], [[BB15]] ], [ [[I332:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I5294:%.*]] = phi i32 [ [[I5]], [[BB15]] ], [ [[I5292:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I10247:%.*]] = phi i32 [ [[I10]], [[BB15]] ], [ [[I10245:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I30:%.*]] = phi i32 [ [[I17]], [[BB15]] ], [ [[I328:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I31:%.*]] = phi i32 [ [[I12]], [[BB15]] ], [ [[I326:%.*]], [[BB325]] ]
; CHECK-NEXT:    [[I32:%.*]] = zext i32 [[I30]] to i64
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9:[0-9]+]]
; CHECK-NEXT:    [[I33:%.*]] = load i32, ptr [[I4355]], align 8, !tbaa [[TBAA19]]
; CHECK-NEXT:    [[I34:%.*]] = icmp sgt i32 [[I33]], 0
; CHECK-NEXT:    br i1 [[I34]], label [[BB35:%.*]], label [[BB325]]
; CHECK:       bb35:
; CHECK-NEXT:    [[I36:%.*]] = add nsw i32 [[I31]], [[I334]]
; CHECK-NEXT:    [[I37:%.*]] = sext i32 [[I36]] to i64
; CHECK-NEXT:    [[I38:%.*]] = icmp ugt i64 [[I37]], [[I32]]
; CHECK-NEXT:    br i1 [[I38]], label [[BB325]], label [[BB39:%.*]]
; CHECK:       bb39:
; CHECK-NEXT:    [[I28444:%.*]] = phi ptr [ [[I28438]], [[BB35]] ], [ [[I28441:%.*]], [[BB302:%.*]] ]
; CHECK-NEXT:    [[I25437:%.*]] = phi ptr [ [[I25431]], [[BB35]] ], [ [[I25434:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I24430:%.*]] = phi ptr [ [[I24424]], [[BB35]] ], [ [[I24427:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I23423:%.*]] = phi ptr [ [[I23417]], [[BB35]] ], [ [[I23420:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I22416:%.*]] = phi ptr [ [[I22410]], [[BB35]] ], [ [[I22413:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I21409:%.*]] = phi ptr [ [[I21403]], [[BB35]] ], [ [[I21406:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I6401:%.*]] = phi i32 [ [[I6402]], [[BB35]] ], [ [[I6398:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I32395:%.*]] = phi i64 [ [[I32]], [[BB35]] ], [ [[I32393:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I27383:%.*]] = phi ptr [ [[I27377]], [[BB35]] ], [ [[I27380:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I26376:%.*]] = phi ptr [ [[I26370]], [[BB35]] ], [ [[I26373:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I20369:%.*]] = phi ptr [ [[I20363]], [[BB35]] ], [ [[I20366:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I19362:%.*]] = phi ptr [ [[I19356]], [[BB35]] ], [ [[I19359:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I4354:%.*]] = phi ptr [ [[I4355]], [[BB35]] ], [ [[I4351:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I13348:%.*]] = phi i32 [ [[I13344]], [[BB35]] ], [ [[I13345:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I18340:%.*]] = phi i32 [ [[I18341]], [[BB35]] ], [ [[I18337:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I333:%.*]] = phi i32 [ [[I334]], [[BB35]] ], [ [[I330:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I5293:%.*]] = phi i32 [ [[I5294]], [[BB35]] ], [ [[I5290:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I30287:%.*]] = phi i32 [ [[I30]], [[BB35]] ], [ [[I30284:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I31281:%.*]] = phi i32 [ [[I31]], [[BB35]] ], [ [[I31278:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I10246:%.*]] = phi i32 [ [[I10247]], [[BB35]] ], [ [[I10243:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I40:%.*]] = phi i64 [ [[I37]], [[BB35]] ], [ [[I323:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I41:%.*]] = trunc i64 [[I40]] to i32
; CHECK-NEXT:    [[I42:%.*]] = shl nsw i32 [[I41]], 1
; CHECK-NEXT:    [[I43:%.*]] = sext i32 [[I42]] to i64
; CHECK-NEXT:    [[I44:%.*]] = and i64 [[I43]], 9223372036854775806
; CHECK-NEXT:    [[I45:%.*]] = icmp eq i64 [[I44]], 0
; CHECK-NEXT:    br i1 [[I45]], label [[BB69:%.*]], label [[BB46:%.*]]
; CHECK:       bb46:
; CHECK-NEXT:    [[I47:%.*]] = phi i64 [ 0, [[BB39]] ], [ [[I58:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I48:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I57:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I49:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I60:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I50:%.*]] = phi i64 [ 2806196910506780709, [[BB39]] ], [ [[I61:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I51:%.*]] = phi i64 [ [[I44]], [[BB39]] ], [ [[I62:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I52:%.*]] = and i64 [[I51]], 1
; CHECK-NEXT:    [[I53:%.*]] = icmp eq i64 [[I52]], 0
; CHECK-NEXT:    [[I54:%.*]] = mul i64 [[I50]], [[I47]]
; CHECK-NEXT:    [[I55:%.*]] = add i64 [[I54]], [[I49]]
; CHECK-NEXT:    [[I56:%.*]] = select i1 [[I53]], i64 1, i64 [[I50]]
; CHECK-NEXT:    [[I57]] = mul i64 [[I56]], [[I48]]
; CHECK-NEXT:    [[I58]] = select i1 [[I53]], i64 [[I47]], i64 [[I55]]
; CHECK-NEXT:    [[I59:%.*]] = add i64 [[I50]], 1
; CHECK-NEXT:    [[I60]] = mul i64 [[I59]], [[I49]]
; CHECK-NEXT:    [[I61]] = mul i64 [[I50]], [[I50]]
; CHECK-NEXT:    [[I62]] = lshr i64 [[I51]], 1
; CHECK-NEXT:    [[I63:%.*]] = icmp ult i64 [[I51]], 2
; CHECK-NEXT:    br i1 [[I63]], label [[BB64:%.*]], label [[BB46]]
; CHECK:       bb64:
; CHECK-NEXT:    [[I67:%.*]] = mul i64 [[I57]], 1070
; CHECK-NEXT:    [[I68:%.*]] = add i64 [[I67]], [[I58]]
; CHECK-NEXT:    br label [[BB69]]
; CHECK:       bb69:
; CHECK-NEXT:    [[I70:%.*]] = phi i64 [ [[I68]], [[BB64]] ], [ 1070, [[BB39]] ]
; CHECK-NEXT:    [[I71:%.*]] = mul i64 [[I70]], 2806196910506780709
; CHECK-NEXT:    [[I72:%.*]] = add i64 [[I71]], 1
; CHECK-NEXT:    [[I73:%.*]] = and i64 [[I72]], 9223372036854775807
; CHECK-NEXT:    [[I74:%.*]] = uitofp i64 [[I73]] to double
; CHECK-NEXT:    [[I75:%.*]] = fmul double [[I74]], 0x3C00000000000000
; CHECK-NEXT:    [[I76:%.*]] = mul i64 [[I72]], 2806196910506780709
; CHECK-NEXT:    [[I77:%.*]] = add i64 [[I76]], 1
; CHECK-NEXT:    [[I78:%.*]] = and i64 [[I77]], 9223372036854775807
; CHECK-NEXT:    [[I79:%.*]] = uitofp i64 [[I78]] to double
; CHECK-NEXT:    [[I80:%.*]] = fmul double [[I79]], 0x3C00000000000000
; CHECK-NEXT:    [[I81:%.*]] = fcmp uge double [[I80]], 5.200000e-02
; CHECK-NEXT:    br i1 [[I81]], label [[BB82:%.*]], label [[BB103:%.*]]
; CHECK:       bb82:
; CHECK-NEXT:    [[I83:%.*]] = fcmp uge double [[I80]], 3.270000e-01
; CHECK-NEXT:    br i1 [[I83]], label [[BB84:%.*]], label [[BB103]]
; CHECK:       bb84:
; CHECK-NEXT:    [[I85:%.*]] = fcmp uge double [[I80]], 4.610000e-01
; CHECK-NEXT:    br i1 [[I85]], label [[BB86:%.*]], label [[BB103]]
; CHECK:       bb86:
; CHECK-NEXT:    [[I87:%.*]] = fcmp uge double [[I80]], 0x3FE3AE147AE147AF
; CHECK-NEXT:    br i1 [[I87]], label [[BB88:%.*]], label [[BB103]]
; CHECK:       bb88:
; CHECK-NEXT:    [[I89:%.*]] = fcmp uge double [[I80]], 6.790000e-01
; CHECK-NEXT:    br i1 [[I89]], label [[BB90:%.*]], label [[BB103]]
; CHECK:       bb90:
; CHECK-NEXT:    [[I91:%.*]] = fcmp uge double [[I80]], 0x3FE7D70A3D70A3D8
; CHECK-NEXT:    br i1 [[I91]], label [[BB92:%.*]], label [[BB103]]
; CHECK:       bb92:
; CHECK-NEXT:    [[I93:%.*]] = fcmp uge double [[I80]], 8.000000e-01
; CHECK-NEXT:    br i1 [[I93]], label [[BB94:%.*]], label [[BB103]]
; CHECK:       bb94:
; CHECK-NEXT:    [[I95:%.*]] = fcmp uge double [[I80]], 8.080000e-01
; CHECK-NEXT:    br i1 [[I95]], label [[BB96:%.*]], label [[BB103]]
; CHECK:       bb96:
; CHECK-NEXT:    [[I97:%.*]] = fcmp uge double [[I80]], 0x3FEA5604189374BD
; CHECK-NEXT:    br i1 [[I97]], label [[BB98:%.*]], label [[BB103]]
; CHECK:       bb98:
; CHECK-NEXT:    [[I99:%.*]] = fcmp uge double [[I80]], 0x3FEB22D0E560418A
; CHECK-NEXT:    br i1 [[I99]], label [[BB100:%.*]], label [[BB103]]
; CHECK:       bb100:
; CHECK-NEXT:    [[I101:%.*]] = fcmp uge double [[I80]], 0x3FEB8D4FDF3B645B
; CHECK-NEXT:    br i1 [[I101]], label [[BB103_FROM_BB102:%.*]], label [[BB103]]
; CHECK:       bb103.from.bb102:
; CHECK-NEXT:    br label [[BB103]]
; CHECK:       bb103:
; CHECK-NEXT:    [[I104:%.*]] = phi i32 [ 0, [[BB103_FROM_BB102]] ], [ 1, [[BB69]] ], [ 2, [[BB82]] ], [ 3, [[BB84]] ], [ 4, [[BB86]] ], [ 5, [[BB88]] ], [ 6, [[BB90]] ], [ 7, [[BB92]] ], [ 8, [[BB94]] ], [ 9, [[BB96]] ], [ 10, [[BB98]] ], [ 11, [[BB100]] ]
; CHECK-NEXT:    [[I105:%.*]] = load i64, ptr [[I19362]], align 8, !tbaa [[TBAA27:![0-9]+]]
; CHECK-NEXT:    [[I106:%.*]] = load i64, ptr [[I20369]], align 8, !tbaa [[TBAA28:![0-9]+]]
; CHECK-NEXT:    [[I107:%.*]] = load ptr, ptr [[ARG2]], align 8, !tbaa [[TBAA29:![0-9]+]]
; CHECK-NEXT:    [[I108:%.*]] = load ptr, ptr [[I21409]], align 8, !tbaa [[TBAA31:![0-9]+]]
; CHECK-NEXT:    [[I109:%.*]] = load ptr, ptr [[I22416]], align 8, !tbaa [[TBAA32:![0-9]+]]
; CHECK-NEXT:    [[I110:%.*]] = load ptr, ptr [[I23423]], align 8, !tbaa [[TBAA33:![0-9]+]]
; CHECK-NEXT:    [[I111:%.*]] = load ptr, ptr [[I24430]], align 8, !tbaa [[TBAA34:![0-9]+]]
; CHECK-NEXT:    [[I112:%.*]] = load ptr, ptr [[I25437]], align 8, !tbaa [[TBAA35:![0-9]+]]
; CHECK-NEXT:    [[I113:%.*]] = load i32, ptr [[I26376]], align 8, !tbaa [[TBAA36:![0-9]+]]
; CHECK-NEXT:    [[I114:%.*]] = load i32, ptr [[I27383]], align 4, !tbaa [[TBAA37:![0-9]+]]
; CHECK-NEXT:    [[I115:%.*]] = load i32, ptr [[I28444]], align 4, !tbaa [[TBAA38:![0-9]+]]
; CHECK-NEXT:    switch i32 [[I113]], label [[BB139:%.*]] [
; CHECK-NEXT:      i32 0, label [[BB116:%.*]]
; CHECK-NEXT:      i32 2, label [[CACHESTORE0:%.*]]
; CHECK-NEXT:    ]
; CHECK:       bb116:
; CHECK-NEXT:    [[I117:%.*]] = mul nsw i64 [[I106]], [[I105]]
; CHECK-NEXT:    [[I118:%.*]] = icmp sgt i64 [[I117]], 2
; CHECK-NEXT:    br i1 [[I118]], label [[BB119:%.*]], label [[BB139]]
; CHECK:       bb119:
; CHECK-NEXT:    [[I120:%.*]] = add nsw i64 [[I117]], -1
; CHECK-NEXT:    br label [[BB121:%.*]]
; CHECK:       bb121:
; CHECK-NEXT:    [[I122:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I132:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I123:%.*]] = phi i64 [ 0, [[BB119]] ], [ [[I131:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I124:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I130:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I125:%.*]] = lshr i64 [[I122]], 1
; CHECK-NEXT:    [[I126:%.*]] = add nuw nsw i64 [[I125]], [[I123]]
; CHECK-NEXT:    [[I127:%.*]] = getelementptr inbounds double, ptr [[I109]], i64 [[I126]]
; CHECK-NEXT:    [[I128:%.*]] = load double, ptr [[I127]], align 8, !tbaa [[TBAA39:![0-9]+]]
; CHECK-NEXT:    [[I129:%.*]] = fcmp ogt double [[I128]], [[I75]]
; CHECK-NEXT:    [[I130]] = select i1 [[I129]], i64 [[I126]], i64 [[I124]]
; CHECK-NEXT:    [[I131]] = select i1 [[I129]], i64 [[I123]], i64 [[I126]]
; CHECK-NEXT:    [[I132]] = sub nsw i64 [[I130]], [[I131]]
; CHECK-NEXT:    [[I133:%.*]] = icmp sgt i64 [[I132]], 1
; CHECK-NEXT:    br i1 [[I133]], label [[BB121]], label [[BB139]]
; CHECK:       CacheStore0:
; CHECK-NEXT:    [[TMP0:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0:%.*]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP1:%.*]] = load ptr, ptr [[TMP0]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR:%.*]] = getelementptr inbounds i32, ptr [[TMP1]], i32 0
; CHECK-NEXT:    [[CACHEIDX:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP2:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP3:%.*]] = load ptr, ptr [[TMP2]], align 8
; CHECK-NEXT:    [[TMP4:%.*]] = getelementptr inbounds ptr, ptr [[TMP3]], i32 0
; CHECK-NEXT:    [[CACHE_OUT_PTR:%.*]] = load ptr, ptr [[TMP4]], align 8
; CHECK-NEXT:    [[CACHECELL:%.*]] = getelementptr inbounds [[CACHE_CELL0:%.*]], ptr [[CACHE_OUT_PTR]], i32 [[CACHEIDX]]
; CHECK-NEXT:    [[I10_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10246]], ptr [[I10_CACHEIDX]], align 4, !invariant.group [[META41:![0-9]+]]
; CHECK-NEXT:    [[I70_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70]], ptr [[I70_CACHEIDX]], align 8, !invariant.group [[META42:![0-9]+]]
; CHECK-NEXT:    [[I115_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 2
; CHECK-NEXT:    store i32 [[I115]], ptr [[I115_CACHEIDX]], align 4, !invariant.group [[META43:![0-9]+]]
; CHECK-NEXT:    [[I114_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I114]], ptr [[I114_CACHEIDX]], align 4, !invariant.group [[META44:![0-9]+]]
; CHECK-NEXT:    [[I113_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 4
; CHECK-NEXT:    store i32 2, ptr [[I113_CACHEIDX]], align 4, !invariant.group [[META45:![0-9]+]]
; CHECK-NEXT:    [[I112_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I112]], ptr [[I112_CACHEIDX]], align 8, !invariant.group [[META46:![0-9]+]]
; CHECK-NEXT:    [[I111_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I111]], ptr [[I111_CACHEIDX]], align 8, !invariant.group [[META47:![0-9]+]]
; CHECK-NEXT:    [[I110_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 7
; CHECK-NEXT:    store ptr [[I110]], ptr [[I110_CACHEIDX]], align 8, !invariant.group [[META48:![0-9]+]]
; CHECK-NEXT:    [[I108_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 8
; CHECK-NEXT:    store ptr [[I108]], ptr [[I108_CACHEIDX]], align 8, !invariant.group [[META49:![0-9]+]]
; CHECK-NEXT:    [[I107_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 9
; CHECK-NEXT:    store ptr [[I107]], ptr [[I107_CACHEIDX]], align 8, !invariant.group [[META50:![0-9]+]]
; CHECK-NEXT:    [[I106_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 10
; CHECK-NEXT:    store i64 [[I106]], ptr [[I106_CACHEIDX]], align 8, !invariant.group [[META51:![0-9]+]]
; CHECK-NEXT:    [[I105_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 11
; CHECK-NEXT:    store i64 [[I105]], ptr [[I105_CACHEIDX]], align 8, !invariant.group [[META52:![0-9]+]]
; CHECK-NEXT:    [[I104_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 12
; CHECK-NEXT:    store i32 [[I104]], ptr [[I104_CACHEIDX]], align 4, !invariant.group [[META53:![0-9]+]]
; CHECK-NEXT:    [[I40_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 13
; CHECK-NEXT:    store i64 [[I40]], ptr [[I40_CACHEIDX]], align 8, !invariant.group [[META54:![0-9]+]]
; CHECK-NEXT:    [[I31_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 14
; CHECK-NEXT:    store i32 [[I31281]], ptr [[I31_CACHEIDX]], align 4, !invariant.group [[META55:![0-9]+]]
; CHECK-NEXT:    [[I30_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I30287]], ptr [[I30_CACHEIDX]], align 4, !invariant.group [[META56:![0-9]+]]
; CHECK-NEXT:    [[I5_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 16
; CHECK-NEXT:    store i32 [[I5293]], ptr [[I5_CACHEIDX]], align 4, !invariant.group [[META57:![0-9]+]]
; CHECK-NEXT:    [[I_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 17
; CHECK-NEXT:    store i32 [[I333]], ptr [[I_CACHEIDX]], align 4, !invariant.group [[META58:![0-9]+]]
; CHECK-NEXT:    [[I18_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 18
; CHECK-NEXT:    store i32 [[I18340]], ptr [[I18_CACHEIDX]], align 4, !invariant.group [[META59:![0-9]+]]
; CHECK-NEXT:    br label [[THREADEXIT:%.*]]
; CHECK:       bb139:
; CHECK-NEXT:    [[I140:%.*]] = phi i64 [ -1, [[BB103]] ], [ 0, [[BB116]] ], [ [[I131]], [[BB121]] ]
; CHECK-NEXT:    [[I141:%.*]] = zext nneg i32 [[I104]] to i64
; CHECK-NEXT:    [[I142:%.*]] = getelementptr inbounds i32, ptr [[I107]], i64 [[I141]]
; CHECK-NEXT:    [[I143:%.*]] = load i32, ptr [[I142]], align 4, !tbaa [[TBAA60:![0-9]+]]
; CHECK-NEXT:    [[I144:%.*]] = icmp sgt i32 [[I143]], 0
; CHECK-NEXT:    br i1 [[I144]], label [[BB145:%.*]], label [[BB302]]
; CHECK:       bb145:
; CHECK-NEXT:    [[I146:%.*]] = mul nsw i32 [[I115]], [[I104]]
; CHECK-NEXT:    [[I147:%.*]] = mul nsw i64 [[I140]], [[I105]]
; CHECK-NEXT:    [[I148:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I147]]
; CHECK-NEXT:    [[I149:%.*]] = add i64 [[I106]], -1
; CHECK-NEXT:    [[I150:%.*]] = icmp sgt i64 [[I106]], 2
; CHECK-NEXT:    [[I151:%.*]] = add nsw i32 [[I114]], -1
; CHECK-NEXT:    [[I152:%.*]] = sext i32 [[I151]] to i64
; CHECK-NEXT:    [[I153:%.*]] = icmp eq i64 [[I140]], [[I152]]
; CHECK-NEXT:    [[I154:%.*]] = add nsw i64 [[I140]], 1
; CHECK-NEXT:    [[I155:%.*]] = mul nsw i64 [[I154]], [[I105]]
; CHECK-NEXT:    [[I156:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I155]]
; CHECK-NEXT:    [[I157:%.*]] = trunc i64 [[I106]] to i32
; CHECK-NEXT:    [[I158:%.*]] = add i32 [[I157]], -1
; CHECK-NEXT:    br label [[BB159:%.*]]
; CHECK:       bb159:
; CHECK-NEXT:    [[I149463:%.*]] = phi i64 [ [[I149]], [[BB145]] ], [ [[I149463]], [[BB197:%.*]] ]
; CHECK-NEXT:    [[I156454:%.*]] = phi ptr [ [[I156]], [[BB145]] ], [ [[I156454]], [[BB197]] ]
; CHECK-NEXT:    [[I148452:%.*]] = phi ptr [ [[I148]], [[BB145]] ], [ [[I148452]], [[BB197]] ]
; CHECK-NEXT:    [[I153450:%.*]] = phi i1 [ [[I153]], [[BB145]] ], [ [[I153450]], [[BB197]] ]
; CHECK-NEXT:    [[I146448:%.*]] = phi i32 [ [[I146]], [[BB145]] ], [ [[I146448]], [[BB197]] ]
; CHECK-NEXT:    [[I142446:%.*]] = phi ptr [ [[I142]], [[BB145]] ], [ [[I142446]], [[BB197]] ]
; CHECK-NEXT:    [[I28442:%.*]] = phi ptr [ [[I28444]], [[BB145]] ], [ [[I28442]], [[BB197]] ]
; CHECK-NEXT:    [[I25435:%.*]] = phi ptr [ [[I25437]], [[BB145]] ], [ [[I25435]], [[BB197]] ]
; CHECK-NEXT:    [[I24428:%.*]] = phi ptr [ [[I24430]], [[BB145]] ], [ [[I24428]], [[BB197]] ]
; CHECK-NEXT:    [[I23421:%.*]] = phi ptr [ [[I23423]], [[BB145]] ], [ [[I23421]], [[BB197]] ]
; CHECK-NEXT:    [[I22414:%.*]] = phi ptr [ [[I22416]], [[BB145]] ], [ [[I22414]], [[BB197]] ]
; CHECK-NEXT:    [[I21407:%.*]] = phi ptr [ [[I21409]], [[BB145]] ], [ [[I21407]], [[BB197]] ]
; CHECK-NEXT:    [[I6399:%.*]] = phi i32 [ [[I6401]], [[BB145]] ], [ [[I6399]], [[BB197]] ]
; CHECK-NEXT:    [[I32394:%.*]] = phi i64 [ [[I32395]], [[BB145]] ], [ [[I32394]], [[BB197]] ]
; CHECK-NEXT:    [[I41390:%.*]] = phi i32 [ [[I41]], [[BB145]] ], [ [[I41390]], [[BB197]] ]
; CHECK-NEXT:    [[I75386:%.*]] = phi double [ [[I75]], [[BB145]] ], [ [[I75386]], [[BB197]] ]
; CHECK-NEXT:    [[I27381:%.*]] = phi ptr [ [[I27383]], [[BB145]] ], [ [[I27381]], [[BB197]] ]
; CHECK-NEXT:    [[I26374:%.*]] = phi ptr [ [[I26376]], [[BB145]] ], [ [[I26374]], [[BB197]] ]
; CHECK-NEXT:    [[I20367:%.*]] = phi ptr [ [[I20369]], [[BB145]] ], [ [[I20367]], [[BB197]] ]
; CHECK-NEXT:    [[I19360:%.*]] = phi ptr [ [[I19362]], [[BB145]] ], [ [[I19360]], [[BB197]] ]
; CHECK-NEXT:    [[I4352:%.*]] = phi ptr [ [[I4354]], [[BB145]] ], [ [[I4352]], [[BB197]] ]
; CHECK-NEXT:    [[I13346:%.*]] = phi i32 [ [[I13348]], [[BB145]] ], [ [[I13346]], [[BB197]] ]
; CHECK-NEXT:    [[I18338:%.*]] = phi i32 [ [[I18340]], [[BB145]] ], [ [[I18338]], [[BB197]] ]
; CHECK-NEXT:    [[I331:%.*]] = phi i32 [ [[I333]], [[BB145]] ], [ [[I331]], [[BB197]] ]
; CHECK-NEXT:    [[I5291:%.*]] = phi i32 [ [[I5293]], [[BB145]] ], [ [[I5291]], [[BB197]] ]
; CHECK-NEXT:    [[I30285:%.*]] = phi i32 [ [[I30287]], [[BB145]] ], [ [[I30285]], [[BB197]] ]
; CHECK-NEXT:    [[I31279:%.*]] = phi i32 [ [[I31281]], [[BB145]] ], [ [[I31279]], [[BB197]] ]
; CHECK-NEXT:    [[I40275:%.*]] = phi i64 [ [[I40]], [[BB145]] ], [ [[I40275]], [[BB197]] ]
; CHECK-NEXT:    [[I106269:%.*]] = phi i64 [ [[I106]], [[BB145]] ], [ [[I106269]], [[BB197]] ]
; CHECK-NEXT:    [[I108265:%.*]] = phi ptr [ [[I108]], [[BB145]] ], [ [[I108265]], [[BB197]] ]
; CHECK-NEXT:    [[I111261:%.*]] = phi ptr [ [[I111]], [[BB145]] ], [ [[I111261]], [[BB197]] ]
; CHECK-NEXT:    [[I112258:%.*]] = phi ptr [ [[I112]], [[BB145]] ], [ [[I112258]], [[BB197]] ]
; CHECK-NEXT:    [[I113255:%.*]] = phi i32 [ [[I113]], [[BB145]] ], [ 0, [[BB197]] ]
; CHECK-NEXT:    [[I70250:%.*]] = phi i64 [ [[I70]], [[BB145]] ], [ [[I70250]], [[BB197]] ]
; CHECK-NEXT:    [[I10244:%.*]] = phi i32 [ [[I10246]], [[BB145]] ], [ [[I10244]], [[BB197]] ]
; CHECK-NEXT:    [[I160:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I298:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I161:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I297:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I162:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I296:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I163:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I295:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I164:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I294:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I165:%.*]] = phi i32 [ 0, [[BB145]] ], [ [[I299:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I166:%.*]] = add nsw i32 [[I165]], [[I146448]]
; CHECK-NEXT:    [[I167:%.*]] = sext i32 [[I166]] to i64
; CHECK-NEXT:    [[I168:%.*]] = getelementptr inbounds i32, ptr [[I112258]], i64 [[I167]]
; CHECK-NEXT:    [[I169:%.*]] = load i32, ptr [[I168]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I170:%.*]] = getelementptr inbounds double, ptr [[I108265]], i64 [[I167]]
; CHECK-NEXT:    [[I171:%.*]] = load double, ptr [[I170]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    switch i32 [[I113255]], label [[CACHESTORE2:%.*]] [
; CHECK-NEXT:      i32 1, label [[CACHESTORE1:%.*]]
; CHECK-NEXT:      i32 0, label [[BB197]]
; CHECK-NEXT:    ]
; CHECK:       CacheStore1:
; CHECK-NEXT:    [[TMP5:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP6:%.*]] = load ptr, ptr [[TMP5]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR47:%.*]] = getelementptr inbounds i32, ptr [[TMP6]], i32 1
; CHECK-NEXT:    [[CACHEIDX48:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR47]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP7:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP8:%.*]] = load ptr, ptr [[TMP7]], align 8
; CHECK-NEXT:    [[TMP9:%.*]] = getelementptr inbounds ptr, ptr [[TMP8]], i32 1
; CHECK-NEXT:    [[CACHE_OUT_PTR49:%.*]] = load ptr, ptr [[TMP9]], align 8
; CHECK-NEXT:    [[CACHECELL50:%.*]] = getelementptr inbounds [[CACHE_CELL1:%.*]], ptr [[CACHE_OUT_PTR49]], i32 [[CACHEIDX48]]
; CHECK-NEXT:    [[I10_CACHEIDX51:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX51]], align 4, !invariant.group [[META61:![0-9]+]]
; CHECK-NEXT:    [[I70_CACHEIDX52:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX52]], align 8, !invariant.group [[META62:![0-9]+]]
; CHECK-NEXT:    [[I142_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX]], align 8, !invariant.group [[META63:![0-9]+]]
; CHECK-NEXT:    [[I146_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX]], align 4, !invariant.group [[META64:![0-9]+]]
; CHECK-NEXT:    [[I153_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX]], align 1, !invariant.group [[META65:![0-9]+]]
; CHECK-NEXT:    [[I148_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX]], align 8, !invariant.group [[META66:![0-9]+]]
; CHECK-NEXT:    [[I156_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX]], align 8, !invariant.group [[META67:![0-9]+]]
; CHECK-NEXT:    [[I171_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX]], align 8, !invariant.group [[META68:![0-9]+]]
; CHECK-NEXT:    [[I169_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX]], align 4, !invariant.group [[META69:![0-9]+]]
; CHECK-NEXT:    [[I165_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX]], align 4, !invariant.group [[META70:![0-9]+]]
; CHECK-NEXT:    [[I164_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX]], align 8, !invariant.group [[META71:![0-9]+]]
; CHECK-NEXT:    [[I163_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX]], align 8, !invariant.group [[META72:![0-9]+]]
; CHECK-NEXT:    [[I162_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX]], align 8, !invariant.group [[META73:![0-9]+]]
; CHECK-NEXT:    [[I161_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX]], align 8, !invariant.group [[META74:![0-9]+]]
; CHECK-NEXT:    [[I160_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX]], align 8, !invariant.group [[META75:![0-9]+]]
; CHECK-NEXT:    [[I113_CACHEIDX53:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 15
; CHECK-NEXT:    store i32 1, ptr [[I113_CACHEIDX53]], align 4, !invariant.group [[META76:![0-9]+]]
; CHECK-NEXT:    [[I112_CACHEIDX54:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX54]], align 8, !invariant.group [[META77:![0-9]+]]
; CHECK-NEXT:    [[I111_CACHEIDX55:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX55]], align 8, !invariant.group [[META78:![0-9]+]]
; CHECK-NEXT:    [[I108_CACHEIDX56:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX56]], align 8, !invariant.group [[META79:![0-9]+]]
; CHECK-NEXT:    [[I106_CACHEIDX57:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX57]], align 8, !invariant.group [[META80:![0-9]+]]
; CHECK-NEXT:    [[I40_CACHEIDX58:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX58]], align 8, !invariant.group [[META81:![0-9]+]]
; CHECK-NEXT:    [[I31_CACHEIDX59:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX59]], align 4, !invariant.group [[META82:![0-9]+]]
; CHECK-NEXT:    [[I30_CACHEIDX60:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX60]], align 4, !invariant.group [[META83:![0-9]+]]
; CHECK-NEXT:    [[I5_CACHEIDX61:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX61]], align 4, !invariant.group [[META84:![0-9]+]]
; CHECK-NEXT:    [[I_CACHEIDX62:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX62]], align 4, !invariant.group [[META85:![0-9]+]]
; CHECK-NEXT:    [[I18_CACHEIDX63:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX63]], align 4, !invariant.group [[META86:![0-9]+]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb197:
; CHECK-NEXT:    [[I198:%.*]] = sext i32 [[I169]] to i64
; CHECK-NEXT:    [[I199:%.*]] = getelementptr i32, ptr [[I148452]], i64 [[I198]]
; CHECK-NEXT:    [[I200:%.*]] = load i32, ptr [[I199]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I201:%.*]] = sext i32 [[I200]] to i64
; CHECK-NEXT:    [[I202:%.*]] = icmp eq i64 [[I149463]], [[I201]]
; CHECK-NEXT:    [[I203:%.*]] = mul nsw i64 [[I106269]], [[I198]]
; CHECK-NEXT:    [[I204:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT:%.*]], ptr [[I111261]], i64 [[I203]]
; CHECK-NEXT:    [[I205:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I204]], i64 [[I201]]
; CHECK-NEXT:    [[I206:%.*]] = select i1 [[I202]], i64 -48, i64 0
; CHECK-NEXT:    [[I207:%.*]] = getelementptr i8, ptr [[I205]], i64 [[I206]]
; CHECK-NEXT:    [[I257:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 48
; CHECK-NEXT:    [[I258:%.*]] = load double, ptr [[I257]], align 8, !tbaa [[TBAA87:![0-9]+]]
; CHECK-NEXT:    [[I259:%.*]] = fsub double [[I258]], [[I75386]]
; CHECK-NEXT:    [[I260:%.*]] = load double, ptr [[I207]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I261:%.*]] = fsub double [[I258]], [[I260]]
; CHECK-NEXT:    [[I262:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 56
; CHECK-NEXT:    [[I263:%.*]] = load double, ptr [[I262]], align 8, !tbaa [[TBAA89:![0-9]+]]
; CHECK-NEXT:    [[I264:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 8
; CHECK-NEXT:    [[I265:%.*]] = load double, ptr [[I264]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I266:%.*]] = fsub double [[I263]], [[I265]]
; CHECK-NEXT:    [[I267:%.*]] = fneg double [[I259]]
; CHECK-NEXT:    [[I268:%.*]] = fdiv double [[I267]], [[I261]]
; CHECK-NEXT:    [[I269:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I266]], double [[I263]])
; CHECK-NEXT:    [[I270:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 64
; CHECK-NEXT:    [[I271:%.*]] = load double, ptr [[I270]], align 8, !tbaa [[TBAA90:![0-9]+]]
; CHECK-NEXT:    [[I272:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 16
; CHECK-NEXT:    [[I273:%.*]] = load double, ptr [[I272]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I274:%.*]] = fsub double [[I271]], [[I273]]
; CHECK-NEXT:    [[I275:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I274]], double [[I271]])
; CHECK-NEXT:    [[I276:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 72
; CHECK-NEXT:    [[I277:%.*]] = load double, ptr [[I276]], align 8, !tbaa [[TBAA91:![0-9]+]]
; CHECK-NEXT:    [[I278:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 24
; CHECK-NEXT:    [[I279:%.*]] = load double, ptr [[I278]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I280:%.*]] = fsub double [[I277]], [[I279]]
; CHECK-NEXT:    [[I281:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I280]], double [[I277]])
; CHECK-NEXT:    [[I282:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 80
; CHECK-NEXT:    [[I283:%.*]] = load double, ptr [[I282]], align 8, !tbaa [[TBAA92:![0-9]+]]
; CHECK-NEXT:    [[I284:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 32
; CHECK-NEXT:    [[I285:%.*]] = load double, ptr [[I284]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I286:%.*]] = fsub double [[I283]], [[I285]]
; CHECK-NEXT:    [[I287:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I286]], double [[I283]])
; CHECK-NEXT:    [[I288:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 88
; CHECK-NEXT:    [[I289:%.*]] = load double, ptr [[I288]], align 8, !tbaa [[TBAA93:![0-9]+]]
; CHECK-NEXT:    [[I290:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 40
; CHECK-NEXT:    [[I291:%.*]] = load double, ptr [[I290]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I292:%.*]] = fsub double [[I289]], [[I291]]
; CHECK-NEXT:    [[I293:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I292]], double [[I289]])
; CHECK-NEXT:    [[I294]] = tail call double @llvm.fmuladd.f64(double [[I269]], double [[I171]], double [[I164]])
; CHECK-NEXT:    [[I295]] = tail call double @llvm.fmuladd.f64(double [[I275]], double [[I171]], double [[I163]])
; CHECK-NEXT:    [[I296]] = tail call double @llvm.fmuladd.f64(double [[I281]], double [[I171]], double [[I162]])
; CHECK-NEXT:    [[I297]] = tail call double @llvm.fmuladd.f64(double [[I287]], double [[I171]], double [[I161]])
; CHECK-NEXT:    [[I298]] = tail call double @llvm.fmuladd.f64(double [[I293]], double [[I171]], double [[I160]])
; CHECK-NEXT:    [[I299]] = add nuw nsw i32 [[I165]], 1
; CHECK-NEXT:    [[I300:%.*]] = load i32, ptr [[I142446]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I301:%.*]] = icmp slt i32 [[I299]], [[I300]]
; CHECK-NEXT:    br i1 [[I301]], label [[BB159]], label [[BB302]]
; CHECK:       CacheStore2:
; CHECK-NEXT:    [[TMP10:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP11:%.*]] = load ptr, ptr [[TMP10]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR129:%.*]] = getelementptr inbounds i32, ptr [[TMP11]], i32 2
; CHECK-NEXT:    [[CACHEIDX130:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR129]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP12:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP13:%.*]] = load ptr, ptr [[TMP12]], align 8
; CHECK-NEXT:    [[TMP14:%.*]] = getelementptr inbounds ptr, ptr [[TMP13]], i32 2
; CHECK-NEXT:    [[CACHE_OUT_PTR131:%.*]] = load ptr, ptr [[TMP14]], align 8
; CHECK-NEXT:    [[CACHECELL132:%.*]] = getelementptr inbounds [[CACHE_CELL2:%.*]], ptr [[CACHE_OUT_PTR131]], i32 [[CACHEIDX130]]
; CHECK-NEXT:    [[I10_CACHEIDX133:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX133]], align 4, !invariant.group [[META94:![0-9]+]]
; CHECK-NEXT:    [[I70_CACHEIDX134:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX134]], align 8, !invariant.group [[META95:![0-9]+]]
; CHECK-NEXT:    [[I142_CACHEIDX135:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX135]], align 8, !invariant.group [[META96:![0-9]+]]
; CHECK-NEXT:    [[I146_CACHEIDX136:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX136]], align 4, !invariant.group [[META97:![0-9]+]]
; CHECK-NEXT:    [[I153_CACHEIDX137:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX137]], align 1, !invariant.group [[META98:![0-9]+]]
; CHECK-NEXT:    [[I148_CACHEIDX138:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX138]], align 8, !invariant.group [[META99:![0-9]+]]
; CHECK-NEXT:    [[I156_CACHEIDX139:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX139]], align 8, !invariant.group [[META100:![0-9]+]]
; CHECK-NEXT:    [[I171_CACHEIDX140:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX140]], align 8, !invariant.group [[META101:![0-9]+]]
; CHECK-NEXT:    [[I169_CACHEIDX141:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX141]], align 4, !invariant.group [[META102:![0-9]+]]
; CHECK-NEXT:    [[I165_CACHEIDX142:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX142]], align 4, !invariant.group [[META103:![0-9]+]]
; CHECK-NEXT:    [[I164_CACHEIDX143:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX143]], align 8, !invariant.group [[META104:![0-9]+]]
; CHECK-NEXT:    [[I163_CACHEIDX144:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX144]], align 8, !invariant.group [[META105:![0-9]+]]
; CHECK-NEXT:    [[I162_CACHEIDX145:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX145]], align 8, !invariant.group [[META106:![0-9]+]]
; CHECK-NEXT:    [[I161_CACHEIDX146:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX146]], align 8, !invariant.group [[META107:![0-9]+]]
; CHECK-NEXT:    [[I160_CACHEIDX147:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX147]], align 8, !invariant.group [[META108:![0-9]+]]
; CHECK-NEXT:    [[I113_CACHEIDX148:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I113255]], ptr [[I113_CACHEIDX148]], align 4, !invariant.group [[META109:![0-9]+]]
; CHECK-NEXT:    [[I112_CACHEIDX149:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX149]], align 8, !invariant.group [[META110:![0-9]+]]
; CHECK-NEXT:    [[I111_CACHEIDX150:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX150]], align 8, !invariant.group [[META111:![0-9]+]]
; CHECK-NEXT:    [[I108_CACHEIDX151:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX151]], align 8, !invariant.group [[META112:![0-9]+]]
; CHECK-NEXT:    [[I106_CACHEIDX152:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX152]], align 8, !invariant.group [[META113:![0-9]+]]
; CHECK-NEXT:    [[I40_CACHEIDX153:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX153]], align 8, !invariant.group [[META114:![0-9]+]]
; CHECK-NEXT:    [[I31_CACHEIDX154:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX154]], align 4, !invariant.group [[META115:![0-9]+]]
; CHECK-NEXT:    [[I30_CACHEIDX155:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX155]], align 4, !invariant.group [[META116:![0-9]+]]
; CHECK-NEXT:    [[I5_CACHEIDX156:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX156]], align 4, !invariant.group [[META117:![0-9]+]]
; CHECK-NEXT:    [[I_CACHEIDX157:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX157]], align 4, !invariant.group [[META118:![0-9]+]]
; CHECK-NEXT:    [[I18_CACHEIDX158:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX158]], align 4, !invariant.group [[META119:![0-9]+]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb302:
; CHECK-NEXT:    [[I28441]] = phi ptr [ [[I28444]], [[BB139]] ], [ [[I28442]], [[BB197]] ]
; CHECK-NEXT:    [[I25434]] = phi ptr [ [[I25437]], [[BB139]] ], [ [[I25435]], [[BB197]] ]
; CHECK-NEXT:    [[I24427]] = phi ptr [ [[I24430]], [[BB139]] ], [ [[I24428]], [[BB197]] ]
; CHECK-NEXT:    [[I23420]] = phi ptr [ [[I23423]], [[BB139]] ], [ [[I23421]], [[BB197]] ]
; CHECK-NEXT:    [[I22413]] = phi ptr [ [[I22416]], [[BB139]] ], [ [[I22414]], [[BB197]] ]
; CHECK-NEXT:    [[I21406]] = phi ptr [ [[I21409]], [[BB139]] ], [ [[I21407]], [[BB197]] ]
; CHECK-NEXT:    [[I6398]] = phi i32 [ [[I6401]], [[BB139]] ], [ [[I6399]], [[BB197]] ]
; CHECK-NEXT:    [[I32393]] = phi i64 [ [[I32395]], [[BB139]] ], [ [[I32394]], [[BB197]] ]
; CHECK-NEXT:    [[I41389:%.*]] = phi i32 [ [[I41]], [[BB139]] ], [ [[I41390]], [[BB197]] ]
; CHECK-NEXT:    [[I27380]] = phi ptr [ [[I27383]], [[BB139]] ], [ [[I27381]], [[BB197]] ]
; CHECK-NEXT:    [[I26373]] = phi ptr [ [[I26376]], [[BB139]] ], [ [[I26374]], [[BB197]] ]
; CHECK-NEXT:    [[I20366]] = phi ptr [ [[I20369]], [[BB139]] ], [ [[I20367]], [[BB197]] ]
; CHECK-NEXT:    [[I19359]] = phi ptr [ [[I19362]], [[BB139]] ], [ [[I19360]], [[BB197]] ]
; CHECK-NEXT:    [[I4351]] = phi ptr [ [[I4354]], [[BB139]] ], [ [[I4352]], [[BB197]] ]
; CHECK-NEXT:    [[I13345]] = phi i32 [ [[I13348]], [[BB139]] ], [ [[I13346]], [[BB197]] ]
; CHECK-NEXT:    [[I18337]] = phi i32 [ [[I18340]], [[BB139]] ], [ [[I18338]], [[BB197]] ]
; CHECK-NEXT:    [[I330]] = phi i32 [ [[I333]], [[BB139]] ], [ [[I331]], [[BB197]] ]
; CHECK-NEXT:    [[I5290]] = phi i32 [ [[I5293]], [[BB139]] ], [ [[I5291]], [[BB197]] ]
; CHECK-NEXT:    [[I30284]] = phi i32 [ [[I30287]], [[BB139]] ], [ [[I30285]], [[BB197]] ]
; CHECK-NEXT:    [[I31278]] = phi i32 [ [[I31281]], [[BB139]] ], [ [[I31279]], [[BB197]] ]
; CHECK-NEXT:    [[I40274:%.*]] = phi i64 [ [[I40]], [[BB139]] ], [ [[I40275]], [[BB197]] ]
; CHECK-NEXT:    [[I10243]] = phi i32 [ [[I10246]], [[BB139]] ], [ [[I10244]], [[BB197]] ]
; CHECK-NEXT:    [[I303:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I294]], [[BB197]] ]
; CHECK-NEXT:    [[I304:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I295]], [[BB197]] ]
; CHECK-NEXT:    [[I305:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I296]], [[BB197]] ]
; CHECK-NEXT:    [[I306:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I297]], [[BB197]] ]
; CHECK-NEXT:    [[I307:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I298]], [[BB197]] ]
; CHECK-NEXT:    [[I308:%.*]] = fcmp ogt double [[I303]], -1.000000e+00
; CHECK-NEXT:    [[I309:%.*]] = select i1 [[I308]], double [[I303]], double -1.000000e+00
; CHECK-NEXT:    [[I310:%.*]] = fcmp ogt double [[I304]], [[I309]]
; CHECK-NEXT:    [[I311:%.*]] = select i1 [[I310]], double [[I304]], double [[I309]]
; CHECK-NEXT:    [[I312:%.*]] = fcmp ogt double [[I305]], [[I311]]
; CHECK-NEXT:    [[I313:%.*]] = select i1 [[I312]], double [[I305]], double [[I311]]
; CHECK-NEXT:    [[I314:%.*]] = fcmp ogt double [[I306]], [[I313]]
; CHECK-NEXT:    [[I315:%.*]] = select i1 [[I314]], double [[I306]], double [[I313]]
; CHECK-NEXT:    [[I316:%.*]] = select i1 [[I310]], i64 2, i64 1
; CHECK-NEXT:    [[I317:%.*]] = fcmp ogt double [[I307]], [[I315]]
; CHECK-NEXT:    [[I318:%.*]] = select i1 [[I312]], i64 3, i64 [[I316]]
; CHECK-NEXT:    [[I319:%.*]] = select i1 [[I314]], i64 4, i64 [[I318]]
; CHECK-NEXT:    [[I320:%.*]] = select i1 [[I317]], i64 5, i64 [[I319]]
; CHECK-NEXT:    [[I321:%.*]] = getelementptr inbounds i64, ptr [[ARG3]], i64 [[I40274]]
; CHECK-NEXT:    store i64 [[I320]], ptr [[I321]], align 8, !tbaa [[TBAA120:![0-9]+]]
; CHECK-NEXT:    [[I322:%.*]] = add nsw i32 [[I18337]], [[I41389]]
; CHECK-NEXT:    [[I323]] = sext i32 [[I322]] to i64
; CHECK-NEXT:    [[I324:%.*]] = icmp ugt i64 [[I323]], [[I32393]]
; CHECK-NEXT:    br i1 [[I324]], label [[BB325]], label [[BB39]]
; CHECK:       bb325:
; CHECK-NEXT:    [[I28443]] = phi ptr [ [[I28441]], [[BB302]] ], [ [[I28438]], [[BB35]] ], [ [[I28438]], [[BB29]] ]
; CHECK-NEXT:    [[I25436]] = phi ptr [ [[I25434]], [[BB302]] ], [ [[I25431]], [[BB35]] ], [ [[I25431]], [[BB29]] ]
; CHECK-NEXT:    [[I24429]] = phi ptr [ [[I24427]], [[BB302]] ], [ [[I24424]], [[BB35]] ], [ [[I24424]], [[BB29]] ]
; CHECK-NEXT:    [[I23422]] = phi ptr [ [[I23420]], [[BB302]] ], [ [[I23417]], [[BB35]] ], [ [[I23417]], [[BB29]] ]
; CHECK-NEXT:    [[I22415]] = phi ptr [ [[I22413]], [[BB302]] ], [ [[I22410]], [[BB35]] ], [ [[I22410]], [[BB29]] ]
; CHECK-NEXT:    [[I21408]] = phi ptr [ [[I21406]], [[BB302]] ], [ [[I21403]], [[BB35]] ], [ [[I21403]], [[BB29]] ]
; CHECK-NEXT:    [[I6400]] = phi i32 [ [[I6398]], [[BB302]] ], [ [[I6402]], [[BB35]] ], [ [[I6402]], [[BB29]] ]
; CHECK-NEXT:    [[I27382]] = phi ptr [ [[I27380]], [[BB302]] ], [ [[I27377]], [[BB35]] ], [ [[I27377]], [[BB29]] ]
; CHECK-NEXT:    [[I26375]] = phi ptr [ [[I26373]], [[BB302]] ], [ [[I26370]], [[BB35]] ], [ [[I26370]], [[BB29]] ]
; CHECK-NEXT:    [[I20368]] = phi ptr [ [[I20366]], [[BB302]] ], [ [[I20363]], [[BB35]] ], [ [[I20363]], [[BB29]] ]
; CHECK-NEXT:    [[I19361]] = phi ptr [ [[I19359]], [[BB302]] ], [ [[I19356]], [[BB35]] ], [ [[I19356]], [[BB29]] ]
; CHECK-NEXT:    [[I4353]] = phi ptr [ [[I4351]], [[BB302]] ], [ [[I4355]], [[BB35]] ], [ [[I4355]], [[BB29]] ]
; CHECK-NEXT:    [[I13347]] = phi i32 [ [[I13345]], [[BB302]] ], [ [[I13344]], [[BB35]] ], [ [[I13344]], [[BB29]] ]
; CHECK-NEXT:    [[I18339]] = phi i32 [ [[I18337]], [[BB302]] ], [ [[I18341]], [[BB35]] ], [ [[I18341]], [[BB29]] ]
; CHECK-NEXT:    [[I332]] = phi i32 [ [[I330]], [[BB302]] ], [ [[I334]], [[BB35]] ], [ [[I334]], [[BB29]] ]
; CHECK-NEXT:    [[I5292]] = phi i32 [ [[I5290]], [[BB302]] ], [ [[I5294]], [[BB35]] ], [ [[I5294]], [[BB29]] ]
; CHECK-NEXT:    [[I30286:%.*]] = phi i32 [ [[I30284]], [[BB302]] ], [ [[I30]], [[BB35]] ], [ [[I30]], [[BB29]] ]
; CHECK-NEXT:    [[I31280:%.*]] = phi i32 [ [[I31278]], [[BB302]] ], [ [[I31]], [[BB35]] ], [ [[I31]], [[BB29]] ]
; CHECK-NEXT:    [[I10245]] = phi i32 [ [[I10243]], [[BB302]] ], [ [[I10247]], [[BB35]] ], [ [[I10247]], [[BB29]] ]
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I326]] = add nsw i32 [[I31280]], [[I13347]]
; CHECK-NEXT:    [[I327:%.*]] = add nsw i32 [[I30286]], [[I13347]]
; CHECK-NEXT:    [[I328]] = tail call i32 @llvm.smin.i32(i32 [[I327]], i32 [[I6400]])
; CHECK-NEXT:    [[I329:%.*]] = icmp slt i32 [[I326]], [[I5292]]
; CHECK-NEXT:    br i1 [[I329]], label [[BB29]], label [[BB330]]
; CHECK:       bb330:
; CHECK-NEXT:    ret void
; CHECK:       ThreadExit:
; CHECK-NEXT:    call void asm sideeffect "exit
; CHECK-NEXT:    unreachable
;
;
; CHECK-LABEL: define weak_odr protected void @__omp_offloading_run_event_based_simulation_contd_0(
; CHECK-SAME: ptr noalias noundef [[ARG:%.*]], ptr noundef nonnull align 8 dereferenceable(64) [[ARG1:%.*]], ptr noundef nonnull align 8 dereferenceable(112) [[ARG2:%.*]], ptr noundef [[ARG3:%.*]]) local_unnamed_addr #[[ATTR3]] {
; CHECK-NEXT:  ContDispatchBB:
; CHECK-NEXT:    [[TMP0:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
; CHECK-NEXT:    [[TMP1:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ntid.x()
; CHECK-NEXT:    [[TMP2:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x()
; CHECK-NEXT:    [[TMP3:%.*]] = mul i32 [[TMP1]], [[TMP2]]
; CHECK-NEXT:    [[GTID:%.*]] = add i32 [[TMP0]], [[TMP3]]
; CHECK-NEXT:    [[TMP4:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0:%.*]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP5:%.*]] = load ptr, ptr [[TMP4]], align 8
; CHECK-NEXT:    [[CONTCOUNT_IN_PTR:%.*]] = getelementptr inbounds i32, ptr [[TMP5]], i32 3
; CHECK-NEXT:    [[CONTCOUNT_IN:%.*]] = load i32, ptr [[CONTCOUNT_IN_PTR]], align 4
; CHECK-NEXT:    [[MASKTHREAD:%.*]] = icmp ult i32 [[GTID]], [[CONTCOUNT_IN]]
; CHECK-NEXT:    br i1 [[MASKTHREAD]], label [[CACHEREMAT0:%.*]], label [[THREADEXIT:%.*]]
; CHECK:       bb35:
; CHECK-NEXT:    [[I36:%.*]] = add nsw i32 [[I326_BB29:%.*]], [[I332:%.*]]
; CHECK-NEXT:    [[I37:%.*]] = sext i32 [[I36]] to i64
; CHECK-NEXT:    [[I38:%.*]] = icmp ugt i64 [[I37]], [[I32:%.*]]
; CHECK-NEXT:    br i1 [[I38]], label [[BB325:%.*]], label [[BB39:%.*]]
; CHECK:       bb39:
; CHECK-NEXT:    [[I28444:%.*]] = phi ptr [ [[I28443:%.*]], [[BB35:%.*]] ], [ [[I28441:%.*]], [[BB302:%.*]] ]
; CHECK-NEXT:    [[I25437:%.*]] = phi ptr [ [[I25436:%.*]], [[BB35]] ], [ [[I25434:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I24430:%.*]] = phi ptr [ [[I24429:%.*]], [[BB35]] ], [ [[I24427:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I23423:%.*]] = phi ptr [ [[I23422:%.*]], [[BB35]] ], [ [[I23420:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I22416:%.*]] = phi ptr [ [[I22415:%.*]], [[BB35]] ], [ [[I22413:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I21409:%.*]] = phi ptr [ [[I21408:%.*]], [[BB35]] ], [ [[I21406:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I6401:%.*]] = phi i32 [ [[I6400:%.*]], [[BB35]] ], [ [[I6398:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I32395:%.*]] = phi i64 [ [[I32]], [[BB35]] ], [ [[I32393:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I27383:%.*]] = phi ptr [ [[I27382:%.*]], [[BB35]] ], [ [[I27380:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I26376:%.*]] = phi ptr [ [[I26375:%.*]], [[BB35]] ], [ [[I26373:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I20369:%.*]] = phi ptr [ [[I20368:%.*]], [[BB35]] ], [ [[I20366:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I19362:%.*]] = phi ptr [ [[I19361:%.*]], [[BB35]] ], [ [[I19359:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I4354:%.*]] = phi ptr [ [[I4353:%.*]], [[BB35]] ], [ [[I4351:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I13348:%.*]] = phi i32 [ [[I13347:%.*]], [[BB35]] ], [ [[I13345:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I18340:%.*]] = phi i32 [ [[I18339:%.*]], [[BB35]] ], [ [[I18337:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I333:%.*]] = phi i32 [ [[I332]], [[BB35]] ], [ [[I330:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I5293:%.*]] = phi i32 [ [[I5292:%.*]], [[BB35]] ], [ [[I5290:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I30287:%.*]] = phi i32 [ [[I328_BB29:%.*]], [[BB35]] ], [ [[I30284:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I31281:%.*]] = phi i32 [ [[I326_BB29]], [[BB35]] ], [ [[I31278:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I10246:%.*]] = phi i32 [ [[I10245:%.*]], [[BB35]] ], [ [[I10243:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I40:%.*]] = phi i64 [ [[I37]], [[BB35]] ], [ [[I323:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I41:%.*]] = trunc i64 [[I40]] to i32
; CHECK-NEXT:    [[I42:%.*]] = shl nsw i32 [[I41]], 1
; CHECK-NEXT:    [[I43:%.*]] = sext i32 [[I42]] to i64
; CHECK-NEXT:    [[I44:%.*]] = and i64 [[I43]], 9223372036854775806
; CHECK-NEXT:    [[I45:%.*]] = icmp eq i64 [[I44]], 0
; CHECK-NEXT:    br i1 [[I45]], label [[BB69:%.*]], label [[BB46:%.*]]
; CHECK:       bb46:
; CHECK-NEXT:    [[I47:%.*]] = phi i64 [ 0, [[BB39]] ], [ [[I58:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I48:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I57:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I49:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I60:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I50:%.*]] = phi i64 [ 2806196910506780709, [[BB39]] ], [ [[I61:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I51:%.*]] = phi i64 [ [[I44]], [[BB39]] ], [ [[I62:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I52:%.*]] = and i64 [[I51]], 1
; CHECK-NEXT:    [[I53:%.*]] = icmp eq i64 [[I52]], 0
; CHECK-NEXT:    [[I54:%.*]] = mul i64 [[I50]], [[I47]]
; CHECK-NEXT:    [[I55:%.*]] = add i64 [[I54]], [[I49]]
; CHECK-NEXT:    [[I56:%.*]] = select i1 [[I53]], i64 1, i64 [[I50]]
; CHECK-NEXT:    [[I57]] = mul i64 [[I56]], [[I48]]
; CHECK-NEXT:    [[I58]] = select i1 [[I53]], i64 [[I47]], i64 [[I55]]
; CHECK-NEXT:    [[I59:%.*]] = add i64 [[I50]], 1
; CHECK-NEXT:    [[I60]] = mul i64 [[I59]], [[I49]]
; CHECK-NEXT:    [[I61]] = mul i64 [[I50]], [[I50]]
; CHECK-NEXT:    [[I62]] = lshr i64 [[I51]], 1
; CHECK-NEXT:    [[I63:%.*]] = icmp ult i64 [[I51]], 2
; CHECK-NEXT:    br i1 [[I63]], label [[BB64:%.*]], label [[BB46]]
; CHECK:       bb64:
; CHECK-NEXT:    [[I67:%.*]] = mul i64 [[I57]], 1070
; CHECK-NEXT:    [[I68:%.*]] = add i64 [[I67]], [[I58]]
; CHECK-NEXT:    br label [[BB69]]
; CHECK:       bb69:
; CHECK-NEXT:    [[I70:%.*]] = phi i64 [ [[I68]], [[BB64]] ], [ 1070, [[BB39]] ]
; CHECK-NEXT:    [[I71:%.*]] = mul i64 [[I70]], 2806196910506780709
; CHECK-NEXT:    [[I72:%.*]] = add i64 [[I71]], 1
; CHECK-NEXT:    [[I73:%.*]] = and i64 [[I72]], 9223372036854775807
; CHECK-NEXT:    [[I74:%.*]] = uitofp i64 [[I73]] to double
; CHECK-NEXT:    [[I75:%.*]] = fmul double [[I74]], 0x3C00000000000000
; CHECK-NEXT:    [[I76:%.*]] = mul i64 [[I72]], 2806196910506780709
; CHECK-NEXT:    [[I77:%.*]] = add i64 [[I76]], 1
; CHECK-NEXT:    [[I78:%.*]] = and i64 [[I77]], 9223372036854775807
; CHECK-NEXT:    [[I79:%.*]] = uitofp i64 [[I78]] to double
; CHECK-NEXT:    [[I80:%.*]] = fmul double [[I79]], 0x3C00000000000000
; CHECK-NEXT:    [[I81:%.*]] = fcmp uge double [[I80]], 5.200000e-02
; CHECK-NEXT:    br i1 [[I81]], label [[BB82:%.*]], label [[BB103:%.*]]
; CHECK:       bb82:
; CHECK-NEXT:    [[I83:%.*]] = fcmp uge double [[I80]], 3.270000e-01
; CHECK-NEXT:    br i1 [[I83]], label [[BB84:%.*]], label [[BB103]]
; CHECK:       bb84:
; CHECK-NEXT:    [[I85:%.*]] = fcmp uge double [[I80]], 4.610000e-01
; CHECK-NEXT:    br i1 [[I85]], label [[BB86:%.*]], label [[BB103]]
; CHECK:       bb86:
; CHECK-NEXT:    [[I87:%.*]] = fcmp uge double [[I80]], 0x3FE3AE147AE147AF
; CHECK-NEXT:    br i1 [[I87]], label [[BB88:%.*]], label [[BB103]]
; CHECK:       bb88:
; CHECK-NEXT:    [[I89:%.*]] = fcmp uge double [[I80]], 6.790000e-01
; CHECK-NEXT:    br i1 [[I89]], label [[BB90:%.*]], label [[BB103]]
; CHECK:       bb90:
; CHECK-NEXT:    [[I91:%.*]] = fcmp uge double [[I80]], 0x3FE7D70A3D70A3D8
; CHECK-NEXT:    br i1 [[I91]], label [[BB92:%.*]], label [[BB103]]
; CHECK:       bb92:
; CHECK-NEXT:    [[I93:%.*]] = fcmp uge double [[I80]], 8.000000e-01
; CHECK-NEXT:    br i1 [[I93]], label [[BB94:%.*]], label [[BB103]]
; CHECK:       bb94:
; CHECK-NEXT:    [[I95:%.*]] = fcmp uge double [[I80]], 8.080000e-01
; CHECK-NEXT:    br i1 [[I95]], label [[BB96:%.*]], label [[BB103]]
; CHECK:       bb96:
; CHECK-NEXT:    [[I97:%.*]] = fcmp uge double [[I80]], 0x3FEA5604189374BD
; CHECK-NEXT:    br i1 [[I97]], label [[BB98:%.*]], label [[BB103]]
; CHECK:       bb98:
; CHECK-NEXT:    [[I99:%.*]] = fcmp uge double [[I80]], 0x3FEB22D0E560418A
; CHECK-NEXT:    br i1 [[I99]], label [[BB100:%.*]], label [[BB103]]
; CHECK:       bb100:
; CHECK-NEXT:    [[I101:%.*]] = fcmp uge double [[I80]], 0x3FEB8D4FDF3B645B
; CHECK-NEXT:    br i1 [[I101]], label [[BB103_FROM_BB102:%.*]], label [[BB103]]
; CHECK:       bb103.from.bb102:
; CHECK-NEXT:    br label [[BB103]]
; CHECK:       bb103:
; CHECK-NEXT:    [[I104:%.*]] = phi i32 [ 0, [[BB103_FROM_BB102]] ], [ 1, [[BB69]] ], [ 2, [[BB82]] ], [ 3, [[BB84]] ], [ 4, [[BB86]] ], [ 5, [[BB88]] ], [ 6, [[BB90]] ], [ 7, [[BB92]] ], [ 8, [[BB94]] ], [ 9, [[BB96]] ], [ 10, [[BB98]] ], [ 11, [[BB100]] ]
; CHECK-NEXT:    [[I105:%.*]] = load i64, ptr [[I19362]], align 8, !tbaa [[TBAA27]]
; CHECK-NEXT:    [[I106:%.*]] = load i64, ptr [[I20369]], align 8, !tbaa [[TBAA28]]
; CHECK-NEXT:    [[I107:%.*]] = load ptr, ptr [[ARG2]], align 8, !tbaa [[TBAA29]]
; CHECK-NEXT:    [[I108:%.*]] = load ptr, ptr [[I21409]], align 8, !tbaa [[TBAA31]]
; CHECK-NEXT:    [[I109:%.*]] = load ptr, ptr [[I22416]], align 8, !tbaa [[TBAA32]]
; CHECK-NEXT:    [[I110:%.*]] = load ptr, ptr [[I23423]], align 8, !tbaa [[TBAA33]]
; CHECK-NEXT:    [[I111:%.*]] = load ptr, ptr [[I24430]], align 8, !tbaa [[TBAA34]]
; CHECK-NEXT:    [[I112:%.*]] = load ptr, ptr [[I25437]], align 8, !tbaa [[TBAA35]]
; CHECK-NEXT:    [[I113:%.*]] = load i32, ptr [[I26376]], align 8, !tbaa [[TBAA36]]
; CHECK-NEXT:    [[I114:%.*]] = load i32, ptr [[I27383]], align 4, !tbaa [[TBAA37]]
; CHECK-NEXT:    [[I115:%.*]] = load i32, ptr [[I28444]], align 4, !tbaa [[TBAA38]]
; CHECK-NEXT:    switch i32 [[I113]], label [[BB139:%.*]] [
; CHECK-NEXT:      i32 0, label [[BB116:%.*]]
; CHECK-NEXT:      i32 2, label [[CACHESTORE0:%.*]]
; CHECK-NEXT:    ]
; CHECK:       bb116:
; CHECK-NEXT:    [[I117:%.*]] = mul nsw i64 [[I106]], [[I105]]
; CHECK-NEXT:    [[I118:%.*]] = icmp sgt i64 [[I117]], 2
; CHECK-NEXT:    br i1 [[I118]], label [[BB119:%.*]], label [[BB139]]
; CHECK:       bb119:
; CHECK-NEXT:    [[I120:%.*]] = add nsw i64 [[I117]], -1
; CHECK-NEXT:    br label [[BB121:%.*]]
; CHECK:       bb121:
; CHECK-NEXT:    [[I122:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I132:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I123:%.*]] = phi i64 [ 0, [[BB119]] ], [ [[I131:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I124:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I130:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I125:%.*]] = lshr i64 [[I122]], 1
; CHECK-NEXT:    [[I126:%.*]] = add nuw nsw i64 [[I125]], [[I123]]
; CHECK-NEXT:    [[I127:%.*]] = getelementptr inbounds double, ptr [[I109]], i64 [[I126]]
; CHECK-NEXT:    [[I128:%.*]] = load double, ptr [[I127]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    [[I129:%.*]] = fcmp ogt double [[I128]], [[I75]]
; CHECK-NEXT:    [[I130]] = select i1 [[I129]], i64 [[I126]], i64 [[I124]]
; CHECK-NEXT:    [[I131]] = select i1 [[I129]], i64 [[I123]], i64 [[I126]]
; CHECK-NEXT:    [[I132]] = sub nsw i64 [[I130]], [[I131]]
; CHECK-NEXT:    [[I133:%.*]] = icmp sgt i64 [[I132]], 1
; CHECK-NEXT:    br i1 [[I133]], label [[BB121]], label [[BB139]]
; CHECK:       CacheStore0:
; CHECK-NEXT:    [[TMP6:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP7:%.*]] = load ptr, ptr [[TMP6]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR:%.*]] = getelementptr inbounds i32, ptr [[TMP7]], i32 0
; CHECK-NEXT:    [[CACHEIDX:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP8:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP9:%.*]] = load ptr, ptr [[TMP8]], align 8
; CHECK-NEXT:    [[TMP10:%.*]] = getelementptr inbounds ptr, ptr [[TMP9]], i32 0
; CHECK-NEXT:    [[CACHE_OUT_PTR:%.*]] = load ptr, ptr [[TMP10]], align 8
; CHECK-NEXT:    [[CACHECELL:%.*]] = getelementptr inbounds [[CACHE_CELL0:%.*]], ptr [[CACHE_OUT_PTR]], i32 [[CACHEIDX]]
; CHECK-NEXT:    [[I10_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10246]], ptr [[I10_CACHEIDX]], align 4, !invariant.group [[META41]]
; CHECK-NEXT:    [[I70_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70]], ptr [[I70_CACHEIDX]], align 8, !invariant.group [[META42]]
; CHECK-NEXT:    [[I115_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 2
; CHECK-NEXT:    store i32 [[I115]], ptr [[I115_CACHEIDX]], align 4, !invariant.group [[META43]]
; CHECK-NEXT:    [[I114_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I114]], ptr [[I114_CACHEIDX]], align 4, !invariant.group [[META44]]
; CHECK-NEXT:    [[I113_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 4
; CHECK-NEXT:    store i32 2, ptr [[I113_CACHEIDX]], align 4, !invariant.group [[META45]]
; CHECK-NEXT:    [[I112_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I112]], ptr [[I112_CACHEIDX]], align 8, !invariant.group [[META46]]
; CHECK-NEXT:    [[I111_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I111]], ptr [[I111_CACHEIDX]], align 8, !invariant.group [[META47]]
; CHECK-NEXT:    [[I110_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 7
; CHECK-NEXT:    store ptr [[I110]], ptr [[I110_CACHEIDX]], align 8, !invariant.group [[META48]]
; CHECK-NEXT:    [[I108_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 8
; CHECK-NEXT:    store ptr [[I108]], ptr [[I108_CACHEIDX]], align 8, !invariant.group [[META49]]
; CHECK-NEXT:    [[I107_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 9
; CHECK-NEXT:    store ptr [[I107]], ptr [[I107_CACHEIDX]], align 8, !invariant.group [[META50]]
; CHECK-NEXT:    [[I106_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 10
; CHECK-NEXT:    store i64 [[I106]], ptr [[I106_CACHEIDX]], align 8, !invariant.group [[META51]]
; CHECK-NEXT:    [[I105_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 11
; CHECK-NEXT:    store i64 [[I105]], ptr [[I105_CACHEIDX]], align 8, !invariant.group [[META52]]
; CHECK-NEXT:    [[I104_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 12
; CHECK-NEXT:    store i32 [[I104]], ptr [[I104_CACHEIDX]], align 4, !invariant.group [[META53]]
; CHECK-NEXT:    [[I40_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 13
; CHECK-NEXT:    store i64 [[I40]], ptr [[I40_CACHEIDX]], align 8, !invariant.group [[META54]]
; CHECK-NEXT:    [[I31_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 14
; CHECK-NEXT:    store i32 [[I31281]], ptr [[I31_CACHEIDX]], align 4, !invariant.group [[META55]]
; CHECK-NEXT:    [[I30_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I30287]], ptr [[I30_CACHEIDX]], align 4, !invariant.group [[META56]]
; CHECK-NEXT:    [[I5_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 16
; CHECK-NEXT:    store i32 [[I5293]], ptr [[I5_CACHEIDX]], align 4, !invariant.group [[META57]]
; CHECK-NEXT:    [[I_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 17
; CHECK-NEXT:    store i32 [[I333]], ptr [[I_CACHEIDX]], align 4, !invariant.group [[META58]]
; CHECK-NEXT:    [[I18_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 18
; CHECK-NEXT:    store i32 [[I18340]], ptr [[I18_CACHEIDX]], align 4, !invariant.group [[META59]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       CacheRemat0:
; CHECK-NEXT:    [[TMP11:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP12:%.*]] = load ptr, ptr [[TMP11]], align 8
; CHECK-NEXT:    [[TMP13:%.*]] = getelementptr inbounds ptr, ptr [[TMP12]], i32 3
; CHECK-NEXT:    [[CACHE_IN_PTR:%.*]] = load ptr, ptr [[TMP13]], align 8
; CHECK-NEXT:    [[CACHECELL27:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHE_IN_PTR]], i32 [[GTID]]
; CHECK-NEXT:    [[I10_CACHEIDX28:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 0
; CHECK-NEXT:    [[I10_CACHE:%.*]] = load i32, ptr [[I10_CACHEIDX28]], align 4, !invariant.group [[META41]]
; CHECK-NEXT:    [[I70_CACHEIDX29:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 1
; CHECK-NEXT:    [[I70_CACHE:%.*]] = load i64, ptr [[I70_CACHEIDX29]], align 8, !invariant.group [[META42]]
; CHECK-NEXT:    [[I115_CACHEIDX30:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 2
; CHECK-NEXT:    [[I115_CACHE:%.*]] = load i32, ptr [[I115_CACHEIDX30]], align 4, !invariant.group [[META43]]
; CHECK-NEXT:    [[I114_CACHEIDX31:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 3
; CHECK-NEXT:    [[I114_CACHE:%.*]] = load i32, ptr [[I114_CACHEIDX31]], align 4, !invariant.group [[META44]]
; CHECK-NEXT:    [[I113_CACHEIDX32:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 4
; CHECK-NEXT:    [[I113_CACHE:%.*]] = load i32, ptr [[I113_CACHEIDX32]], align 4, !invariant.group [[META45]]
; CHECK-NEXT:    [[I112_CACHEIDX33:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 5
; CHECK-NEXT:    [[I112_CACHE:%.*]] = load ptr, ptr [[I112_CACHEIDX33]], align 8, !invariant.group [[META46]]
; CHECK-NEXT:    [[I111_CACHEIDX34:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 6
; CHECK-NEXT:    [[I111_CACHE:%.*]] = load ptr, ptr [[I111_CACHEIDX34]], align 8, !invariant.group [[META47]]
; CHECK-NEXT:    [[I110_CACHEIDX35:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 7
; CHECK-NEXT:    [[I110_CACHE:%.*]] = load ptr, ptr [[I110_CACHEIDX35]], align 8, !invariant.group [[META48]]
; CHECK-NEXT:    [[I108_CACHEIDX36:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 8
; CHECK-NEXT:    [[I108_CACHE:%.*]] = load ptr, ptr [[I108_CACHEIDX36]], align 8, !invariant.group [[META49]]
; CHECK-NEXT:    [[I107_CACHEIDX37:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 9
; CHECK-NEXT:    [[I107_CACHE:%.*]] = load ptr, ptr [[I107_CACHEIDX37]], align 8, !invariant.group [[META50]]
; CHECK-NEXT:    [[I106_CACHEIDX38:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 10
; CHECK-NEXT:    [[I106_CACHE:%.*]] = load i64, ptr [[I106_CACHEIDX38]], align 8, !invariant.group [[META51]]
; CHECK-NEXT:    [[I105_CACHEIDX39:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 11
; CHECK-NEXT:    [[I105_CACHE:%.*]] = load i64, ptr [[I105_CACHEIDX39]], align 8, !invariant.group [[META52]]
; CHECK-NEXT:    [[I104_CACHEIDX40:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 12
; CHECK-NEXT:    [[I104_CACHE:%.*]] = load i32, ptr [[I104_CACHEIDX40]], align 4, !invariant.group [[META53]]
; CHECK-NEXT:    [[I40_CACHEIDX41:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 13
; CHECK-NEXT:    [[I40_CACHE:%.*]] = load i64, ptr [[I40_CACHEIDX41]], align 8, !invariant.group [[META54]]
; CHECK-NEXT:    [[I31_CACHEIDX42:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 14
; CHECK-NEXT:    [[I31_CACHE:%.*]] = load i32, ptr [[I31_CACHEIDX42]], align 4, !invariant.group [[META55]]
; CHECK-NEXT:    [[I30_CACHEIDX43:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 15
; CHECK-NEXT:    [[I30_CACHE:%.*]] = load i32, ptr [[I30_CACHEIDX43]], align 4, !invariant.group [[META56]]
; CHECK-NEXT:    [[I5_CACHEIDX44:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 16
; CHECK-NEXT:    [[I5_CACHE:%.*]] = load i32, ptr [[I5_CACHEIDX44]], align 4, !invariant.group [[META57]]
; CHECK-NEXT:    [[I_CACHEIDX45:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 17
; CHECK-NEXT:    [[I_CACHE:%.*]] = load i32, ptr [[I_CACHEIDX45]], align 4, !invariant.group [[META58]]
; CHECK-NEXT:    [[I18_CACHEIDX46:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL27]], i32 0, i32 18
; CHECK-NEXT:    [[I18_CACHE:%.*]] = load i32, ptr [[I18_CACHEIDX46]], align 4, !invariant.group [[META59]]
; CHECK-NEXT:    [[I13_RECOMPUTE:%.*]] = shl nsw i32 [[I10_CACHE]], 7
; CHECK-NEXT:    [[I4_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 24
; CHECK-NEXT:    [[I19_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 8
; CHECK-NEXT:    [[I20_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 16
; CHECK-NEXT:    [[I26_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 40
; CHECK-NEXT:    [[I27_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 44
; CHECK-NEXT:    [[I71_RECOMPUTE:%.*]] = mul i64 [[I70_CACHE]], 2806196910506780709
; CHECK-NEXT:    [[I72_RECOMPUTE:%.*]] = add i64 [[I71_RECOMPUTE]], 1
; CHECK-NEXT:    [[I73_RECOMPUTE:%.*]] = and i64 [[I72_RECOMPUTE]], 9223372036854775807
; CHECK-NEXT:    [[I74_RECOMPUTE:%.*]] = uitofp i64 [[I73_RECOMPUTE]] to double
; CHECK-NEXT:    [[I75_RECOMPUTE:%.*]] = fmul double [[I74_RECOMPUTE]], 0x3C00000000000000
; CHECK-NEXT:    [[I41_RECOMPUTE:%.*]] = trunc i64 [[I40_CACHE]] to i32
; CHECK-NEXT:    [[I32_RECOMPUTE:%.*]] = zext i32 [[I30_CACHE]] to i64
; CHECK-NEXT:    [[I6_RECOMPUTE:%.*]] = add nsw i32 [[I5_CACHE]], -1
; CHECK-NEXT:    [[I21_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 8
; CHECK-NEXT:    [[I22_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 24
; CHECK-NEXT:    [[I23_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 32
; CHECK-NEXT:    [[I24_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 40
; CHECK-NEXT:    [[I25_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 16
; CHECK-NEXT:    [[I28_RECOMPUTE:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 76
; CHECK-NEXT:    [[I135:%.*]] = sitofp i32 [[I114_CACHE]] to double
; CHECK-NEXT:    [[I136:%.*]] = fdiv double 1.000000e+00, [[I135]]
; CHECK-NEXT:    [[I137:%.*]] = fdiv double [[I75_RECOMPUTE]], [[I136]]
; CHECK-NEXT:    [[I138:%.*]] = fptosi double [[I137]] to i64
; CHECK-NEXT:    br label [[BB139]]
; CHECK:       bb139:
; CHECK-NEXT:    [[I28440:%.*]] = phi ptr [ [[I28_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I28444]], [[BB103]] ], [ [[I28444]], [[BB116]] ], [ [[I28444]], [[BB121]] ]
; CHECK-NEXT:    [[I25433:%.*]] = phi ptr [ [[I25_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I25437]], [[BB103]] ], [ [[I25437]], [[BB116]] ], [ [[I25437]], [[BB121]] ]
; CHECK-NEXT:    [[I24426:%.*]] = phi ptr [ [[I24_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I24430]], [[BB103]] ], [ [[I24430]], [[BB116]] ], [ [[I24430]], [[BB121]] ]
; CHECK-NEXT:    [[I23419:%.*]] = phi ptr [ [[I23_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I23423]], [[BB103]] ], [ [[I23423]], [[BB116]] ], [ [[I23423]], [[BB121]] ]
; CHECK-NEXT:    [[I22412:%.*]] = phi ptr [ [[I22_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I22416]], [[BB103]] ], [ [[I22416]], [[BB116]] ], [ [[I22416]], [[BB121]] ]
; CHECK-NEXT:    [[I21405:%.*]] = phi ptr [ [[I21_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I21409]], [[BB103]] ], [ [[I21409]], [[BB116]] ], [ [[I21409]], [[BB121]] ]
; CHECK-NEXT:    [[I6397:%.*]] = phi i32 [ [[I6_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I6401]], [[BB103]] ], [ [[I6401]], [[BB116]] ], [ [[I6401]], [[BB121]] ]
; CHECK-NEXT:    [[I32392:%.*]] = phi i64 [ [[I32_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I32395]], [[BB103]] ], [ [[I32395]], [[BB116]] ], [ [[I32395]], [[BB121]] ]
; CHECK-NEXT:    [[I41388:%.*]] = phi i32 [ [[I41_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I41]], [[BB103]] ], [ [[I41]], [[BB116]] ], [ [[I41]], [[BB121]] ]
; CHECK-NEXT:    [[I75385:%.*]] = phi double [ [[I75_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I75]], [[BB103]] ], [ [[I75]], [[BB116]] ], [ [[I75]], [[BB121]] ]
; CHECK-NEXT:    [[I27379:%.*]] = phi ptr [ [[I27_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I27383]], [[BB103]] ], [ [[I27383]], [[BB116]] ], [ [[I27383]], [[BB121]] ]
; CHECK-NEXT:    [[I26372:%.*]] = phi ptr [ [[I26_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I26376]], [[BB103]] ], [ [[I26376]], [[BB116]] ], [ [[I26376]], [[BB121]] ]
; CHECK-NEXT:    [[I20365:%.*]] = phi ptr [ [[I20_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I20369]], [[BB103]] ], [ [[I20369]], [[BB116]] ], [ [[I20369]], [[BB121]] ]
; CHECK-NEXT:    [[I19358:%.*]] = phi ptr [ [[I19_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I19362]], [[BB103]] ], [ [[I19362]], [[BB116]] ], [ [[I19362]], [[BB121]] ]
; CHECK-NEXT:    [[I4350:%.*]] = phi ptr [ [[I4_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I4354]], [[BB103]] ], [ [[I4354]], [[BB116]] ], [ [[I4354]], [[BB121]] ]
; CHECK-NEXT:    [[I13343:%.*]] = phi i32 [ [[I13_RECOMPUTE]], [[CACHEREMAT0]] ], [ [[I13348]], [[BB103]] ], [ [[I13348]], [[BB116]] ], [ [[I13348]], [[BB121]] ]
; CHECK-NEXT:    [[I18336:%.*]] = phi i32 [ [[I18_CACHE]], [[CACHEREMAT0]] ], [ [[I18340]], [[BB103]] ], [ [[I18340]], [[BB116]] ], [ [[I18340]], [[BB121]] ]
; CHECK-NEXT:    [[I325:%.*]] = phi i32 [ [[I_CACHE]], [[CACHEREMAT0]] ], [ [[I333]], [[BB103]] ], [ [[I333]], [[BB116]] ], [ [[I333]], [[BB121]] ]
; CHECK-NEXT:    [[I5289:%.*]] = phi i32 [ [[I5_CACHE]], [[CACHEREMAT0]] ], [ [[I5293]], [[BB103]] ], [ [[I5293]], [[BB116]] ], [ [[I5293]], [[BB121]] ]
; CHECK-NEXT:    [[I30283:%.*]] = phi i32 [ [[I30_CACHE]], [[CACHEREMAT0]] ], [ [[I30287]], [[BB103]] ], [ [[I30287]], [[BB116]] ], [ [[I30287]], [[BB121]] ]
; CHECK-NEXT:    [[I31277:%.*]] = phi i32 [ [[I31_CACHE]], [[CACHEREMAT0]] ], [ [[I31281]], [[BB103]] ], [ [[I31281]], [[BB116]] ], [ [[I31281]], [[BB121]] ]
; CHECK-NEXT:    [[I40273:%.*]] = phi i64 [ [[I40_CACHE]], [[CACHEREMAT0]] ], [ [[I40]], [[BB103]] ], [ [[I40]], [[BB116]] ], [ [[I40]], [[BB121]] ]
; CHECK-NEXT:    [[I104271:%.*]] = phi i32 [ [[I104_CACHE]], [[CACHEREMAT0]] ], [ [[I104]], [[BB103]] ], [ [[I104]], [[BB116]] ], [ [[I104]], [[BB121]] ]
; CHECK-NEXT:    [[I105270:%.*]] = phi i64 [ [[I105_CACHE]], [[CACHEREMAT0]] ], [ [[I105]], [[BB103]] ], [ [[I105]], [[BB116]] ], [ [[I105]], [[BB121]] ]
; CHECK-NEXT:    [[I106267:%.*]] = phi i64 [ [[I106_CACHE]], [[CACHEREMAT0]] ], [ [[I106]], [[BB103]] ], [ [[I106]], [[BB116]] ], [ [[I106]], [[BB121]] ]
; CHECK-NEXT:    [[I107266:%.*]] = phi ptr [ [[I107_CACHE]], [[CACHEREMAT0]] ], [ [[I107]], [[BB103]] ], [ [[I107]], [[BB116]] ], [ [[I107]], [[BB121]] ]
; CHECK-NEXT:    [[I108263:%.*]] = phi ptr [ [[I108_CACHE]], [[CACHEREMAT0]] ], [ [[I108]], [[BB103]] ], [ [[I108]], [[BB116]] ], [ [[I108]], [[BB121]] ]
; CHECK-NEXT:    [[I110262:%.*]] = phi ptr [ [[I110_CACHE]], [[CACHEREMAT0]] ], [ [[I110]], [[BB103]] ], [ [[I110]], [[BB116]] ], [ [[I110]], [[BB121]] ]
; CHECK-NEXT:    [[I111259:%.*]] = phi ptr [ [[I111_CACHE]], [[CACHEREMAT0]] ], [ [[I111]], [[BB103]] ], [ [[I111]], [[BB116]] ], [ [[I111]], [[BB121]] ]
; CHECK-NEXT:    [[I112256:%.*]] = phi ptr [ [[I112_CACHE]], [[CACHEREMAT0]] ], [ [[I112]], [[BB103]] ], [ [[I112]], [[BB116]] ], [ [[I112]], [[BB121]] ]
; CHECK-NEXT:    [[I113253:%.*]] = phi i32 [ [[I113_CACHE]], [[CACHEREMAT0]] ], [ [[I113]], [[BB103]] ], [ 0, [[BB116]] ], [ 0, [[BB121]] ]
; CHECK-NEXT:    [[I114252:%.*]] = phi i32 [ [[I114_CACHE]], [[CACHEREMAT0]] ], [ [[I114]], [[BB103]] ], [ [[I114]], [[BB116]] ], [ [[I114]], [[BB121]] ]
; CHECK-NEXT:    [[I115251:%.*]] = phi i32 [ [[I115_CACHE]], [[CACHEREMAT0]] ], [ [[I115]], [[BB103]] ], [ [[I115]], [[BB116]] ], [ [[I115]], [[BB121]] ]
; CHECK-NEXT:    [[I70249:%.*]] = phi i64 [ [[I70_CACHE]], [[CACHEREMAT0]] ], [ [[I70]], [[BB103]] ], [ [[I70]], [[BB116]] ], [ [[I70]], [[BB121]] ]
; CHECK-NEXT:    [[I10242:%.*]] = phi i32 [ [[I10_CACHE]], [[CACHEREMAT0]] ], [ [[I10246]], [[BB103]] ], [ [[I10246]], [[BB116]] ], [ [[I10246]], [[BB121]] ]
; CHECK-NEXT:    [[I140:%.*]] = phi i64 [ [[I138]], [[CACHEREMAT0]] ], [ -1, [[BB103]] ], [ 0, [[BB116]] ], [ [[I131]], [[BB121]] ]
; CHECK-NEXT:    [[I141:%.*]] = zext nneg i32 [[I104271]] to i64
; CHECK-NEXT:    [[I142:%.*]] = getelementptr inbounds i32, ptr [[I107266]], i64 [[I141]]
; CHECK-NEXT:    [[I143:%.*]] = load i32, ptr [[I142]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I144:%.*]] = icmp sgt i32 [[I143]], 0
; CHECK-NEXT:    br i1 [[I144]], label [[BB145:%.*]], label [[BB302]]
; CHECK:       bb145:
; CHECK-NEXT:    [[I146:%.*]] = mul nsw i32 [[I115251]], [[I104271]]
; CHECK-NEXT:    [[I147:%.*]] = mul nsw i64 [[I140]], [[I105270]]
; CHECK-NEXT:    [[I148:%.*]] = getelementptr i32, ptr [[I110262]], i64 [[I147]]
; CHECK-NEXT:    [[I149:%.*]] = add i64 [[I106267]], -1
; CHECK-NEXT:    [[I150:%.*]] = icmp sgt i64 [[I106267]], 2
; CHECK-NEXT:    [[I151:%.*]] = add nsw i32 [[I114252]], -1
; CHECK-NEXT:    [[I152:%.*]] = sext i32 [[I151]] to i64
; CHECK-NEXT:    [[I153:%.*]] = icmp eq i64 [[I140]], [[I152]]
; CHECK-NEXT:    [[I154:%.*]] = add nsw i64 [[I140]], 1
; CHECK-NEXT:    [[I155:%.*]] = mul nsw i64 [[I154]], [[I105270]]
; CHECK-NEXT:    [[I156:%.*]] = getelementptr i32, ptr [[I110262]], i64 [[I155]]
; CHECK-NEXT:    [[I157:%.*]] = trunc i64 [[I106267]] to i32
; CHECK-NEXT:    [[I158:%.*]] = add i32 [[I157]], -1
; CHECK-NEXT:    br label [[BB159:%.*]]
; CHECK:       bb159:
; CHECK-NEXT:    [[I149463:%.*]] = phi i64 [ [[I149]], [[BB145]] ], [ [[I149463]], [[BB197:%.*]] ]
; CHECK-NEXT:    [[I156454:%.*]] = phi ptr [ [[I156]], [[BB145]] ], [ [[I156454]], [[BB197]] ]
; CHECK-NEXT:    [[I148452:%.*]] = phi ptr [ [[I148]], [[BB145]] ], [ [[I148452]], [[BB197]] ]
; CHECK-NEXT:    [[I153450:%.*]] = phi i1 [ [[I153]], [[BB145]] ], [ [[I153450]], [[BB197]] ]
; CHECK-NEXT:    [[I146448:%.*]] = phi i32 [ [[I146]], [[BB145]] ], [ [[I146448]], [[BB197]] ]
; CHECK-NEXT:    [[I142446:%.*]] = phi ptr [ [[I142]], [[BB145]] ], [ [[I142446]], [[BB197]] ]
; CHECK-NEXT:    [[I28442:%.*]] = phi ptr [ [[I28440]], [[BB145]] ], [ [[I28442]], [[BB197]] ]
; CHECK-NEXT:    [[I25435:%.*]] = phi ptr [ [[I25433]], [[BB145]] ], [ [[I25435]], [[BB197]] ]
; CHECK-NEXT:    [[I24428:%.*]] = phi ptr [ [[I24426]], [[BB145]] ], [ [[I24428]], [[BB197]] ]
; CHECK-NEXT:    [[I23421:%.*]] = phi ptr [ [[I23419]], [[BB145]] ], [ [[I23421]], [[BB197]] ]
; CHECK-NEXT:    [[I22414:%.*]] = phi ptr [ [[I22412]], [[BB145]] ], [ [[I22414]], [[BB197]] ]
; CHECK-NEXT:    [[I21407:%.*]] = phi ptr [ [[I21405]], [[BB145]] ], [ [[I21407]], [[BB197]] ]
; CHECK-NEXT:    [[I6399:%.*]] = phi i32 [ [[I6397]], [[BB145]] ], [ [[I6399]], [[BB197]] ]
; CHECK-NEXT:    [[I32394:%.*]] = phi i64 [ [[I32392]], [[BB145]] ], [ [[I32394]], [[BB197]] ]
; CHECK-NEXT:    [[I41390:%.*]] = phi i32 [ [[I41388]], [[BB145]] ], [ [[I41390]], [[BB197]] ]
; CHECK-NEXT:    [[I75386:%.*]] = phi double [ [[I75385]], [[BB145]] ], [ [[I75386]], [[BB197]] ]
; CHECK-NEXT:    [[I27381:%.*]] = phi ptr [ [[I27379]], [[BB145]] ], [ [[I27381]], [[BB197]] ]
; CHECK-NEXT:    [[I26374:%.*]] = phi ptr [ [[I26372]], [[BB145]] ], [ [[I26374]], [[BB197]] ]
; CHECK-NEXT:    [[I20367:%.*]] = phi ptr [ [[I20365]], [[BB145]] ], [ [[I20367]], [[BB197]] ]
; CHECK-NEXT:    [[I19360:%.*]] = phi ptr [ [[I19358]], [[BB145]] ], [ [[I19360]], [[BB197]] ]
; CHECK-NEXT:    [[I4352:%.*]] = phi ptr [ [[I4350]], [[BB145]] ], [ [[I4352]], [[BB197]] ]
; CHECK-NEXT:    [[I13346:%.*]] = phi i32 [ [[I13343]], [[BB145]] ], [ [[I13346]], [[BB197]] ]
; CHECK-NEXT:    [[I18338:%.*]] = phi i32 [ [[I18336]], [[BB145]] ], [ [[I18338]], [[BB197]] ]
; CHECK-NEXT:    [[I331:%.*]] = phi i32 [ [[I325]], [[BB145]] ], [ [[I331]], [[BB197]] ]
; CHECK-NEXT:    [[I5291:%.*]] = phi i32 [ [[I5289]], [[BB145]] ], [ [[I5291]], [[BB197]] ]
; CHECK-NEXT:    [[I30285:%.*]] = phi i32 [ [[I30283]], [[BB145]] ], [ [[I30285]], [[BB197]] ]
; CHECK-NEXT:    [[I31279:%.*]] = phi i32 [ [[I31277]], [[BB145]] ], [ [[I31279]], [[BB197]] ]
; CHECK-NEXT:    [[I40275:%.*]] = phi i64 [ [[I40273]], [[BB145]] ], [ [[I40275]], [[BB197]] ]
; CHECK-NEXT:    [[I106269:%.*]] = phi i64 [ [[I106267]], [[BB145]] ], [ [[I106269]], [[BB197]] ]
; CHECK-NEXT:    [[I108265:%.*]] = phi ptr [ [[I108263]], [[BB145]] ], [ [[I108265]], [[BB197]] ]
; CHECK-NEXT:    [[I111261:%.*]] = phi ptr [ [[I111259]], [[BB145]] ], [ [[I111261]], [[BB197]] ]
; CHECK-NEXT:    [[I112258:%.*]] = phi ptr [ [[I112256]], [[BB145]] ], [ [[I112258]], [[BB197]] ]
; CHECK-NEXT:    [[I113255:%.*]] = phi i32 [ [[I113253]], [[BB145]] ], [ 0, [[BB197]] ]
; CHECK-NEXT:    [[I70250:%.*]] = phi i64 [ [[I70249]], [[BB145]] ], [ [[I70250]], [[BB197]] ]
; CHECK-NEXT:    [[I10244:%.*]] = phi i32 [ [[I10242]], [[BB145]] ], [ [[I10244]], [[BB197]] ]
; CHECK-NEXT:    [[I160:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I298:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I161:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I297:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I162:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I296:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I163:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I295:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I164:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I294:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I165:%.*]] = phi i32 [ 0, [[BB145]] ], [ [[I299:%.*]], [[BB197]] ]
; CHECK-NEXT:    [[I166:%.*]] = add nsw i32 [[I165]], [[I146448]]
; CHECK-NEXT:    [[I167:%.*]] = sext i32 [[I166]] to i64
; CHECK-NEXT:    [[I168:%.*]] = getelementptr inbounds i32, ptr [[I112258]], i64 [[I167]]
; CHECK-NEXT:    [[I169:%.*]] = load i32, ptr [[I168]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I170:%.*]] = getelementptr inbounds double, ptr [[I108265]], i64 [[I167]]
; CHECK-NEXT:    [[I171:%.*]] = load double, ptr [[I170]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    switch i32 [[I113255]], label [[CACHESTORE2:%.*]] [
; CHECK-NEXT:      i32 1, label [[CACHESTORE1:%.*]]
; CHECK-NEXT:      i32 0, label [[BB197]]
; CHECK-NEXT:    ]
; CHECK:       CacheStore1:
; CHECK-NEXT:    [[TMP14:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP15:%.*]] = load ptr, ptr [[TMP14]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR47:%.*]] = getelementptr inbounds i32, ptr [[TMP15]], i32 1
; CHECK-NEXT:    [[CACHEIDX48:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR47]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP16:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP17:%.*]] = load ptr, ptr [[TMP16]], align 8
; CHECK-NEXT:    [[TMP18:%.*]] = getelementptr inbounds ptr, ptr [[TMP17]], i32 1
; CHECK-NEXT:    [[CACHE_OUT_PTR49:%.*]] = load ptr, ptr [[TMP18]], align 8
; CHECK-NEXT:    [[CACHECELL50:%.*]] = getelementptr inbounds [[CACHE_CELL1:%.*]], ptr [[CACHE_OUT_PTR49]], i32 [[CACHEIDX48]]
; CHECK-NEXT:    [[I10_CACHEIDX51:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX51]], align 4, !invariant.group [[META61]]
; CHECK-NEXT:    [[I70_CACHEIDX52:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX52]], align 8, !invariant.group [[META62]]
; CHECK-NEXT:    [[I142_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX]], align 8, !invariant.group [[META63]]
; CHECK-NEXT:    [[I146_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX]], align 4, !invariant.group [[META64]]
; CHECK-NEXT:    [[I153_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX]], align 1, !invariant.group [[META65]]
; CHECK-NEXT:    [[I148_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX]], align 8, !invariant.group [[META66]]
; CHECK-NEXT:    [[I156_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX]], align 8, !invariant.group [[META67]]
; CHECK-NEXT:    [[I171_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX]], align 8, !invariant.group [[META68]]
; CHECK-NEXT:    [[I169_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX]], align 4, !invariant.group [[META69]]
; CHECK-NEXT:    [[I165_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX]], align 4, !invariant.group [[META70]]
; CHECK-NEXT:    [[I164_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX]], align 8, !invariant.group [[META71]]
; CHECK-NEXT:    [[I163_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX]], align 8, !invariant.group [[META72]]
; CHECK-NEXT:    [[I162_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX]], align 8, !invariant.group [[META73]]
; CHECK-NEXT:    [[I161_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX]], align 8, !invariant.group [[META74]]
; CHECK-NEXT:    [[I160_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX]], align 8, !invariant.group [[META75]]
; CHECK-NEXT:    [[I113_CACHEIDX53:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 15
; CHECK-NEXT:    store i32 1, ptr [[I113_CACHEIDX53]], align 4, !invariant.group [[META76]]
; CHECK-NEXT:    [[I112_CACHEIDX54:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX54]], align 8, !invariant.group [[META77]]
; CHECK-NEXT:    [[I111_CACHEIDX55:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX55]], align 8, !invariant.group [[META78]]
; CHECK-NEXT:    [[I108_CACHEIDX56:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX56]], align 8, !invariant.group [[META79]]
; CHECK-NEXT:    [[I106_CACHEIDX57:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX57]], align 8, !invariant.group [[META80]]
; CHECK-NEXT:    [[I40_CACHEIDX58:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX58]], align 8, !invariant.group [[META81]]
; CHECK-NEXT:    [[I31_CACHEIDX59:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX59]], align 4, !invariant.group [[META82]]
; CHECK-NEXT:    [[I30_CACHEIDX60:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX60]], align 4, !invariant.group [[META83]]
; CHECK-NEXT:    [[I5_CACHEIDX61:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX61]], align 4, !invariant.group [[META84]]
; CHECK-NEXT:    [[I_CACHEIDX62:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX62]], align 4, !invariant.group [[META85]]
; CHECK-NEXT:    [[I18_CACHEIDX63:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX63]], align 4, !invariant.group [[META86]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb197:
; CHECK-NEXT:    [[I198:%.*]] = sext i32 [[I169]] to i64
; CHECK-NEXT:    [[I199:%.*]] = getelementptr i32, ptr [[I148452]], i64 [[I198]]
; CHECK-NEXT:    [[I200:%.*]] = load i32, ptr [[I199]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I201:%.*]] = sext i32 [[I200]] to i64
; CHECK-NEXT:    [[I202:%.*]] = icmp eq i64 [[I149463]], [[I201]]
; CHECK-NEXT:    [[I203:%.*]] = mul nsw i64 [[I106269]], [[I198]]
; CHECK-NEXT:    [[I204:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT:%.*]], ptr [[I111261]], i64 [[I203]]
; CHECK-NEXT:    [[I205:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I204]], i64 [[I201]]
; CHECK-NEXT:    [[I206:%.*]] = select i1 [[I202]], i64 -48, i64 0
; CHECK-NEXT:    [[I207:%.*]] = getelementptr i8, ptr [[I205]], i64 [[I206]]
; CHECK-NEXT:    [[I257:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 48
; CHECK-NEXT:    [[I258:%.*]] = load double, ptr [[I257]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I259:%.*]] = fsub double [[I258]], [[I75386]]
; CHECK-NEXT:    [[I260:%.*]] = load double, ptr [[I207]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I261:%.*]] = fsub double [[I258]], [[I260]]
; CHECK-NEXT:    [[I262:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 56
; CHECK-NEXT:    [[I263:%.*]] = load double, ptr [[I262]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I264:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 8
; CHECK-NEXT:    [[I265:%.*]] = load double, ptr [[I264]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I266:%.*]] = fsub double [[I263]], [[I265]]
; CHECK-NEXT:    [[I267:%.*]] = fneg double [[I259]]
; CHECK-NEXT:    [[I268:%.*]] = fdiv double [[I267]], [[I261]]
; CHECK-NEXT:    [[I269:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I266]], double [[I263]])
; CHECK-NEXT:    [[I270:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 64
; CHECK-NEXT:    [[I271:%.*]] = load double, ptr [[I270]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I272:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 16
; CHECK-NEXT:    [[I273:%.*]] = load double, ptr [[I272]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I274:%.*]] = fsub double [[I271]], [[I273]]
; CHECK-NEXT:    [[I275:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I274]], double [[I271]])
; CHECK-NEXT:    [[I276:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 72
; CHECK-NEXT:    [[I277:%.*]] = load double, ptr [[I276]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I278:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 24
; CHECK-NEXT:    [[I279:%.*]] = load double, ptr [[I278]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I280:%.*]] = fsub double [[I277]], [[I279]]
; CHECK-NEXT:    [[I281:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I280]], double [[I277]])
; CHECK-NEXT:    [[I282:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 80
; CHECK-NEXT:    [[I283:%.*]] = load double, ptr [[I282]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I284:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 32
; CHECK-NEXT:    [[I285:%.*]] = load double, ptr [[I284]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I286:%.*]] = fsub double [[I283]], [[I285]]
; CHECK-NEXT:    [[I287:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I286]], double [[I283]])
; CHECK-NEXT:    [[I288:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 88
; CHECK-NEXT:    [[I289:%.*]] = load double, ptr [[I288]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I290:%.*]] = getelementptr inbounds i8, ptr [[I207]], i64 40
; CHECK-NEXT:    [[I291:%.*]] = load double, ptr [[I290]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I292:%.*]] = fsub double [[I289]], [[I291]]
; CHECK-NEXT:    [[I293:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I292]], double [[I289]])
; CHECK-NEXT:    [[I294]] = tail call double @llvm.fmuladd.f64(double [[I269]], double [[I171]], double [[I164]])
; CHECK-NEXT:    [[I295]] = tail call double @llvm.fmuladd.f64(double [[I275]], double [[I171]], double [[I163]])
; CHECK-NEXT:    [[I296]] = tail call double @llvm.fmuladd.f64(double [[I281]], double [[I171]], double [[I162]])
; CHECK-NEXT:    [[I297]] = tail call double @llvm.fmuladd.f64(double [[I287]], double [[I171]], double [[I161]])
; CHECK-NEXT:    [[I298]] = tail call double @llvm.fmuladd.f64(double [[I293]], double [[I171]], double [[I160]])
; CHECK-NEXT:    [[I299]] = add nuw nsw i32 [[I165]], 1
; CHECK-NEXT:    [[I300:%.*]] = load i32, ptr [[I142446]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I301:%.*]] = icmp slt i32 [[I299]], [[I300]]
; CHECK-NEXT:    br i1 [[I301]], label [[BB159]], label [[BB302]]
; CHECK:       CacheStore2:
; CHECK-NEXT:    [[TMP19:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP20:%.*]] = load ptr, ptr [[TMP19]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR129:%.*]] = getelementptr inbounds i32, ptr [[TMP20]], i32 2
; CHECK-NEXT:    [[CACHEIDX130:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR129]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP21:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP22:%.*]] = load ptr, ptr [[TMP21]], align 8
; CHECK-NEXT:    [[TMP23:%.*]] = getelementptr inbounds ptr, ptr [[TMP22]], i32 2
; CHECK-NEXT:    [[CACHE_OUT_PTR131:%.*]] = load ptr, ptr [[TMP23]], align 8
; CHECK-NEXT:    [[CACHECELL132:%.*]] = getelementptr inbounds [[CACHE_CELL2:%.*]], ptr [[CACHE_OUT_PTR131]], i32 [[CACHEIDX130]]
; CHECK-NEXT:    [[I10_CACHEIDX133:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX133]], align 4, !invariant.group [[META94]]
; CHECK-NEXT:    [[I70_CACHEIDX134:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX134]], align 8, !invariant.group [[META95]]
; CHECK-NEXT:    [[I142_CACHEIDX135:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX135]], align 8, !invariant.group [[META96]]
; CHECK-NEXT:    [[I146_CACHEIDX136:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX136]], align 4, !invariant.group [[META97]]
; CHECK-NEXT:    [[I153_CACHEIDX137:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX137]], align 1, !invariant.group [[META98]]
; CHECK-NEXT:    [[I148_CACHEIDX138:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX138]], align 8, !invariant.group [[META99]]
; CHECK-NEXT:    [[I156_CACHEIDX139:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX139]], align 8, !invariant.group [[META100]]
; CHECK-NEXT:    [[I171_CACHEIDX140:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX140]], align 8, !invariant.group [[META101]]
; CHECK-NEXT:    [[I169_CACHEIDX141:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX141]], align 4, !invariant.group [[META102]]
; CHECK-NEXT:    [[I165_CACHEIDX142:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX142]], align 4, !invariant.group [[META103]]
; CHECK-NEXT:    [[I164_CACHEIDX143:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX143]], align 8, !invariant.group [[META104]]
; CHECK-NEXT:    [[I163_CACHEIDX144:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX144]], align 8, !invariant.group [[META105]]
; CHECK-NEXT:    [[I162_CACHEIDX145:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX145]], align 8, !invariant.group [[META106]]
; CHECK-NEXT:    [[I161_CACHEIDX146:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX146]], align 8, !invariant.group [[META107]]
; CHECK-NEXT:    [[I160_CACHEIDX147:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX147]], align 8, !invariant.group [[META108]]
; CHECK-NEXT:    [[I113_CACHEIDX148:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I113255]], ptr [[I113_CACHEIDX148]], align 4, !invariant.group [[META109]]
; CHECK-NEXT:    [[I112_CACHEIDX149:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX149]], align 8, !invariant.group [[META110]]
; CHECK-NEXT:    [[I111_CACHEIDX150:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX150]], align 8, !invariant.group [[META111]]
; CHECK-NEXT:    [[I108_CACHEIDX151:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX151]], align 8, !invariant.group [[META112]]
; CHECK-NEXT:    [[I106_CACHEIDX152:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX152]], align 8, !invariant.group [[META113]]
; CHECK-NEXT:    [[I40_CACHEIDX153:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX153]], align 8, !invariant.group [[META114]]
; CHECK-NEXT:    [[I31_CACHEIDX154:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX154]], align 4, !invariant.group [[META115]]
; CHECK-NEXT:    [[I30_CACHEIDX155:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX155]], align 4, !invariant.group [[META116]]
; CHECK-NEXT:    [[I5_CACHEIDX156:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX156]], align 4, !invariant.group [[META117]]
; CHECK-NEXT:    [[I_CACHEIDX157:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX157]], align 4, !invariant.group [[META118]]
; CHECK-NEXT:    [[I18_CACHEIDX158:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX158]], align 4, !invariant.group [[META119]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb302:
; CHECK-NEXT:    [[I28441]] = phi ptr [ [[I28440]], [[BB139]] ], [ [[I28442]], [[BB197]] ]
; CHECK-NEXT:    [[I25434]] = phi ptr [ [[I25433]], [[BB139]] ], [ [[I25435]], [[BB197]] ]
; CHECK-NEXT:    [[I24427]] = phi ptr [ [[I24426]], [[BB139]] ], [ [[I24428]], [[BB197]] ]
; CHECK-NEXT:    [[I23420]] = phi ptr [ [[I23419]], [[BB139]] ], [ [[I23421]], [[BB197]] ]
; CHECK-NEXT:    [[I22413]] = phi ptr [ [[I22412]], [[BB139]] ], [ [[I22414]], [[BB197]] ]
; CHECK-NEXT:    [[I21406]] = phi ptr [ [[I21405]], [[BB139]] ], [ [[I21407]], [[BB197]] ]
; CHECK-NEXT:    [[I6398]] = phi i32 [ [[I6397]], [[BB139]] ], [ [[I6399]], [[BB197]] ]
; CHECK-NEXT:    [[I32393]] = phi i64 [ [[I32392]], [[BB139]] ], [ [[I32394]], [[BB197]] ]
; CHECK-NEXT:    [[I41389:%.*]] = phi i32 [ [[I41388]], [[BB139]] ], [ [[I41390]], [[BB197]] ]
; CHECK-NEXT:    [[I27380]] = phi ptr [ [[I27379]], [[BB139]] ], [ [[I27381]], [[BB197]] ]
; CHECK-NEXT:    [[I26373]] = phi ptr [ [[I26372]], [[BB139]] ], [ [[I26374]], [[BB197]] ]
; CHECK-NEXT:    [[I20366]] = phi ptr [ [[I20365]], [[BB139]] ], [ [[I20367]], [[BB197]] ]
; CHECK-NEXT:    [[I19359]] = phi ptr [ [[I19358]], [[BB139]] ], [ [[I19360]], [[BB197]] ]
; CHECK-NEXT:    [[I4351]] = phi ptr [ [[I4350]], [[BB139]] ], [ [[I4352]], [[BB197]] ]
; CHECK-NEXT:    [[I13345]] = phi i32 [ [[I13343]], [[BB139]] ], [ [[I13346]], [[BB197]] ]
; CHECK-NEXT:    [[I18337]] = phi i32 [ [[I18336]], [[BB139]] ], [ [[I18338]], [[BB197]] ]
; CHECK-NEXT:    [[I330]] = phi i32 [ [[I325]], [[BB139]] ], [ [[I331]], [[BB197]] ]
; CHECK-NEXT:    [[I5290]] = phi i32 [ [[I5289]], [[BB139]] ], [ [[I5291]], [[BB197]] ]
; CHECK-NEXT:    [[I30284]] = phi i32 [ [[I30283]], [[BB139]] ], [ [[I30285]], [[BB197]] ]
; CHECK-NEXT:    [[I31278]] = phi i32 [ [[I31277]], [[BB139]] ], [ [[I31279]], [[BB197]] ]
; CHECK-NEXT:    [[I40274:%.*]] = phi i64 [ [[I40273]], [[BB139]] ], [ [[I40275]], [[BB197]] ]
; CHECK-NEXT:    [[I10243]] = phi i32 [ [[I10242]], [[BB139]] ], [ [[I10244]], [[BB197]] ]
; CHECK-NEXT:    [[I303:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I294]], [[BB197]] ]
; CHECK-NEXT:    [[I304:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I295]], [[BB197]] ]
; CHECK-NEXT:    [[I305:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I296]], [[BB197]] ]
; CHECK-NEXT:    [[I306:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I297]], [[BB197]] ]
; CHECK-NEXT:    [[I307:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I298]], [[BB197]] ]
; CHECK-NEXT:    [[I308:%.*]] = fcmp ogt double [[I303]], -1.000000e+00
; CHECK-NEXT:    [[I309:%.*]] = select i1 [[I308]], double [[I303]], double -1.000000e+00
; CHECK-NEXT:    [[I310:%.*]] = fcmp ogt double [[I304]], [[I309]]
; CHECK-NEXT:    [[I311:%.*]] = select i1 [[I310]], double [[I304]], double [[I309]]
; CHECK-NEXT:    [[I312:%.*]] = fcmp ogt double [[I305]], [[I311]]
; CHECK-NEXT:    [[I313:%.*]] = select i1 [[I312]], double [[I305]], double [[I311]]
; CHECK-NEXT:    [[I314:%.*]] = fcmp ogt double [[I306]], [[I313]]
; CHECK-NEXT:    [[I315:%.*]] = select i1 [[I314]], double [[I306]], double [[I313]]
; CHECK-NEXT:    [[I316:%.*]] = select i1 [[I310]], i64 2, i64 1
; CHECK-NEXT:    [[I317:%.*]] = fcmp ogt double [[I307]], [[I315]]
; CHECK-NEXT:    [[I318:%.*]] = select i1 [[I312]], i64 3, i64 [[I316]]
; CHECK-NEXT:    [[I319:%.*]] = select i1 [[I314]], i64 4, i64 [[I318]]
; CHECK-NEXT:    [[I320:%.*]] = select i1 [[I317]], i64 5, i64 [[I319]]
; CHECK-NEXT:    [[I321:%.*]] = getelementptr inbounds i64, ptr [[ARG3]], i64 [[I40274]]
; CHECK-NEXT:    store i64 [[I320]], ptr [[I321]], align 8, !tbaa [[TBAA120]]
; CHECK-NEXT:    [[I322:%.*]] = add nsw i32 [[I18337]], [[I41389]]
; CHECK-NEXT:    [[I323]] = sext i32 [[I322]] to i64
; CHECK-NEXT:    [[I324:%.*]] = icmp ugt i64 [[I323]], [[I32393]]
; CHECK-NEXT:    br i1 [[I324]], label [[BB325]], label [[BB39]]
; CHECK:       bb325:
; CHECK-NEXT:    [[I28443]] = phi ptr [ [[I28441]], [[BB302]] ], [ [[I28443]], [[BB35]] ], [ [[I28443]], [[BB29_FROM_BB325:%.*]] ]
; CHECK-NEXT:    [[I25436]] = phi ptr [ [[I25434]], [[BB302]] ], [ [[I25436]], [[BB35]] ], [ [[I25436]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I24429]] = phi ptr [ [[I24427]], [[BB302]] ], [ [[I24429]], [[BB35]] ], [ [[I24429]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I23422]] = phi ptr [ [[I23420]], [[BB302]] ], [ [[I23422]], [[BB35]] ], [ [[I23422]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I22415]] = phi ptr [ [[I22413]], [[BB302]] ], [ [[I22415]], [[BB35]] ], [ [[I22415]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I21408]] = phi ptr [ [[I21406]], [[BB302]] ], [ [[I21408]], [[BB35]] ], [ [[I21408]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I6400]] = phi i32 [ [[I6398]], [[BB302]] ], [ [[I6400]], [[BB35]] ], [ [[I6400]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I27382]] = phi ptr [ [[I27380]], [[BB302]] ], [ [[I27382]], [[BB35]] ], [ [[I27382]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I26375]] = phi ptr [ [[I26373]], [[BB302]] ], [ [[I26375]], [[BB35]] ], [ [[I26375]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I20368]] = phi ptr [ [[I20366]], [[BB302]] ], [ [[I20368]], [[BB35]] ], [ [[I20368]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I19361]] = phi ptr [ [[I19359]], [[BB302]] ], [ [[I19361]], [[BB35]] ], [ [[I19361]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I4353]] = phi ptr [ [[I4351]], [[BB302]] ], [ [[I4353]], [[BB35]] ], [ [[I4353]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I13347]] = phi i32 [ [[I13345]], [[BB302]] ], [ [[I13347]], [[BB35]] ], [ [[I13347]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I18339]] = phi i32 [ [[I18337]], [[BB302]] ], [ [[I18339]], [[BB35]] ], [ [[I18339]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I332]] = phi i32 [ [[I330]], [[BB302]] ], [ [[I332]], [[BB35]] ], [ [[I332]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I5292]] = phi i32 [ [[I5290]], [[BB302]] ], [ [[I5292]], [[BB35]] ], [ [[I5292]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I30286:%.*]] = phi i32 [ [[I30284]], [[BB302]] ], [ [[I328_BB29]], [[BB35]] ], [ [[I328_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I31280:%.*]] = phi i32 [ [[I31278]], [[BB302]] ], [ [[I326_BB29]], [[BB35]] ], [ [[I326_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I10245]] = phi i32 [ [[I10243]], [[BB302]] ], [ [[I10245]], [[BB35]] ], [ [[I10245]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I326:%.*]] = add nsw i32 [[I31280]], [[I13347]]
; CHECK-NEXT:    [[I327:%.*]] = add nsw i32 [[I30286]], [[I13347]]
; CHECK-NEXT:    [[I328:%.*]] = tail call i32 @llvm.smin.i32(i32 [[I327]], i32 [[I6400]])
; CHECK-NEXT:    [[I329:%.*]] = icmp slt i32 [[I326]], [[I5292]]
; CHECK-NEXT:    br i1 [[I329]], label [[BB29_FROM_BB325]], label [[BB330:%.*]]
; CHECK:       bb29.from.bb325:
; CHECK-NEXT:    [[I326_BB29]] = phi i32 [ [[I326]], [[BB325]] ]
; CHECK-NEXT:    [[I328_BB29]] = phi i32 [ [[I328]], [[BB325]] ]
; CHECK-NEXT:    [[I32]] = zext i32 [[I328_BB29]] to i64
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I33:%.*]] = load i32, ptr [[I4353]], align 8, !tbaa [[TBAA19]]
; CHECK-NEXT:    [[I34:%.*]] = icmp sgt i32 [[I33]], 0
; CHECK-NEXT:    br i1 [[I34]], label [[BB35]], label [[BB325]]
; CHECK:       bb330:
; CHECK-NEXT:    ret void
; CHECK:       ThreadExit:
; CHECK-NEXT:    call void asm sideeffect "exit
; CHECK-NEXT:    unreachable
;
;
; CHECK-LABEL: define weak_odr protected void @__omp_offloading_run_event_based_simulation_contd_1(
; CHECK-SAME: ptr noalias noundef [[ARG:%.*]], ptr noundef nonnull align 8 dereferenceable(64) [[ARG1:%.*]], ptr noundef nonnull align 8 dereferenceable(112) [[ARG2:%.*]], ptr noundef [[ARG3:%.*]]) local_unnamed_addr #[[ATTR3]] {
; CHECK-NEXT:  ContDispatchBB:
; CHECK-NEXT:    [[TMP0:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
; CHECK-NEXT:    [[TMP1:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ntid.x()
; CHECK-NEXT:    [[TMP2:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x()
; CHECK-NEXT:    [[TMP3:%.*]] = mul i32 [[TMP1]], [[TMP2]]
; CHECK-NEXT:    [[GTID64:%.*]] = add i32 [[TMP0]], [[TMP3]]
; CHECK-NEXT:    [[TMP4:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0:%.*]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP5:%.*]] = load ptr, ptr [[TMP4]], align 8
; CHECK-NEXT:    [[CONTCOUNT_IN_PTR65:%.*]] = getelementptr inbounds i32, ptr [[TMP5]], i32 3
; CHECK-NEXT:    [[CONTCOUNT_IN66:%.*]] = load i32, ptr [[CONTCOUNT_IN_PTR65]], align 4
; CHECK-NEXT:    [[MASKTHREAD67:%.*]] = icmp ult i32 [[GTID64]], [[CONTCOUNT_IN66]]
; CHECK-NEXT:    br i1 [[MASKTHREAD67]], label [[CACHEREMAT1:%.*]], label [[THREADEXIT:%.*]]
; CHECK:       bb35:
; CHECK-NEXT:    [[I36:%.*]] = add nsw i32 [[I326_BB29:%.*]], [[I332:%.*]]
; CHECK-NEXT:    [[I37:%.*]] = sext i32 [[I36]] to i64
; CHECK-NEXT:    [[I38:%.*]] = icmp ugt i64 [[I37]], [[I32:%.*]]
; CHECK-NEXT:    br i1 [[I38]], label [[BB325:%.*]], label [[BB39:%.*]]
; CHECK:       bb39:
; CHECK-NEXT:    [[I28444:%.*]] = phi ptr [ [[I28443:%.*]], [[BB35:%.*]] ], [ [[I28441:%.*]], [[BB302:%.*]] ]
; CHECK-NEXT:    [[I25437:%.*]] = phi ptr [ [[I25436:%.*]], [[BB35]] ], [ [[I25434:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I24430:%.*]] = phi ptr [ [[I24429:%.*]], [[BB35]] ], [ [[I24427:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I23423:%.*]] = phi ptr [ [[I23422:%.*]], [[BB35]] ], [ [[I23420:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I22416:%.*]] = phi ptr [ [[I22415:%.*]], [[BB35]] ], [ [[I22413:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I21409:%.*]] = phi ptr [ [[I21408:%.*]], [[BB35]] ], [ [[I21406:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I6401:%.*]] = phi i32 [ [[I6400:%.*]], [[BB35]] ], [ [[I6398:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I32395:%.*]] = phi i64 [ [[I32]], [[BB35]] ], [ [[I32393:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I27383:%.*]] = phi ptr [ [[I27382:%.*]], [[BB35]] ], [ [[I27380:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I26376:%.*]] = phi ptr [ [[I26375:%.*]], [[BB35]] ], [ [[I26373:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I20369:%.*]] = phi ptr [ [[I20368:%.*]], [[BB35]] ], [ [[I20366:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I19362:%.*]] = phi ptr [ [[I19361:%.*]], [[BB35]] ], [ [[I19359:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I4354:%.*]] = phi ptr [ [[I4353:%.*]], [[BB35]] ], [ [[I4351:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I13348:%.*]] = phi i32 [ [[I13347:%.*]], [[BB35]] ], [ [[I13345:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I18340:%.*]] = phi i32 [ [[I18339:%.*]], [[BB35]] ], [ [[I18337:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I333:%.*]] = phi i32 [ [[I332]], [[BB35]] ], [ [[I330:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I5293:%.*]] = phi i32 [ [[I5292:%.*]], [[BB35]] ], [ [[I5290:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I30287:%.*]] = phi i32 [ [[I328_BB29:%.*]], [[BB35]] ], [ [[I30284:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I31281:%.*]] = phi i32 [ [[I326_BB29]], [[BB35]] ], [ [[I31278:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I10246:%.*]] = phi i32 [ [[I10245:%.*]], [[BB35]] ], [ [[I10243:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I40:%.*]] = phi i64 [ [[I37]], [[BB35]] ], [ [[I323:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I41:%.*]] = trunc i64 [[I40]] to i32
; CHECK-NEXT:    [[I42:%.*]] = shl nsw i32 [[I41]], 1
; CHECK-NEXT:    [[I43:%.*]] = sext i32 [[I42]] to i64
; CHECK-NEXT:    [[I44:%.*]] = and i64 [[I43]], 9223372036854775806
; CHECK-NEXT:    [[I45:%.*]] = icmp eq i64 [[I44]], 0
; CHECK-NEXT:    br i1 [[I45]], label [[BB69:%.*]], label [[BB46:%.*]]
; CHECK:       bb46:
; CHECK-NEXT:    [[I47:%.*]] = phi i64 [ 0, [[BB39]] ], [ [[I58:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I48:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I57:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I49:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I60:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I50:%.*]] = phi i64 [ 2806196910506780709, [[BB39]] ], [ [[I61:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I51:%.*]] = phi i64 [ [[I44]], [[BB39]] ], [ [[I62:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I52:%.*]] = and i64 [[I51]], 1
; CHECK-NEXT:    [[I53:%.*]] = icmp eq i64 [[I52]], 0
; CHECK-NEXT:    [[I54:%.*]] = mul i64 [[I50]], [[I47]]
; CHECK-NEXT:    [[I55:%.*]] = add i64 [[I54]], [[I49]]
; CHECK-NEXT:    [[I56:%.*]] = select i1 [[I53]], i64 1, i64 [[I50]]
; CHECK-NEXT:    [[I57]] = mul i64 [[I56]], [[I48]]
; CHECK-NEXT:    [[I58]] = select i1 [[I53]], i64 [[I47]], i64 [[I55]]
; CHECK-NEXT:    [[I59:%.*]] = add i64 [[I50]], 1
; CHECK-NEXT:    [[I60]] = mul i64 [[I59]], [[I49]]
; CHECK-NEXT:    [[I61]] = mul i64 [[I50]], [[I50]]
; CHECK-NEXT:    [[I62]] = lshr i64 [[I51]], 1
; CHECK-NEXT:    [[I63:%.*]] = icmp ult i64 [[I51]], 2
; CHECK-NEXT:    br i1 [[I63]], label [[BB64:%.*]], label [[BB46]]
; CHECK:       bb64:
; CHECK-NEXT:    [[I67:%.*]] = mul i64 [[I57]], 1070
; CHECK-NEXT:    [[I68:%.*]] = add i64 [[I67]], [[I58]]
; CHECK-NEXT:    br label [[BB69]]
; CHECK:       bb69:
; CHECK-NEXT:    [[I70:%.*]] = phi i64 [ [[I68]], [[BB64]] ], [ 1070, [[BB39]] ]
; CHECK-NEXT:    [[I71:%.*]] = mul i64 [[I70]], 2806196910506780709
; CHECK-NEXT:    [[I72:%.*]] = add i64 [[I71]], 1
; CHECK-NEXT:    [[I73:%.*]] = and i64 [[I72]], 9223372036854775807
; CHECK-NEXT:    [[I74:%.*]] = uitofp i64 [[I73]] to double
; CHECK-NEXT:    [[I75:%.*]] = fmul double [[I74]], 0x3C00000000000000
; CHECK-NEXT:    [[I76:%.*]] = mul i64 [[I72]], 2806196910506780709
; CHECK-NEXT:    [[I77:%.*]] = add i64 [[I76]], 1
; CHECK-NEXT:    [[I78:%.*]] = and i64 [[I77]], 9223372036854775807
; CHECK-NEXT:    [[I79:%.*]] = uitofp i64 [[I78]] to double
; CHECK-NEXT:    [[I80:%.*]] = fmul double [[I79]], 0x3C00000000000000
; CHECK-NEXT:    [[I81:%.*]] = fcmp uge double [[I80]], 5.200000e-02
; CHECK-NEXT:    br i1 [[I81]], label [[BB82:%.*]], label [[BB103:%.*]]
; CHECK:       bb82:
; CHECK-NEXT:    [[I83:%.*]] = fcmp uge double [[I80]], 3.270000e-01
; CHECK-NEXT:    br i1 [[I83]], label [[BB84:%.*]], label [[BB103]]
; CHECK:       bb84:
; CHECK-NEXT:    [[I85:%.*]] = fcmp uge double [[I80]], 4.610000e-01
; CHECK-NEXT:    br i1 [[I85]], label [[BB86:%.*]], label [[BB103]]
; CHECK:       bb86:
; CHECK-NEXT:    [[I87:%.*]] = fcmp uge double [[I80]], 0x3FE3AE147AE147AF
; CHECK-NEXT:    br i1 [[I87]], label [[BB88:%.*]], label [[BB103]]
; CHECK:       bb88:
; CHECK-NEXT:    [[I89:%.*]] = fcmp uge double [[I80]], 6.790000e-01
; CHECK-NEXT:    br i1 [[I89]], label [[BB90:%.*]], label [[BB103]]
; CHECK:       bb90:
; CHECK-NEXT:    [[I91:%.*]] = fcmp uge double [[I80]], 0x3FE7D70A3D70A3D8
; CHECK-NEXT:    br i1 [[I91]], label [[BB92:%.*]], label [[BB103]]
; CHECK:       bb92:
; CHECK-NEXT:    [[I93:%.*]] = fcmp uge double [[I80]], 8.000000e-01
; CHECK-NEXT:    br i1 [[I93]], label [[BB94:%.*]], label [[BB103]]
; CHECK:       bb94:
; CHECK-NEXT:    [[I95:%.*]] = fcmp uge double [[I80]], 8.080000e-01
; CHECK-NEXT:    br i1 [[I95]], label [[BB96:%.*]], label [[BB103]]
; CHECK:       bb96:
; CHECK-NEXT:    [[I97:%.*]] = fcmp uge double [[I80]], 0x3FEA5604189374BD
; CHECK-NEXT:    br i1 [[I97]], label [[BB98:%.*]], label [[BB103]]
; CHECK:       bb98:
; CHECK-NEXT:    [[I99:%.*]] = fcmp uge double [[I80]], 0x3FEB22D0E560418A
; CHECK-NEXT:    br i1 [[I99]], label [[BB100:%.*]], label [[BB103]]
; CHECK:       bb100:
; CHECK-NEXT:    [[I101:%.*]] = fcmp uge double [[I80]], 0x3FEB8D4FDF3B645B
; CHECK-NEXT:    br i1 [[I101]], label [[BB103_FROM_BB102:%.*]], label [[BB103]]
; CHECK:       bb103.from.bb102:
; CHECK-NEXT:    br label [[BB103]]
; CHECK:       bb103:
; CHECK-NEXT:    [[I104:%.*]] = phi i32 [ 0, [[BB103_FROM_BB102]] ], [ 1, [[BB69]] ], [ 2, [[BB82]] ], [ 3, [[BB84]] ], [ 4, [[BB86]] ], [ 5, [[BB88]] ], [ 6, [[BB90]] ], [ 7, [[BB92]] ], [ 8, [[BB94]] ], [ 9, [[BB96]] ], [ 10, [[BB98]] ], [ 11, [[BB100]] ]
; CHECK-NEXT:    [[I105:%.*]] = load i64, ptr [[I19362]], align 8, !tbaa [[TBAA27]]
; CHECK-NEXT:    [[I106:%.*]] = load i64, ptr [[I20369]], align 8, !tbaa [[TBAA28]]
; CHECK-NEXT:    [[I107:%.*]] = load ptr, ptr [[ARG2]], align 8, !tbaa [[TBAA29]]
; CHECK-NEXT:    [[I108:%.*]] = load ptr, ptr [[I21409]], align 8, !tbaa [[TBAA31]]
; CHECK-NEXT:    [[I109:%.*]] = load ptr, ptr [[I22416]], align 8, !tbaa [[TBAA32]]
; CHECK-NEXT:    [[I110:%.*]] = load ptr, ptr [[I23423]], align 8, !tbaa [[TBAA33]]
; CHECK-NEXT:    [[I111:%.*]] = load ptr, ptr [[I24430]], align 8, !tbaa [[TBAA34]]
; CHECK-NEXT:    [[I112:%.*]] = load ptr, ptr [[I25437]], align 8, !tbaa [[TBAA35]]
; CHECK-NEXT:    [[I113:%.*]] = load i32, ptr [[I26376]], align 8, !tbaa [[TBAA36]]
; CHECK-NEXT:    [[I114:%.*]] = load i32, ptr [[I27383]], align 4, !tbaa [[TBAA37]]
; CHECK-NEXT:    [[I115:%.*]] = load i32, ptr [[I28444]], align 4, !tbaa [[TBAA38]]
; CHECK-NEXT:    switch i32 [[I113]], label [[BB139:%.*]] [
; CHECK-NEXT:      i32 0, label [[BB116:%.*]]
; CHECK-NEXT:      i32 2, label [[CACHESTORE0:%.*]]
; CHECK-NEXT:    ]
; CHECK:       bb116:
; CHECK-NEXT:    [[I117:%.*]] = mul nsw i64 [[I106]], [[I105]]
; CHECK-NEXT:    [[I118:%.*]] = icmp sgt i64 [[I117]], 2
; CHECK-NEXT:    br i1 [[I118]], label [[BB119:%.*]], label [[BB139]]
; CHECK:       bb119:
; CHECK-NEXT:    [[I120:%.*]] = add nsw i64 [[I117]], -1
; CHECK-NEXT:    br label [[BB121:%.*]]
; CHECK:       bb121:
; CHECK-NEXT:    [[I122:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I132:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I123:%.*]] = phi i64 [ 0, [[BB119]] ], [ [[I131:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I124:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I130:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I125:%.*]] = lshr i64 [[I122]], 1
; CHECK-NEXT:    [[I126:%.*]] = add nuw nsw i64 [[I125]], [[I123]]
; CHECK-NEXT:    [[I127:%.*]] = getelementptr inbounds double, ptr [[I109]], i64 [[I126]]
; CHECK-NEXT:    [[I128:%.*]] = load double, ptr [[I127]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    [[I129:%.*]] = fcmp ogt double [[I128]], [[I75]]
; CHECK-NEXT:    [[I130]] = select i1 [[I129]], i64 [[I126]], i64 [[I124]]
; CHECK-NEXT:    [[I131]] = select i1 [[I129]], i64 [[I123]], i64 [[I126]]
; CHECK-NEXT:    [[I132]] = sub nsw i64 [[I130]], [[I131]]
; CHECK-NEXT:    [[I133:%.*]] = icmp sgt i64 [[I132]], 1
; CHECK-NEXT:    br i1 [[I133]], label [[BB121]], label [[BB139]]
; CHECK:       CacheStore0:
; CHECK-NEXT:    [[TMP6:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP7:%.*]] = load ptr, ptr [[TMP6]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR:%.*]] = getelementptr inbounds i32, ptr [[TMP7]], i32 0
; CHECK-NEXT:    [[CACHEIDX:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP8:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP9:%.*]] = load ptr, ptr [[TMP8]], align 8
; CHECK-NEXT:    [[TMP10:%.*]] = getelementptr inbounds ptr, ptr [[TMP9]], i32 0
; CHECK-NEXT:    [[CACHE_OUT_PTR:%.*]] = load ptr, ptr [[TMP10]], align 8
; CHECK-NEXT:    [[CACHECELL:%.*]] = getelementptr inbounds [[CACHE_CELL0:%.*]], ptr [[CACHE_OUT_PTR]], i32 [[CACHEIDX]]
; CHECK-NEXT:    [[I10_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10246]], ptr [[I10_CACHEIDX]], align 4, !invariant.group [[META41]]
; CHECK-NEXT:    [[I70_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70]], ptr [[I70_CACHEIDX]], align 8, !invariant.group [[META42]]
; CHECK-NEXT:    [[I115_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 2
; CHECK-NEXT:    store i32 [[I115]], ptr [[I115_CACHEIDX]], align 4, !invariant.group [[META43]]
; CHECK-NEXT:    [[I114_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I114]], ptr [[I114_CACHEIDX]], align 4, !invariant.group [[META44]]
; CHECK-NEXT:    [[I113_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 4
; CHECK-NEXT:    store i32 2, ptr [[I113_CACHEIDX]], align 4, !invariant.group [[META45]]
; CHECK-NEXT:    [[I112_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I112]], ptr [[I112_CACHEIDX]], align 8, !invariant.group [[META46]]
; CHECK-NEXT:    [[I111_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I111]], ptr [[I111_CACHEIDX]], align 8, !invariant.group [[META47]]
; CHECK-NEXT:    [[I110_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 7
; CHECK-NEXT:    store ptr [[I110]], ptr [[I110_CACHEIDX]], align 8, !invariant.group [[META48]]
; CHECK-NEXT:    [[I108_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 8
; CHECK-NEXT:    store ptr [[I108]], ptr [[I108_CACHEIDX]], align 8, !invariant.group [[META49]]
; CHECK-NEXT:    [[I107_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 9
; CHECK-NEXT:    store ptr [[I107]], ptr [[I107_CACHEIDX]], align 8, !invariant.group [[META50]]
; CHECK-NEXT:    [[I106_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 10
; CHECK-NEXT:    store i64 [[I106]], ptr [[I106_CACHEIDX]], align 8, !invariant.group [[META51]]
; CHECK-NEXT:    [[I105_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 11
; CHECK-NEXT:    store i64 [[I105]], ptr [[I105_CACHEIDX]], align 8, !invariant.group [[META52]]
; CHECK-NEXT:    [[I104_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 12
; CHECK-NEXT:    store i32 [[I104]], ptr [[I104_CACHEIDX]], align 4, !invariant.group [[META53]]
; CHECK-NEXT:    [[I40_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 13
; CHECK-NEXT:    store i64 [[I40]], ptr [[I40_CACHEIDX]], align 8, !invariant.group [[META54]]
; CHECK-NEXT:    [[I31_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 14
; CHECK-NEXT:    store i32 [[I31281]], ptr [[I31_CACHEIDX]], align 4, !invariant.group [[META55]]
; CHECK-NEXT:    [[I30_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I30287]], ptr [[I30_CACHEIDX]], align 4, !invariant.group [[META56]]
; CHECK-NEXT:    [[I5_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 16
; CHECK-NEXT:    store i32 [[I5293]], ptr [[I5_CACHEIDX]], align 4, !invariant.group [[META57]]
; CHECK-NEXT:    [[I_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 17
; CHECK-NEXT:    store i32 [[I333]], ptr [[I_CACHEIDX]], align 4, !invariant.group [[META58]]
; CHECK-NEXT:    [[I18_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 18
; CHECK-NEXT:    store i32 [[I18340]], ptr [[I18_CACHEIDX]], align 4, !invariant.group [[META59]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb139:
; CHECK-NEXT:    [[I140:%.*]] = phi i64 [ -1, [[BB103]] ], [ 0, [[BB116]] ], [ [[I131]], [[BB121]] ]
; CHECK-NEXT:    [[I141:%.*]] = zext nneg i32 [[I104]] to i64
; CHECK-NEXT:    [[I142:%.*]] = getelementptr inbounds i32, ptr [[I107]], i64 [[I141]]
; CHECK-NEXT:    [[I143:%.*]] = load i32, ptr [[I142]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I144:%.*]] = icmp sgt i32 [[I143]], 0
; CHECK-NEXT:    br i1 [[I144]], label [[BB145:%.*]], label [[BB302]]
; CHECK:       bb145:
; CHECK-NEXT:    [[I146:%.*]] = mul nsw i32 [[I115]], [[I104]]
; CHECK-NEXT:    [[I147:%.*]] = mul nsw i64 [[I140]], [[I105]]
; CHECK-NEXT:    [[I148:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I147]]
; CHECK-NEXT:    [[I149:%.*]] = add i64 [[I106]], -1
; CHECK-NEXT:    [[I150:%.*]] = icmp sgt i64 [[I106]], 2
; CHECK-NEXT:    [[I151:%.*]] = add nsw i32 [[I114]], -1
; CHECK-NEXT:    [[I152:%.*]] = sext i32 [[I151]] to i64
; CHECK-NEXT:    [[I153:%.*]] = icmp eq i64 [[I140]], [[I152]]
; CHECK-NEXT:    [[I154:%.*]] = add nsw i64 [[I140]], 1
; CHECK-NEXT:    [[I155:%.*]] = mul nsw i64 [[I154]], [[I105]]
; CHECK-NEXT:    [[I156:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I155]]
; CHECK-NEXT:    [[I157:%.*]] = trunc i64 [[I106]] to i32
; CHECK-NEXT:    [[I158:%.*]] = add i32 [[I157]], -1
; CHECK-NEXT:    br label [[BB159:%.*]]
; CHECK:       bb159:
; CHECK-NEXT:    [[I149463:%.*]] = phi i64 [ [[I149]], [[BB145]] ], [ [[I149462:%.*]], [[BB255:%.*]] ]
; CHECK-NEXT:    [[I156454:%.*]] = phi ptr [ [[I156]], [[BB145]] ], [ [[I156453:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I148452:%.*]] = phi ptr [ [[I148]], [[BB145]] ], [ [[I148451:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I153450:%.*]] = phi i1 [ [[I153]], [[BB145]] ], [ [[I153449:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I146448:%.*]] = phi i32 [ [[I146]], [[BB145]] ], [ [[I146447:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I142446:%.*]] = phi ptr [ [[I142]], [[BB145]] ], [ [[I142445:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I28442:%.*]] = phi ptr [ [[I28444]], [[BB145]] ], [ [[I28439:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I25435:%.*]] = phi ptr [ [[I25437]], [[BB145]] ], [ [[I25432:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I24428:%.*]] = phi ptr [ [[I24430]], [[BB145]] ], [ [[I24425:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I23421:%.*]] = phi ptr [ [[I23423]], [[BB145]] ], [ [[I23418:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I22414:%.*]] = phi ptr [ [[I22416]], [[BB145]] ], [ [[I22411:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I21407:%.*]] = phi ptr [ [[I21409]], [[BB145]] ], [ [[I21404:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I6399:%.*]] = phi i32 [ [[I6401]], [[BB145]] ], [ [[I6396:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I32394:%.*]] = phi i64 [ [[I32395]], [[BB145]] ], [ [[I32391:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I41390:%.*]] = phi i32 [ [[I41]], [[BB145]] ], [ [[I41387:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I75386:%.*]] = phi double [ [[I75]], [[BB145]] ], [ [[I75384:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I27381:%.*]] = phi ptr [ [[I27383]], [[BB145]] ], [ [[I27378:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I26374:%.*]] = phi ptr [ [[I26376]], [[BB145]] ], [ [[I26371:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I20367:%.*]] = phi ptr [ [[I20369]], [[BB145]] ], [ [[I20364:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I19360:%.*]] = phi ptr [ [[I19362]], [[BB145]] ], [ [[I19357:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I4352:%.*]] = phi ptr [ [[I4354]], [[BB145]] ], [ [[I4349:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I13346:%.*]] = phi i32 [ [[I13348]], [[BB145]] ], [ [[I13342:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I18338:%.*]] = phi i32 [ [[I18340]], [[BB145]] ], [ [[I18335:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I331:%.*]] = phi i32 [ [[I333]], [[BB145]] ], [ [[I302:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I5291:%.*]] = phi i32 [ [[I5293]], [[BB145]] ], [ [[I5288:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I30285:%.*]] = phi i32 [ [[I30287]], [[BB145]] ], [ [[I30282:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I31279:%.*]] = phi i32 [ [[I31281]], [[BB145]] ], [ [[I31276:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I40275:%.*]] = phi i64 [ [[I40]], [[BB145]] ], [ [[I40272:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I106269:%.*]] = phi i64 [ [[I106]], [[BB145]] ], [ [[I106268:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I108265:%.*]] = phi ptr [ [[I108]], [[BB145]] ], [ [[I108264:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I111261:%.*]] = phi ptr [ [[I111]], [[BB145]] ], [ [[I111260:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I112258:%.*]] = phi ptr [ [[I112]], [[BB145]] ], [ [[I112257:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I113255:%.*]] = phi i32 [ [[I113]], [[BB145]] ], [ [[I113254:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I70250:%.*]] = phi i64 [ [[I70]], [[BB145]] ], [ [[I70248:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I10244:%.*]] = phi i32 [ [[I10246]], [[BB145]] ], [ [[I10241:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I160:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I298:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I161:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I297:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I162:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I296:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I163:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I295:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I164:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I294:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I165:%.*]] = phi i32 [ 0, [[BB145]] ], [ [[I299:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I166:%.*]] = add nsw i32 [[I165]], [[I146448]]
; CHECK-NEXT:    [[I167:%.*]] = sext i32 [[I166]] to i64
; CHECK-NEXT:    [[I168:%.*]] = getelementptr inbounds i32, ptr [[I112258]], i64 [[I167]]
; CHECK-NEXT:    [[I169:%.*]] = load i32, ptr [[I168]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I170:%.*]] = getelementptr inbounds double, ptr [[I108265]], i64 [[I167]]
; CHECK-NEXT:    [[I171:%.*]] = load double, ptr [[I170]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    switch i32 [[I113255]], label [[CACHESTORE2:%.*]] [
; CHECK-NEXT:      i32 1, label [[CACHESTORE1:%.*]]
; CHECK-NEXT:      i32 0, label [[BB197:%.*]]
; CHECK-NEXT:    ]
; CHECK:       CacheStore1:
; CHECK-NEXT:    [[TMP11:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP12:%.*]] = load ptr, ptr [[TMP11]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR47:%.*]] = getelementptr inbounds i32, ptr [[TMP12]], i32 1
; CHECK-NEXT:    [[CACHEIDX48:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR47]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP13:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP14:%.*]] = load ptr, ptr [[TMP13]], align 8
; CHECK-NEXT:    [[TMP15:%.*]] = getelementptr inbounds ptr, ptr [[TMP14]], i32 1
; CHECK-NEXT:    [[CACHE_OUT_PTR49:%.*]] = load ptr, ptr [[TMP15]], align 8
; CHECK-NEXT:    [[CACHECELL50:%.*]] = getelementptr inbounds [[CACHE_CELL1:%.*]], ptr [[CACHE_OUT_PTR49]], i32 [[CACHEIDX48]]
; CHECK-NEXT:    [[I10_CACHEIDX51:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX51]], align 4, !invariant.group [[META61]]
; CHECK-NEXT:    [[I70_CACHEIDX52:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX52]], align 8, !invariant.group [[META62]]
; CHECK-NEXT:    [[I142_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX]], align 8, !invariant.group [[META63]]
; CHECK-NEXT:    [[I146_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX]], align 4, !invariant.group [[META64]]
; CHECK-NEXT:    [[I153_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX]], align 1, !invariant.group [[META65]]
; CHECK-NEXT:    [[I148_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX]], align 8, !invariant.group [[META66]]
; CHECK-NEXT:    [[I156_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX]], align 8, !invariant.group [[META67]]
; CHECK-NEXT:    [[I171_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX]], align 8, !invariant.group [[META68]]
; CHECK-NEXT:    [[I169_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX]], align 4, !invariant.group [[META69]]
; CHECK-NEXT:    [[I165_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX]], align 4, !invariant.group [[META70]]
; CHECK-NEXT:    [[I164_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX]], align 8, !invariant.group [[META71]]
; CHECK-NEXT:    [[I163_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX]], align 8, !invariant.group [[META72]]
; CHECK-NEXT:    [[I162_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX]], align 8, !invariant.group [[META73]]
; CHECK-NEXT:    [[I161_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX]], align 8, !invariant.group [[META74]]
; CHECK-NEXT:    [[I160_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX]], align 8, !invariant.group [[META75]]
; CHECK-NEXT:    [[I113_CACHEIDX53:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 15
; CHECK-NEXT:    store i32 1, ptr [[I113_CACHEIDX53]], align 4, !invariant.group [[META76]]
; CHECK-NEXT:    [[I112_CACHEIDX54:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX54]], align 8, !invariant.group [[META77]]
; CHECK-NEXT:    [[I111_CACHEIDX55:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX55]], align 8, !invariant.group [[META78]]
; CHECK-NEXT:    [[I108_CACHEIDX56:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX56]], align 8, !invariant.group [[META79]]
; CHECK-NEXT:    [[I106_CACHEIDX57:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX57]], align 8, !invariant.group [[META80]]
; CHECK-NEXT:    [[I40_CACHEIDX58:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX58]], align 8, !invariant.group [[META81]]
; CHECK-NEXT:    [[I31_CACHEIDX59:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX59]], align 4, !invariant.group [[META82]]
; CHECK-NEXT:    [[I30_CACHEIDX60:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX60]], align 4, !invariant.group [[META83]]
; CHECK-NEXT:    [[I5_CACHEIDX61:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX61]], align 4, !invariant.group [[META84]]
; CHECK-NEXT:    [[I_CACHEIDX62:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX62]], align 4, !invariant.group [[META85]]
; CHECK-NEXT:    [[I18_CACHEIDX63:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX63]], align 4, !invariant.group [[META86]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       CacheRemat1:
; CHECK-NEXT:    [[TMP16:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP17:%.*]] = load ptr, ptr [[TMP16]], align 8
; CHECK-NEXT:    [[TMP18:%.*]] = getelementptr inbounds ptr, ptr [[TMP17]], i32 4
; CHECK-NEXT:    [[CACHE_IN_PTR68:%.*]] = load ptr, ptr [[TMP18]], align 8
; CHECK-NEXT:    [[CACHECELL69:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHE_IN_PTR68]], i32 [[GTID64]]
; CHECK-NEXT:    [[I10_CACHEIDX70:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 0
; CHECK-NEXT:    [[I10_CACHE71:%.*]] = load i32, ptr [[I10_CACHEIDX70]], align 4, !invariant.group [[META61]]
; CHECK-NEXT:    [[I70_CACHEIDX72:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 1
; CHECK-NEXT:    [[I70_CACHE73:%.*]] = load i64, ptr [[I70_CACHEIDX72]], align 8, !invariant.group [[META62]]
; CHECK-NEXT:    [[I142_CACHEIDX74:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 2
; CHECK-NEXT:    [[I142_CACHE:%.*]] = load ptr, ptr [[I142_CACHEIDX74]], align 8, !invariant.group [[META63]]
; CHECK-NEXT:    [[I146_CACHEIDX75:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 3
; CHECK-NEXT:    [[I146_CACHE:%.*]] = load i32, ptr [[I146_CACHEIDX75]], align 4, !invariant.group [[META64]]
; CHECK-NEXT:    [[I153_CACHEIDX76:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 4
; CHECK-NEXT:    [[I153_CACHE:%.*]] = load i1, ptr [[I153_CACHEIDX76]], align 1, !invariant.group [[META65]]
; CHECK-NEXT:    [[I148_CACHEIDX77:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 5
; CHECK-NEXT:    [[I148_CACHE:%.*]] = load ptr, ptr [[I148_CACHEIDX77]], align 8, !invariant.group [[META66]]
; CHECK-NEXT:    [[I156_CACHEIDX78:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 6
; CHECK-NEXT:    [[I156_CACHE:%.*]] = load ptr, ptr [[I156_CACHEIDX78]], align 8, !invariant.group [[META67]]
; CHECK-NEXT:    [[I171_CACHEIDX79:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 7
; CHECK-NEXT:    [[I171_CACHE:%.*]] = load double, ptr [[I171_CACHEIDX79]], align 8, !invariant.group [[META68]]
; CHECK-NEXT:    [[I169_CACHEIDX80:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 8
; CHECK-NEXT:    [[I169_CACHE:%.*]] = load i32, ptr [[I169_CACHEIDX80]], align 4, !invariant.group [[META69]]
; CHECK-NEXT:    [[I165_CACHEIDX81:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 9
; CHECK-NEXT:    [[I165_CACHE:%.*]] = load i32, ptr [[I165_CACHEIDX81]], align 4, !invariant.group [[META70]]
; CHECK-NEXT:    [[I164_CACHEIDX82:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 10
; CHECK-NEXT:    [[I164_CACHE:%.*]] = load double, ptr [[I164_CACHEIDX82]], align 8, !invariant.group [[META71]]
; CHECK-NEXT:    [[I163_CACHEIDX83:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 11
; CHECK-NEXT:    [[I163_CACHE:%.*]] = load double, ptr [[I163_CACHEIDX83]], align 8, !invariant.group [[META72]]
; CHECK-NEXT:    [[I162_CACHEIDX84:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 12
; CHECK-NEXT:    [[I162_CACHE:%.*]] = load double, ptr [[I162_CACHEIDX84]], align 8, !invariant.group [[META73]]
; CHECK-NEXT:    [[I161_CACHEIDX85:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 13
; CHECK-NEXT:    [[I161_CACHE:%.*]] = load double, ptr [[I161_CACHEIDX85]], align 8, !invariant.group [[META74]]
; CHECK-NEXT:    [[I160_CACHEIDX86:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 14
; CHECK-NEXT:    [[I160_CACHE:%.*]] = load double, ptr [[I160_CACHEIDX86]], align 8, !invariant.group [[META75]]
; CHECK-NEXT:    [[I113_CACHEIDX87:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 15
; CHECK-NEXT:    [[I113_CACHE88:%.*]] = load i32, ptr [[I113_CACHEIDX87]], align 4, !invariant.group [[META76]]
; CHECK-NEXT:    [[I112_CACHEIDX89:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 16
; CHECK-NEXT:    [[I112_CACHE90:%.*]] = load ptr, ptr [[I112_CACHEIDX89]], align 8, !invariant.group [[META77]]
; CHECK-NEXT:    [[I111_CACHEIDX91:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 17
; CHECK-NEXT:    [[I111_CACHE92:%.*]] = load ptr, ptr [[I111_CACHEIDX91]], align 8, !invariant.group [[META78]]
; CHECK-NEXT:    [[I108_CACHEIDX93:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 18
; CHECK-NEXT:    [[I108_CACHE94:%.*]] = load ptr, ptr [[I108_CACHEIDX93]], align 8, !invariant.group [[META79]]
; CHECK-NEXT:    [[I106_CACHEIDX95:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 19
; CHECK-NEXT:    [[I106_CACHE96:%.*]] = load i64, ptr [[I106_CACHEIDX95]], align 8, !invariant.group [[META80]]
; CHECK-NEXT:    [[I40_CACHEIDX97:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 20
; CHECK-NEXT:    [[I40_CACHE98:%.*]] = load i64, ptr [[I40_CACHEIDX97]], align 8, !invariant.group [[META81]]
; CHECK-NEXT:    [[I31_CACHEIDX99:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 21
; CHECK-NEXT:    [[I31_CACHE100:%.*]] = load i32, ptr [[I31_CACHEIDX99]], align 4, !invariant.group [[META82]]
; CHECK-NEXT:    [[I30_CACHEIDX101:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 22
; CHECK-NEXT:    [[I30_CACHE102:%.*]] = load i32, ptr [[I30_CACHEIDX101]], align 4, !invariant.group [[META83]]
; CHECK-NEXT:    [[I5_CACHEIDX103:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 23
; CHECK-NEXT:    [[I5_CACHE104:%.*]] = load i32, ptr [[I5_CACHEIDX103]], align 4, !invariant.group [[META84]]
; CHECK-NEXT:    [[I_CACHEIDX105:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 24
; CHECK-NEXT:    [[I_CACHE106:%.*]] = load i32, ptr [[I_CACHEIDX105]], align 4, !invariant.group [[META85]]
; CHECK-NEXT:    [[I18_CACHEIDX107:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL69]], i32 0, i32 25
; CHECK-NEXT:    [[I18_CACHE108:%.*]] = load i32, ptr [[I18_CACHEIDX107]], align 4, !invariant.group [[META86]]
; CHECK-NEXT:    [[I13_RECOMPUTE109:%.*]] = shl nsw i32 [[I10_CACHE71]], 7
; CHECK-NEXT:    [[I4_RECOMPUTE110:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 24
; CHECK-NEXT:    [[I19_RECOMPUTE111:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 8
; CHECK-NEXT:    [[I20_RECOMPUTE112:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 16
; CHECK-NEXT:    [[I26_RECOMPUTE113:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 40
; CHECK-NEXT:    [[I27_RECOMPUTE114:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 44
; CHECK-NEXT:    [[I71_RECOMPUTE115:%.*]] = mul i64 [[I70_CACHE73]], 2806196910506780709
; CHECK-NEXT:    [[I72_RECOMPUTE116:%.*]] = add i64 [[I71_RECOMPUTE115]], 1
; CHECK-NEXT:    [[I73_RECOMPUTE117:%.*]] = and i64 [[I72_RECOMPUTE116]], 9223372036854775807
; CHECK-NEXT:    [[I74_RECOMPUTE118:%.*]] = uitofp i64 [[I73_RECOMPUTE117]] to double
; CHECK-NEXT:    [[I75_RECOMPUTE119:%.*]] = fmul double [[I74_RECOMPUTE118]], 0x3C00000000000000
; CHECK-NEXT:    [[I149_RECOMPUTE:%.*]] = add i64 [[I106_CACHE96]], -1
; CHECK-NEXT:    [[I150_RECOMPUTE:%.*]] = icmp sgt i64 [[I106_CACHE96]], 2
; CHECK-NEXT:    [[I157_RECOMPUTE:%.*]] = trunc i64 [[I106_CACHE96]] to i32
; CHECK-NEXT:    [[I158_RECOMPUTE:%.*]] = add i32 [[I157_RECOMPUTE]], -1
; CHECK-NEXT:    [[I41_RECOMPUTE120:%.*]] = trunc i64 [[I40_CACHE98]] to i32
; CHECK-NEXT:    [[I32_RECOMPUTE121:%.*]] = zext i32 [[I30_CACHE102]] to i64
; CHECK-NEXT:    [[I6_RECOMPUTE122:%.*]] = add nsw i32 [[I5_CACHE104]], -1
; CHECK-NEXT:    [[I21_RECOMPUTE123:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 8
; CHECK-NEXT:    [[I22_RECOMPUTE124:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 24
; CHECK-NEXT:    [[I23_RECOMPUTE125:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 32
; CHECK-NEXT:    [[I24_RECOMPUTE126:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 40
; CHECK-NEXT:    [[I25_RECOMPUTE127:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 16
; CHECK-NEXT:    [[I28_RECOMPUTE128:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 76
; CHECK-NEXT:    [[I173:%.*]] = sext i32 [[I169_CACHE]] to i64
; CHECK-NEXT:    [[I174:%.*]] = mul nsw i64 [[I106_CACHE96]], [[I173]]
; CHECK-NEXT:    [[I175:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT:%.*]], ptr [[I111_CACHE92]], i64 [[I174]]
; CHECK-NEXT:    br i1 [[I150_RECOMPUTE]], label [[BB176:%.*]], label [[BB189:%.*]]
; CHECK:       bb176:
; CHECK-NEXT:    [[I177:%.*]] = phi i64 [ [[I149_RECOMPUTE]], [[CACHEREMAT1]] ], [ [[I187:%.*]], [[BB176]] ]
; CHECK-NEXT:    [[I178:%.*]] = phi i64 [ 0, [[CACHEREMAT1]] ], [ [[I186:%.*]], [[BB176]] ]
; CHECK-NEXT:    [[I179:%.*]] = phi i64 [ [[I149_RECOMPUTE]], [[CACHEREMAT1]] ], [ [[I185:%.*]], [[BB176]] ]
; CHECK-NEXT:    [[I180:%.*]] = lshr i64 [[I177]], 1
; CHECK-NEXT:    [[I181:%.*]] = add nuw nsw i64 [[I180]], [[I178]]
; CHECK-NEXT:    [[I182:%.*]] = getelementptr inbounds [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I175]], i64 [[I181]]
; CHECK-NEXT:    [[I183:%.*]] = load double, ptr [[I182]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I184:%.*]] = fcmp ogt double [[I183]], [[I75_RECOMPUTE119]]
; CHECK-NEXT:    [[I185]] = select i1 [[I184]], i64 [[I181]], i64 [[I179]]
; CHECK-NEXT:    [[I186]] = select i1 [[I184]], i64 [[I178]], i64 [[I181]]
; CHECK-NEXT:    [[I187]] = sub nsw i64 [[I185]], [[I186]]
; CHECK-NEXT:    [[I188:%.*]] = icmp sgt i64 [[I187]], 1
; CHECK-NEXT:    br i1 [[I188]], label [[BB176]], label [[BB189]]
; CHECK:       bb189:
; CHECK-NEXT:    [[I190:%.*]] = phi i64 [ 0, [[CACHEREMAT1]] ], [ [[I186]], [[BB176]] ]
; CHECK-NEXT:    [[I191:%.*]] = icmp eq i64 [[I190]], [[I149_RECOMPUTE]]
; CHECK-NEXT:    br i1 [[I191]], label [[BB192:%.*]], label [[BB195:%.*]]
; CHECK:       bb192:
; CHECK-NEXT:    [[I193:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I175]], i64 [[I149_RECOMPUTE]]
; CHECK-NEXT:    [[I194:%.*]] = getelementptr i8, ptr [[I193]], i64 -48
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       bb195:
; CHECK-NEXT:    [[I196:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I175]], i64 [[I190]]
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       bb197:
; CHECK-NEXT:    [[I198:%.*]] = sext i32 [[I169]] to i64
; CHECK-NEXT:    [[I199:%.*]] = getelementptr i32, ptr [[I148452]], i64 [[I198]]
; CHECK-NEXT:    [[I200:%.*]] = load i32, ptr [[I199]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I201:%.*]] = sext i32 [[I200]] to i64
; CHECK-NEXT:    [[I202:%.*]] = icmp eq i64 [[I149463]], [[I201]]
; CHECK-NEXT:    [[I203:%.*]] = mul nsw i64 [[I106269]], [[I198]]
; CHECK-NEXT:    [[I204:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I111261]], i64 [[I203]]
; CHECK-NEXT:    [[I205:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I204]], i64 [[I201]]
; CHECK-NEXT:    [[I206:%.*]] = select i1 [[I202]], i64 -48, i64 0
; CHECK-NEXT:    [[I207:%.*]] = getelementptr i8, ptr [[I205]], i64 [[I206]]
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       CacheStore2:
; CHECK-NEXT:    [[TMP19:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP20:%.*]] = load ptr, ptr [[TMP19]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR129:%.*]] = getelementptr inbounds i32, ptr [[TMP20]], i32 2
; CHECK-NEXT:    [[CACHEIDX130:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR129]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP21:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP22:%.*]] = load ptr, ptr [[TMP21]], align 8
; CHECK-NEXT:    [[TMP23:%.*]] = getelementptr inbounds ptr, ptr [[TMP22]], i32 2
; CHECK-NEXT:    [[CACHE_OUT_PTR131:%.*]] = load ptr, ptr [[TMP23]], align 8
; CHECK-NEXT:    [[CACHECELL132:%.*]] = getelementptr inbounds [[CACHE_CELL2:%.*]], ptr [[CACHE_OUT_PTR131]], i32 [[CACHEIDX130]]
; CHECK-NEXT:    [[I10_CACHEIDX133:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX133]], align 4, !invariant.group [[META94]]
; CHECK-NEXT:    [[I70_CACHEIDX134:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX134]], align 8, !invariant.group [[META95]]
; CHECK-NEXT:    [[I142_CACHEIDX135:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX135]], align 8, !invariant.group [[META96]]
; CHECK-NEXT:    [[I146_CACHEIDX136:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX136]], align 4, !invariant.group [[META97]]
; CHECK-NEXT:    [[I153_CACHEIDX137:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX137]], align 1, !invariant.group [[META98]]
; CHECK-NEXT:    [[I148_CACHEIDX138:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX138]], align 8, !invariant.group [[META99]]
; CHECK-NEXT:    [[I156_CACHEIDX139:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX139]], align 8, !invariant.group [[META100]]
; CHECK-NEXT:    [[I171_CACHEIDX140:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX140]], align 8, !invariant.group [[META101]]
; CHECK-NEXT:    [[I169_CACHEIDX141:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX141]], align 4, !invariant.group [[META102]]
; CHECK-NEXT:    [[I165_CACHEIDX142:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX142]], align 4, !invariant.group [[META103]]
; CHECK-NEXT:    [[I164_CACHEIDX143:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX143]], align 8, !invariant.group [[META104]]
; CHECK-NEXT:    [[I163_CACHEIDX144:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX144]], align 8, !invariant.group [[META105]]
; CHECK-NEXT:    [[I162_CACHEIDX145:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX145]], align 8, !invariant.group [[META106]]
; CHECK-NEXT:    [[I161_CACHEIDX146:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX146]], align 8, !invariant.group [[META107]]
; CHECK-NEXT:    [[I160_CACHEIDX147:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX147]], align 8, !invariant.group [[META108]]
; CHECK-NEXT:    [[I113_CACHEIDX148:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I113255]], ptr [[I113_CACHEIDX148]], align 4, !invariant.group [[META109]]
; CHECK-NEXT:    [[I112_CACHEIDX149:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX149]], align 8, !invariant.group [[META110]]
; CHECK-NEXT:    [[I111_CACHEIDX150:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX150]], align 8, !invariant.group [[META111]]
; CHECK-NEXT:    [[I108_CACHEIDX151:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX151]], align 8, !invariant.group [[META112]]
; CHECK-NEXT:    [[I106_CACHEIDX152:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX152]], align 8, !invariant.group [[META113]]
; CHECK-NEXT:    [[I40_CACHEIDX153:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX153]], align 8, !invariant.group [[META114]]
; CHECK-NEXT:    [[I31_CACHEIDX154:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX154]], align 4, !invariant.group [[META115]]
; CHECK-NEXT:    [[I30_CACHEIDX155:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX155]], align 4, !invariant.group [[META116]]
; CHECK-NEXT:    [[I5_CACHEIDX156:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX156]], align 4, !invariant.group [[META117]]
; CHECK-NEXT:    [[I_CACHEIDX157:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX157]], align 4, !invariant.group [[META118]]
; CHECK-NEXT:    [[I18_CACHEIDX158:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX158]], align 4, !invariant.group [[META119]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb255:
; CHECK-NEXT:    [[I149462]] = phi i64 [ [[I149463]], [[BB197]] ], [ [[I149_RECOMPUTE]], [[BB195]] ], [ [[I149_RECOMPUTE]], [[BB192]] ]
; CHECK-NEXT:    [[I160461:%.*]] = phi double [ [[I160]], [[BB197]] ], [ [[I160_CACHE]], [[BB195]] ], [ [[I160_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I161460:%.*]] = phi double [ [[I161]], [[BB197]] ], [ [[I161_CACHE]], [[BB195]] ], [ [[I161_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I162459:%.*]] = phi double [ [[I162]], [[BB197]] ], [ [[I162_CACHE]], [[BB195]] ], [ [[I162_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I163458:%.*]] = phi double [ [[I163]], [[BB197]] ], [ [[I163_CACHE]], [[BB195]] ], [ [[I163_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I164457:%.*]] = phi double [ [[I164]], [[BB197]] ], [ [[I164_CACHE]], [[BB195]] ], [ [[I164_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I165456:%.*]] = phi i32 [ [[I165]], [[BB197]] ], [ [[I165_CACHE]], [[BB195]] ], [ [[I165_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I171455:%.*]] = phi double [ [[I171]], [[BB197]] ], [ [[I171_CACHE]], [[BB195]] ], [ [[I171_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I156453]] = phi ptr [ [[I156454]], [[BB197]] ], [ [[I156_CACHE]], [[BB195]] ], [ [[I156_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I148451]] = phi ptr [ [[I148452]], [[BB197]] ], [ [[I148_CACHE]], [[BB195]] ], [ [[I148_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I153449]] = phi i1 [ [[I153450]], [[BB197]] ], [ [[I153_CACHE]], [[BB195]] ], [ [[I153_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I146447]] = phi i32 [ [[I146448]], [[BB197]] ], [ [[I146_CACHE]], [[BB195]] ], [ [[I146_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I142445]] = phi ptr [ [[I142446]], [[BB197]] ], [ [[I142_CACHE]], [[BB195]] ], [ [[I142_CACHE]], [[BB192]] ]
; CHECK-NEXT:    [[I28439]] = phi ptr [ [[I28442]], [[BB197]] ], [ [[I28_RECOMPUTE128]], [[BB195]] ], [ [[I28_RECOMPUTE128]], [[BB192]] ]
; CHECK-NEXT:    [[I25432]] = phi ptr [ [[I25435]], [[BB197]] ], [ [[I25_RECOMPUTE127]], [[BB195]] ], [ [[I25_RECOMPUTE127]], [[BB192]] ]
; CHECK-NEXT:    [[I24425]] = phi ptr [ [[I24428]], [[BB197]] ], [ [[I24_RECOMPUTE126]], [[BB195]] ], [ [[I24_RECOMPUTE126]], [[BB192]] ]
; CHECK-NEXT:    [[I23418]] = phi ptr [ [[I23421]], [[BB197]] ], [ [[I23_RECOMPUTE125]], [[BB195]] ], [ [[I23_RECOMPUTE125]], [[BB192]] ]
; CHECK-NEXT:    [[I22411]] = phi ptr [ [[I22414]], [[BB197]] ], [ [[I22_RECOMPUTE124]], [[BB195]] ], [ [[I22_RECOMPUTE124]], [[BB192]] ]
; CHECK-NEXT:    [[I21404]] = phi ptr [ [[I21407]], [[BB197]] ], [ [[I21_RECOMPUTE123]], [[BB195]] ], [ [[I21_RECOMPUTE123]], [[BB192]] ]
; CHECK-NEXT:    [[I6396]] = phi i32 [ [[I6399]], [[BB197]] ], [ [[I6_RECOMPUTE122]], [[BB195]] ], [ [[I6_RECOMPUTE122]], [[BB192]] ]
; CHECK-NEXT:    [[I32391]] = phi i64 [ [[I32394]], [[BB197]] ], [ [[I32_RECOMPUTE121]], [[BB195]] ], [ [[I32_RECOMPUTE121]], [[BB192]] ]
; CHECK-NEXT:    [[I41387]] = phi i32 [ [[I41390]], [[BB197]] ], [ [[I41_RECOMPUTE120]], [[BB195]] ], [ [[I41_RECOMPUTE120]], [[BB192]] ]
; CHECK-NEXT:    [[I75384]] = phi double [ [[I75386]], [[BB197]] ], [ [[I75_RECOMPUTE119]], [[BB195]] ], [ [[I75_RECOMPUTE119]], [[BB192]] ]
; CHECK-NEXT:    [[I27378]] = phi ptr [ [[I27381]], [[BB197]] ], [ [[I27_RECOMPUTE114]], [[BB195]] ], [ [[I27_RECOMPUTE114]], [[BB192]] ]
; CHECK-NEXT:    [[I26371]] = phi ptr [ [[I26374]], [[BB197]] ], [ [[I26_RECOMPUTE113]], [[BB195]] ], [ [[I26_RECOMPUTE113]], [[BB192]] ]
; CHECK-NEXT:    [[I20364]] = phi ptr [ [[I20367]], [[BB197]] ], [ [[I20_RECOMPUTE112]], [[BB195]] ], [ [[I20_RECOMPUTE112]], [[BB192]] ]
; CHECK-NEXT:    [[I19357]] = phi ptr [ [[I19360]], [[BB197]] ], [ [[I19_RECOMPUTE111]], [[BB195]] ], [ [[I19_RECOMPUTE111]], [[BB192]] ]
; CHECK-NEXT:    [[I4349]] = phi ptr [ [[I4352]], [[BB197]] ], [ [[I4_RECOMPUTE110]], [[BB195]] ], [ [[I4_RECOMPUTE110]], [[BB192]] ]
; CHECK-NEXT:    [[I13342]] = phi i32 [ [[I13346]], [[BB197]] ], [ [[I13_RECOMPUTE109]], [[BB195]] ], [ [[I13_RECOMPUTE109]], [[BB192]] ]
; CHECK-NEXT:    [[I18335]] = phi i32 [ [[I18338]], [[BB197]] ], [ [[I18_CACHE108]], [[BB195]] ], [ [[I18_CACHE108]], [[BB192]] ]
; CHECK-NEXT:    [[I302]] = phi i32 [ [[I331]], [[BB197]] ], [ [[I_CACHE106]], [[BB195]] ], [ [[I_CACHE106]], [[BB192]] ]
; CHECK-NEXT:    [[I5288]] = phi i32 [ [[I5291]], [[BB197]] ], [ [[I5_CACHE104]], [[BB195]] ], [ [[I5_CACHE104]], [[BB192]] ]
; CHECK-NEXT:    [[I30282]] = phi i32 [ [[I30285]], [[BB197]] ], [ [[I30_CACHE102]], [[BB195]] ], [ [[I30_CACHE102]], [[BB192]] ]
; CHECK-NEXT:    [[I31276]] = phi i32 [ [[I31279]], [[BB197]] ], [ [[I31_CACHE100]], [[BB195]] ], [ [[I31_CACHE100]], [[BB192]] ]
; CHECK-NEXT:    [[I40272]] = phi i64 [ [[I40275]], [[BB197]] ], [ [[I40_CACHE98]], [[BB195]] ], [ [[I40_CACHE98]], [[BB192]] ]
; CHECK-NEXT:    [[I106268]] = phi i64 [ [[I106269]], [[BB197]] ], [ [[I106_CACHE96]], [[BB195]] ], [ [[I106_CACHE96]], [[BB192]] ]
; CHECK-NEXT:    [[I108264]] = phi ptr [ [[I108265]], [[BB197]] ], [ [[I108_CACHE94]], [[BB195]] ], [ [[I108_CACHE94]], [[BB192]] ]
; CHECK-NEXT:    [[I111260]] = phi ptr [ [[I111261]], [[BB197]] ], [ [[I111_CACHE92]], [[BB195]] ], [ [[I111_CACHE92]], [[BB192]] ]
; CHECK-NEXT:    [[I112257]] = phi ptr [ [[I112258]], [[BB197]] ], [ [[I112_CACHE90]], [[BB195]] ], [ [[I112_CACHE90]], [[BB192]] ]
; CHECK-NEXT:    [[I113254]] = phi i32 [ 0, [[BB197]] ], [ [[I113_CACHE88]], [[BB195]] ], [ [[I113_CACHE88]], [[BB192]] ]
; CHECK-NEXT:    [[I70248]] = phi i64 [ [[I70250]], [[BB197]] ], [ [[I70_CACHE73]], [[BB195]] ], [ [[I70_CACHE73]], [[BB192]] ]
; CHECK-NEXT:    [[I10241]] = phi i32 [ [[I10244]], [[BB197]] ], [ [[I10_CACHE71]], [[BB195]] ], [ [[I10_CACHE71]], [[BB192]] ]
; CHECK-NEXT:    [[I256:%.*]] = phi ptr [ [[I194]], [[BB192]] ], [ [[I196]], [[BB195]] ], [ [[I207]], [[BB197]] ]
; CHECK-NEXT:    [[I257:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 48
; CHECK-NEXT:    [[I258:%.*]] = load double, ptr [[I257]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I259:%.*]] = fsub double [[I258]], [[I75384]]
; CHECK-NEXT:    [[I260:%.*]] = load double, ptr [[I256]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I261:%.*]] = fsub double [[I258]], [[I260]]
; CHECK-NEXT:    [[I262:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 56
; CHECK-NEXT:    [[I263:%.*]] = load double, ptr [[I262]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I264:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 8
; CHECK-NEXT:    [[I265:%.*]] = load double, ptr [[I264]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I266:%.*]] = fsub double [[I263]], [[I265]]
; CHECK-NEXT:    [[I267:%.*]] = fneg double [[I259]]
; CHECK-NEXT:    [[I268:%.*]] = fdiv double [[I267]], [[I261]]
; CHECK-NEXT:    [[I269:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I266]], double [[I263]])
; CHECK-NEXT:    [[I270:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 64
; CHECK-NEXT:    [[I271:%.*]] = load double, ptr [[I270]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I272:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 16
; CHECK-NEXT:    [[I273:%.*]] = load double, ptr [[I272]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I274:%.*]] = fsub double [[I271]], [[I273]]
; CHECK-NEXT:    [[I275:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I274]], double [[I271]])
; CHECK-NEXT:    [[I276:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 72
; CHECK-NEXT:    [[I277:%.*]] = load double, ptr [[I276]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I278:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 24
; CHECK-NEXT:    [[I279:%.*]] = load double, ptr [[I278]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I280:%.*]] = fsub double [[I277]], [[I279]]
; CHECK-NEXT:    [[I281:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I280]], double [[I277]])
; CHECK-NEXT:    [[I282:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 80
; CHECK-NEXT:    [[I283:%.*]] = load double, ptr [[I282]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I284:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 32
; CHECK-NEXT:    [[I285:%.*]] = load double, ptr [[I284]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I286:%.*]] = fsub double [[I283]], [[I285]]
; CHECK-NEXT:    [[I287:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I286]], double [[I283]])
; CHECK-NEXT:    [[I288:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 88
; CHECK-NEXT:    [[I289:%.*]] = load double, ptr [[I288]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I290:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 40
; CHECK-NEXT:    [[I291:%.*]] = load double, ptr [[I290]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I292:%.*]] = fsub double [[I289]], [[I291]]
; CHECK-NEXT:    [[I293:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I292]], double [[I289]])
; CHECK-NEXT:    [[I294]] = tail call double @llvm.fmuladd.f64(double [[I269]], double [[I171455]], double [[I164457]])
; CHECK-NEXT:    [[I295]] = tail call double @llvm.fmuladd.f64(double [[I275]], double [[I171455]], double [[I163458]])
; CHECK-NEXT:    [[I296]] = tail call double @llvm.fmuladd.f64(double [[I281]], double [[I171455]], double [[I162459]])
; CHECK-NEXT:    [[I297]] = tail call double @llvm.fmuladd.f64(double [[I287]], double [[I171455]], double [[I161460]])
; CHECK-NEXT:    [[I298]] = tail call double @llvm.fmuladd.f64(double [[I293]], double [[I171455]], double [[I160461]])
; CHECK-NEXT:    [[I299]] = add nuw nsw i32 [[I165456]], 1
; CHECK-NEXT:    [[I300:%.*]] = load i32, ptr [[I142445]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I301:%.*]] = icmp slt i32 [[I299]], [[I300]]
; CHECK-NEXT:    br i1 [[I301]], label [[BB159]], label [[BB302]]
; CHECK:       bb302:
; CHECK-NEXT:    [[I28441]] = phi ptr [ [[I28444]], [[BB139]] ], [ [[I28439]], [[BB255]] ]
; CHECK-NEXT:    [[I25434]] = phi ptr [ [[I25437]], [[BB139]] ], [ [[I25432]], [[BB255]] ]
; CHECK-NEXT:    [[I24427]] = phi ptr [ [[I24430]], [[BB139]] ], [ [[I24425]], [[BB255]] ]
; CHECK-NEXT:    [[I23420]] = phi ptr [ [[I23423]], [[BB139]] ], [ [[I23418]], [[BB255]] ]
; CHECK-NEXT:    [[I22413]] = phi ptr [ [[I22416]], [[BB139]] ], [ [[I22411]], [[BB255]] ]
; CHECK-NEXT:    [[I21406]] = phi ptr [ [[I21409]], [[BB139]] ], [ [[I21404]], [[BB255]] ]
; CHECK-NEXT:    [[I6398]] = phi i32 [ [[I6401]], [[BB139]] ], [ [[I6396]], [[BB255]] ]
; CHECK-NEXT:    [[I32393]] = phi i64 [ [[I32395]], [[BB139]] ], [ [[I32391]], [[BB255]] ]
; CHECK-NEXT:    [[I41389:%.*]] = phi i32 [ [[I41]], [[BB139]] ], [ [[I41387]], [[BB255]] ]
; CHECK-NEXT:    [[I27380]] = phi ptr [ [[I27383]], [[BB139]] ], [ [[I27378]], [[BB255]] ]
; CHECK-NEXT:    [[I26373]] = phi ptr [ [[I26376]], [[BB139]] ], [ [[I26371]], [[BB255]] ]
; CHECK-NEXT:    [[I20366]] = phi ptr [ [[I20369]], [[BB139]] ], [ [[I20364]], [[BB255]] ]
; CHECK-NEXT:    [[I19359]] = phi ptr [ [[I19362]], [[BB139]] ], [ [[I19357]], [[BB255]] ]
; CHECK-NEXT:    [[I4351]] = phi ptr [ [[I4354]], [[BB139]] ], [ [[I4349]], [[BB255]] ]
; CHECK-NEXT:    [[I13345]] = phi i32 [ [[I13348]], [[BB139]] ], [ [[I13342]], [[BB255]] ]
; CHECK-NEXT:    [[I18337]] = phi i32 [ [[I18340]], [[BB139]] ], [ [[I18335]], [[BB255]] ]
; CHECK-NEXT:    [[I330]] = phi i32 [ [[I333]], [[BB139]] ], [ [[I302]], [[BB255]] ]
; CHECK-NEXT:    [[I5290]] = phi i32 [ [[I5293]], [[BB139]] ], [ [[I5288]], [[BB255]] ]
; CHECK-NEXT:    [[I30284]] = phi i32 [ [[I30287]], [[BB139]] ], [ [[I30282]], [[BB255]] ]
; CHECK-NEXT:    [[I31278]] = phi i32 [ [[I31281]], [[BB139]] ], [ [[I31276]], [[BB255]] ]
; CHECK-NEXT:    [[I40274:%.*]] = phi i64 [ [[I40]], [[BB139]] ], [ [[I40272]], [[BB255]] ]
; CHECK-NEXT:    [[I10243]] = phi i32 [ [[I10246]], [[BB139]] ], [ [[I10241]], [[BB255]] ]
; CHECK-NEXT:    [[I303:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I294]], [[BB255]] ]
; CHECK-NEXT:    [[I304:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I295]], [[BB255]] ]
; CHECK-NEXT:    [[I305:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I296]], [[BB255]] ]
; CHECK-NEXT:    [[I306:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I297]], [[BB255]] ]
; CHECK-NEXT:    [[I307:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I298]], [[BB255]] ]
; CHECK-NEXT:    [[I308:%.*]] = fcmp ogt double [[I303]], -1.000000e+00
; CHECK-NEXT:    [[I309:%.*]] = select i1 [[I308]], double [[I303]], double -1.000000e+00
; CHECK-NEXT:    [[I310:%.*]] = fcmp ogt double [[I304]], [[I309]]
; CHECK-NEXT:    [[I311:%.*]] = select i1 [[I310]], double [[I304]], double [[I309]]
; CHECK-NEXT:    [[I312:%.*]] = fcmp ogt double [[I305]], [[I311]]
; CHECK-NEXT:    [[I313:%.*]] = select i1 [[I312]], double [[I305]], double [[I311]]
; CHECK-NEXT:    [[I314:%.*]] = fcmp ogt double [[I306]], [[I313]]
; CHECK-NEXT:    [[I315:%.*]] = select i1 [[I314]], double [[I306]], double [[I313]]
; CHECK-NEXT:    [[I316:%.*]] = select i1 [[I310]], i64 2, i64 1
; CHECK-NEXT:    [[I317:%.*]] = fcmp ogt double [[I307]], [[I315]]
; CHECK-NEXT:    [[I318:%.*]] = select i1 [[I312]], i64 3, i64 [[I316]]
; CHECK-NEXT:    [[I319:%.*]] = select i1 [[I314]], i64 4, i64 [[I318]]
; CHECK-NEXT:    [[I320:%.*]] = select i1 [[I317]], i64 5, i64 [[I319]]
; CHECK-NEXT:    [[I321:%.*]] = getelementptr inbounds i64, ptr [[ARG3]], i64 [[I40274]]
; CHECK-NEXT:    store i64 [[I320]], ptr [[I321]], align 8, !tbaa [[TBAA120]]
; CHECK-NEXT:    [[I322:%.*]] = add nsw i32 [[I18337]], [[I41389]]
; CHECK-NEXT:    [[I323]] = sext i32 [[I322]] to i64
; CHECK-NEXT:    [[I324:%.*]] = icmp ugt i64 [[I323]], [[I32393]]
; CHECK-NEXT:    br i1 [[I324]], label [[BB325]], label [[BB39]]
; CHECK:       bb325:
; CHECK-NEXT:    [[I28443]] = phi ptr [ [[I28441]], [[BB302]] ], [ [[I28443]], [[BB35]] ], [ [[I28443]], [[BB29_FROM_BB325:%.*]] ]
; CHECK-NEXT:    [[I25436]] = phi ptr [ [[I25434]], [[BB302]] ], [ [[I25436]], [[BB35]] ], [ [[I25436]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I24429]] = phi ptr [ [[I24427]], [[BB302]] ], [ [[I24429]], [[BB35]] ], [ [[I24429]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I23422]] = phi ptr [ [[I23420]], [[BB302]] ], [ [[I23422]], [[BB35]] ], [ [[I23422]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I22415]] = phi ptr [ [[I22413]], [[BB302]] ], [ [[I22415]], [[BB35]] ], [ [[I22415]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I21408]] = phi ptr [ [[I21406]], [[BB302]] ], [ [[I21408]], [[BB35]] ], [ [[I21408]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I6400]] = phi i32 [ [[I6398]], [[BB302]] ], [ [[I6400]], [[BB35]] ], [ [[I6400]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I27382]] = phi ptr [ [[I27380]], [[BB302]] ], [ [[I27382]], [[BB35]] ], [ [[I27382]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I26375]] = phi ptr [ [[I26373]], [[BB302]] ], [ [[I26375]], [[BB35]] ], [ [[I26375]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I20368]] = phi ptr [ [[I20366]], [[BB302]] ], [ [[I20368]], [[BB35]] ], [ [[I20368]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I19361]] = phi ptr [ [[I19359]], [[BB302]] ], [ [[I19361]], [[BB35]] ], [ [[I19361]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I4353]] = phi ptr [ [[I4351]], [[BB302]] ], [ [[I4353]], [[BB35]] ], [ [[I4353]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I13347]] = phi i32 [ [[I13345]], [[BB302]] ], [ [[I13347]], [[BB35]] ], [ [[I13347]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I18339]] = phi i32 [ [[I18337]], [[BB302]] ], [ [[I18339]], [[BB35]] ], [ [[I18339]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I332]] = phi i32 [ [[I330]], [[BB302]] ], [ [[I332]], [[BB35]] ], [ [[I332]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I5292]] = phi i32 [ [[I5290]], [[BB302]] ], [ [[I5292]], [[BB35]] ], [ [[I5292]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I30286:%.*]] = phi i32 [ [[I30284]], [[BB302]] ], [ [[I328_BB29]], [[BB35]] ], [ [[I328_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I31280:%.*]] = phi i32 [ [[I31278]], [[BB302]] ], [ [[I326_BB29]], [[BB35]] ], [ [[I326_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I10245]] = phi i32 [ [[I10243]], [[BB302]] ], [ [[I10245]], [[BB35]] ], [ [[I10245]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I326:%.*]] = add nsw i32 [[I31280]], [[I13347]]
; CHECK-NEXT:    [[I327:%.*]] = add nsw i32 [[I30286]], [[I13347]]
; CHECK-NEXT:    [[I328:%.*]] = tail call i32 @llvm.smin.i32(i32 [[I327]], i32 [[I6400]])
; CHECK-NEXT:    [[I329:%.*]] = icmp slt i32 [[I326]], [[I5292]]
; CHECK-NEXT:    br i1 [[I329]], label [[BB29_FROM_BB325]], label [[BB330:%.*]]
; CHECK:       bb29.from.bb325:
; CHECK-NEXT:    [[I326_BB29]] = phi i32 [ [[I326]], [[BB325]] ]
; CHECK-NEXT:    [[I328_BB29]] = phi i32 [ [[I328]], [[BB325]] ]
; CHECK-NEXT:    [[I32]] = zext i32 [[I328_BB29]] to i64
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I33:%.*]] = load i32, ptr [[I4353]], align 8, !tbaa [[TBAA19]]
; CHECK-NEXT:    [[I34:%.*]] = icmp sgt i32 [[I33]], 0
; CHECK-NEXT:    br i1 [[I34]], label [[BB35]], label [[BB325]]
; CHECK:       bb330:
; CHECK-NEXT:    ret void
; CHECK:       ThreadExit:
; CHECK-NEXT:    call void asm sideeffect "exit
; CHECK-NEXT:    unreachable
;
;
; CHECK-LABEL: define weak_odr protected void @__omp_offloading_run_event_based_simulation_contd_2(
; CHECK-SAME: ptr noalias noundef [[ARG:%.*]], ptr noundef nonnull align 8 dereferenceable(64) [[ARG1:%.*]], ptr noundef nonnull align 8 dereferenceable(112) [[ARG2:%.*]], ptr noundef [[ARG3:%.*]]) local_unnamed_addr #[[ATTR3]] {
; CHECK-NEXT:  ContDispatchBB:
; CHECK-NEXT:    [[TMP0:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
; CHECK-NEXT:    [[TMP1:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ntid.x()
; CHECK-NEXT:    [[TMP2:%.*]] = call i32 @llvm.nvvm.read.ptx.sreg.ctaid.x()
; CHECK-NEXT:    [[TMP3:%.*]] = mul i32 [[TMP1]], [[TMP2]]
; CHECK-NEXT:    [[GTID159:%.*]] = add i32 [[TMP0]], [[TMP3]]
; CHECK-NEXT:    [[TMP4:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0:%.*]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP5:%.*]] = load ptr, ptr [[TMP4]], align 8
; CHECK-NEXT:    [[CONTCOUNT_IN_PTR160:%.*]] = getelementptr inbounds i32, ptr [[TMP5]], i32 3
; CHECK-NEXT:    [[CONTCOUNT_IN161:%.*]] = load i32, ptr [[CONTCOUNT_IN_PTR160]], align 4
; CHECK-NEXT:    [[MASKTHREAD162:%.*]] = icmp ult i32 [[GTID159]], [[CONTCOUNT_IN161]]
; CHECK-NEXT:    br i1 [[MASKTHREAD162]], label [[CACHEREMAT2:%.*]], label [[THREADEXIT:%.*]]
; CHECK:       bb35:
; CHECK-NEXT:    [[I36:%.*]] = add nsw i32 [[I326_BB29:%.*]], [[I332:%.*]]
; CHECK-NEXT:    [[I37:%.*]] = sext i32 [[I36]] to i64
; CHECK-NEXT:    [[I38:%.*]] = icmp ugt i64 [[I37]], [[I32:%.*]]
; CHECK-NEXT:    br i1 [[I38]], label [[BB325:%.*]], label [[BB39:%.*]]
; CHECK:       bb39:
; CHECK-NEXT:    [[I28444:%.*]] = phi ptr [ [[I28443:%.*]], [[BB35:%.*]] ], [ [[I28441:%.*]], [[BB302:%.*]] ]
; CHECK-NEXT:    [[I25437:%.*]] = phi ptr [ [[I25436:%.*]], [[BB35]] ], [ [[I25434:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I24430:%.*]] = phi ptr [ [[I24429:%.*]], [[BB35]] ], [ [[I24427:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I23423:%.*]] = phi ptr [ [[I23422:%.*]], [[BB35]] ], [ [[I23420:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I22416:%.*]] = phi ptr [ [[I22415:%.*]], [[BB35]] ], [ [[I22413:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I21409:%.*]] = phi ptr [ [[I21408:%.*]], [[BB35]] ], [ [[I21406:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I6401:%.*]] = phi i32 [ [[I6400:%.*]], [[BB35]] ], [ [[I6398:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I32395:%.*]] = phi i64 [ [[I32]], [[BB35]] ], [ [[I32393:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I27383:%.*]] = phi ptr [ [[I27382:%.*]], [[BB35]] ], [ [[I27380:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I26376:%.*]] = phi ptr [ [[I26375:%.*]], [[BB35]] ], [ [[I26373:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I20369:%.*]] = phi ptr [ [[I20368:%.*]], [[BB35]] ], [ [[I20366:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I19362:%.*]] = phi ptr [ [[I19361:%.*]], [[BB35]] ], [ [[I19359:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I4354:%.*]] = phi ptr [ [[I4353:%.*]], [[BB35]] ], [ [[I4351:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I13348:%.*]] = phi i32 [ [[I13347:%.*]], [[BB35]] ], [ [[I13345:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I18340:%.*]] = phi i32 [ [[I18339:%.*]], [[BB35]] ], [ [[I18337:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I333:%.*]] = phi i32 [ [[I332]], [[BB35]] ], [ [[I330:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I5293:%.*]] = phi i32 [ [[I5292:%.*]], [[BB35]] ], [ [[I5290:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I30287:%.*]] = phi i32 [ [[I328_BB29:%.*]], [[BB35]] ], [ [[I30284:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I31281:%.*]] = phi i32 [ [[I326_BB29]], [[BB35]] ], [ [[I31278:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I10246:%.*]] = phi i32 [ [[I10245:%.*]], [[BB35]] ], [ [[I10243:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I40:%.*]] = phi i64 [ [[I37]], [[BB35]] ], [ [[I323:%.*]], [[BB302]] ]
; CHECK-NEXT:    [[I41:%.*]] = trunc i64 [[I40]] to i32
; CHECK-NEXT:    [[I42:%.*]] = shl nsw i32 [[I41]], 1
; CHECK-NEXT:    [[I43:%.*]] = sext i32 [[I42]] to i64
; CHECK-NEXT:    [[I44:%.*]] = and i64 [[I43]], 9223372036854775806
; CHECK-NEXT:    [[I45:%.*]] = icmp eq i64 [[I44]], 0
; CHECK-NEXT:    br i1 [[I45]], label [[BB69:%.*]], label [[BB46:%.*]]
; CHECK:       bb46:
; CHECK-NEXT:    [[I47:%.*]] = phi i64 [ 0, [[BB39]] ], [ [[I58:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I48:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I57:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I49:%.*]] = phi i64 [ 1, [[BB39]] ], [ [[I60:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I50:%.*]] = phi i64 [ 2806196910506780709, [[BB39]] ], [ [[I61:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I51:%.*]] = phi i64 [ [[I44]], [[BB39]] ], [ [[I62:%.*]], [[BB46]] ]
; CHECK-NEXT:    [[I52:%.*]] = and i64 [[I51]], 1
; CHECK-NEXT:    [[I53:%.*]] = icmp eq i64 [[I52]], 0
; CHECK-NEXT:    [[I54:%.*]] = mul i64 [[I50]], [[I47]]
; CHECK-NEXT:    [[I55:%.*]] = add i64 [[I54]], [[I49]]
; CHECK-NEXT:    [[I56:%.*]] = select i1 [[I53]], i64 1, i64 [[I50]]
; CHECK-NEXT:    [[I57]] = mul i64 [[I56]], [[I48]]
; CHECK-NEXT:    [[I58]] = select i1 [[I53]], i64 [[I47]], i64 [[I55]]
; CHECK-NEXT:    [[I59:%.*]] = add i64 [[I50]], 1
; CHECK-NEXT:    [[I60]] = mul i64 [[I59]], [[I49]]
; CHECK-NEXT:    [[I61]] = mul i64 [[I50]], [[I50]]
; CHECK-NEXT:    [[I62]] = lshr i64 [[I51]], 1
; CHECK-NEXT:    [[I63:%.*]] = icmp ult i64 [[I51]], 2
; CHECK-NEXT:    br i1 [[I63]], label [[BB64:%.*]], label [[BB46]]
; CHECK:       bb64:
; CHECK-NEXT:    [[I67:%.*]] = mul i64 [[I57]], 1070
; CHECK-NEXT:    [[I68:%.*]] = add i64 [[I67]], [[I58]]
; CHECK-NEXT:    br label [[BB69]]
; CHECK:       bb69:
; CHECK-NEXT:    [[I70:%.*]] = phi i64 [ [[I68]], [[BB64]] ], [ 1070, [[BB39]] ]
; CHECK-NEXT:    [[I71:%.*]] = mul i64 [[I70]], 2806196910506780709
; CHECK-NEXT:    [[I72:%.*]] = add i64 [[I71]], 1
; CHECK-NEXT:    [[I73:%.*]] = and i64 [[I72]], 9223372036854775807
; CHECK-NEXT:    [[I74:%.*]] = uitofp i64 [[I73]] to double
; CHECK-NEXT:    [[I75:%.*]] = fmul double [[I74]], 0x3C00000000000000
; CHECK-NEXT:    [[I76:%.*]] = mul i64 [[I72]], 2806196910506780709
; CHECK-NEXT:    [[I77:%.*]] = add i64 [[I76]], 1
; CHECK-NEXT:    [[I78:%.*]] = and i64 [[I77]], 9223372036854775807
; CHECK-NEXT:    [[I79:%.*]] = uitofp i64 [[I78]] to double
; CHECK-NEXT:    [[I80:%.*]] = fmul double [[I79]], 0x3C00000000000000
; CHECK-NEXT:    [[I81:%.*]] = fcmp uge double [[I80]], 5.200000e-02
; CHECK-NEXT:    br i1 [[I81]], label [[BB82:%.*]], label [[BB103:%.*]]
; CHECK:       bb82:
; CHECK-NEXT:    [[I83:%.*]] = fcmp uge double [[I80]], 3.270000e-01
; CHECK-NEXT:    br i1 [[I83]], label [[BB84:%.*]], label [[BB103]]
; CHECK:       bb84:
; CHECK-NEXT:    [[I85:%.*]] = fcmp uge double [[I80]], 4.610000e-01
; CHECK-NEXT:    br i1 [[I85]], label [[BB86:%.*]], label [[BB103]]
; CHECK:       bb86:
; CHECK-NEXT:    [[I87:%.*]] = fcmp uge double [[I80]], 0x3FE3AE147AE147AF
; CHECK-NEXT:    br i1 [[I87]], label [[BB88:%.*]], label [[BB103]]
; CHECK:       bb88:
; CHECK-NEXT:    [[I89:%.*]] = fcmp uge double [[I80]], 6.790000e-01
; CHECK-NEXT:    br i1 [[I89]], label [[BB90:%.*]], label [[BB103]]
; CHECK:       bb90:
; CHECK-NEXT:    [[I91:%.*]] = fcmp uge double [[I80]], 0x3FE7D70A3D70A3D8
; CHECK-NEXT:    br i1 [[I91]], label [[BB92:%.*]], label [[BB103]]
; CHECK:       bb92:
; CHECK-NEXT:    [[I93:%.*]] = fcmp uge double [[I80]], 8.000000e-01
; CHECK-NEXT:    br i1 [[I93]], label [[BB94:%.*]], label [[BB103]]
; CHECK:       bb94:
; CHECK-NEXT:    [[I95:%.*]] = fcmp uge double [[I80]], 8.080000e-01
; CHECK-NEXT:    br i1 [[I95]], label [[BB96:%.*]], label [[BB103]]
; CHECK:       bb96:
; CHECK-NEXT:    [[I97:%.*]] = fcmp uge double [[I80]], 0x3FEA5604189374BD
; CHECK-NEXT:    br i1 [[I97]], label [[BB98:%.*]], label [[BB103]]
; CHECK:       bb98:
; CHECK-NEXT:    [[I99:%.*]] = fcmp uge double [[I80]], 0x3FEB22D0E560418A
; CHECK-NEXT:    br i1 [[I99]], label [[BB100:%.*]], label [[BB103]]
; CHECK:       bb100:
; CHECK-NEXT:    [[I101:%.*]] = fcmp uge double [[I80]], 0x3FEB8D4FDF3B645B
; CHECK-NEXT:    br i1 [[I101]], label [[BB103_FROM_BB102:%.*]], label [[BB103]]
; CHECK:       bb103.from.bb102:
; CHECK-NEXT:    br label [[BB103]]
; CHECK:       bb103:
; CHECK-NEXT:    [[I104:%.*]] = phi i32 [ 0, [[BB103_FROM_BB102]] ], [ 1, [[BB69]] ], [ 2, [[BB82]] ], [ 3, [[BB84]] ], [ 4, [[BB86]] ], [ 5, [[BB88]] ], [ 6, [[BB90]] ], [ 7, [[BB92]] ], [ 8, [[BB94]] ], [ 9, [[BB96]] ], [ 10, [[BB98]] ], [ 11, [[BB100]] ]
; CHECK-NEXT:    [[I105:%.*]] = load i64, ptr [[I19362]], align 8, !tbaa [[TBAA27]]
; CHECK-NEXT:    [[I106:%.*]] = load i64, ptr [[I20369]], align 8, !tbaa [[TBAA28]]
; CHECK-NEXT:    [[I107:%.*]] = load ptr, ptr [[ARG2]], align 8, !tbaa [[TBAA29]]
; CHECK-NEXT:    [[I108:%.*]] = load ptr, ptr [[I21409]], align 8, !tbaa [[TBAA31]]
; CHECK-NEXT:    [[I109:%.*]] = load ptr, ptr [[I22416]], align 8, !tbaa [[TBAA32]]
; CHECK-NEXT:    [[I110:%.*]] = load ptr, ptr [[I23423]], align 8, !tbaa [[TBAA33]]
; CHECK-NEXT:    [[I111:%.*]] = load ptr, ptr [[I24430]], align 8, !tbaa [[TBAA34]]
; CHECK-NEXT:    [[I112:%.*]] = load ptr, ptr [[I25437]], align 8, !tbaa [[TBAA35]]
; CHECK-NEXT:    [[I113:%.*]] = load i32, ptr [[I26376]], align 8, !tbaa [[TBAA36]]
; CHECK-NEXT:    [[I114:%.*]] = load i32, ptr [[I27383]], align 4, !tbaa [[TBAA37]]
; CHECK-NEXT:    [[I115:%.*]] = load i32, ptr [[I28444]], align 4, !tbaa [[TBAA38]]
; CHECK-NEXT:    switch i32 [[I113]], label [[BB139:%.*]] [
; CHECK-NEXT:      i32 0, label [[BB116:%.*]]
; CHECK-NEXT:      i32 2, label [[CACHESTORE0:%.*]]
; CHECK-NEXT:    ]
; CHECK:       bb116:
; CHECK-NEXT:    [[I117:%.*]] = mul nsw i64 [[I106]], [[I105]]
; CHECK-NEXT:    [[I118:%.*]] = icmp sgt i64 [[I117]], 2
; CHECK-NEXT:    br i1 [[I118]], label [[BB119:%.*]], label [[BB139]]
; CHECK:       bb119:
; CHECK-NEXT:    [[I120:%.*]] = add nsw i64 [[I117]], -1
; CHECK-NEXT:    br label [[BB121:%.*]]
; CHECK:       bb121:
; CHECK-NEXT:    [[I122:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I132:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I123:%.*]] = phi i64 [ 0, [[BB119]] ], [ [[I131:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I124:%.*]] = phi i64 [ [[I120]], [[BB119]] ], [ [[I130:%.*]], [[BB121]] ]
; CHECK-NEXT:    [[I125:%.*]] = lshr i64 [[I122]], 1
; CHECK-NEXT:    [[I126:%.*]] = add nuw nsw i64 [[I125]], [[I123]]
; CHECK-NEXT:    [[I127:%.*]] = getelementptr inbounds double, ptr [[I109]], i64 [[I126]]
; CHECK-NEXT:    [[I128:%.*]] = load double, ptr [[I127]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    [[I129:%.*]] = fcmp ogt double [[I128]], [[I75]]
; CHECK-NEXT:    [[I130]] = select i1 [[I129]], i64 [[I126]], i64 [[I124]]
; CHECK-NEXT:    [[I131]] = select i1 [[I129]], i64 [[I123]], i64 [[I126]]
; CHECK-NEXT:    [[I132]] = sub nsw i64 [[I130]], [[I131]]
; CHECK-NEXT:    [[I133:%.*]] = icmp sgt i64 [[I132]], 1
; CHECK-NEXT:    br i1 [[I133]], label [[BB121]], label [[BB139]]
; CHECK:       CacheStore0:
; CHECK-NEXT:    [[TMP6:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP7:%.*]] = load ptr, ptr [[TMP6]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR:%.*]] = getelementptr inbounds i32, ptr [[TMP7]], i32 0
; CHECK-NEXT:    [[CACHEIDX:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP8:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP9:%.*]] = load ptr, ptr [[TMP8]], align 8
; CHECK-NEXT:    [[TMP10:%.*]] = getelementptr inbounds ptr, ptr [[TMP9]], i32 0
; CHECK-NEXT:    [[CACHE_OUT_PTR:%.*]] = load ptr, ptr [[TMP10]], align 8
; CHECK-NEXT:    [[CACHECELL:%.*]] = getelementptr inbounds [[CACHE_CELL0:%.*]], ptr [[CACHE_OUT_PTR]], i32 [[CACHEIDX]]
; CHECK-NEXT:    [[I10_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10246]], ptr [[I10_CACHEIDX]], align 4, !invariant.group [[META41]]
; CHECK-NEXT:    [[I70_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70]], ptr [[I70_CACHEIDX]], align 8, !invariant.group [[META42]]
; CHECK-NEXT:    [[I115_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 2
; CHECK-NEXT:    store i32 [[I115]], ptr [[I115_CACHEIDX]], align 4, !invariant.group [[META43]]
; CHECK-NEXT:    [[I114_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I114]], ptr [[I114_CACHEIDX]], align 4, !invariant.group [[META44]]
; CHECK-NEXT:    [[I113_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 4
; CHECK-NEXT:    store i32 2, ptr [[I113_CACHEIDX]], align 4, !invariant.group [[META45]]
; CHECK-NEXT:    [[I112_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I112]], ptr [[I112_CACHEIDX]], align 8, !invariant.group [[META46]]
; CHECK-NEXT:    [[I111_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I111]], ptr [[I111_CACHEIDX]], align 8, !invariant.group [[META47]]
; CHECK-NEXT:    [[I110_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 7
; CHECK-NEXT:    store ptr [[I110]], ptr [[I110_CACHEIDX]], align 8, !invariant.group [[META48]]
; CHECK-NEXT:    [[I108_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 8
; CHECK-NEXT:    store ptr [[I108]], ptr [[I108_CACHEIDX]], align 8, !invariant.group [[META49]]
; CHECK-NEXT:    [[I107_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 9
; CHECK-NEXT:    store ptr [[I107]], ptr [[I107_CACHEIDX]], align 8, !invariant.group [[META50]]
; CHECK-NEXT:    [[I106_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 10
; CHECK-NEXT:    store i64 [[I106]], ptr [[I106_CACHEIDX]], align 8, !invariant.group [[META51]]
; CHECK-NEXT:    [[I105_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 11
; CHECK-NEXT:    store i64 [[I105]], ptr [[I105_CACHEIDX]], align 8, !invariant.group [[META52]]
; CHECK-NEXT:    [[I104_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 12
; CHECK-NEXT:    store i32 [[I104]], ptr [[I104_CACHEIDX]], align 4, !invariant.group [[META53]]
; CHECK-NEXT:    [[I40_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 13
; CHECK-NEXT:    store i64 [[I40]], ptr [[I40_CACHEIDX]], align 8, !invariant.group [[META54]]
; CHECK-NEXT:    [[I31_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 14
; CHECK-NEXT:    store i32 [[I31281]], ptr [[I31_CACHEIDX]], align 4, !invariant.group [[META55]]
; CHECK-NEXT:    [[I30_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I30287]], ptr [[I30_CACHEIDX]], align 4, !invariant.group [[META56]]
; CHECK-NEXT:    [[I5_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 16
; CHECK-NEXT:    store i32 [[I5293]], ptr [[I5_CACHEIDX]], align 4, !invariant.group [[META57]]
; CHECK-NEXT:    [[I_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 17
; CHECK-NEXT:    store i32 [[I333]], ptr [[I_CACHEIDX]], align 4, !invariant.group [[META58]]
; CHECK-NEXT:    [[I18_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL0]], ptr [[CACHECELL]], i32 0, i32 18
; CHECK-NEXT:    store i32 [[I18340]], ptr [[I18_CACHEIDX]], align 4, !invariant.group [[META59]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb139:
; CHECK-NEXT:    [[I140:%.*]] = phi i64 [ -1, [[BB103]] ], [ 0, [[BB116]] ], [ [[I131]], [[BB121]] ]
; CHECK-NEXT:    [[I141:%.*]] = zext nneg i32 [[I104]] to i64
; CHECK-NEXT:    [[I142:%.*]] = getelementptr inbounds i32, ptr [[I107]], i64 [[I141]]
; CHECK-NEXT:    [[I143:%.*]] = load i32, ptr [[I142]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I144:%.*]] = icmp sgt i32 [[I143]], 0
; CHECK-NEXT:    br i1 [[I144]], label [[BB145:%.*]], label [[BB302]]
; CHECK:       bb145:
; CHECK-NEXT:    [[I146:%.*]] = mul nsw i32 [[I115]], [[I104]]
; CHECK-NEXT:    [[I147:%.*]] = mul nsw i64 [[I140]], [[I105]]
; CHECK-NEXT:    [[I148:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I147]]
; CHECK-NEXT:    [[I149:%.*]] = add i64 [[I106]], -1
; CHECK-NEXT:    [[I150:%.*]] = icmp sgt i64 [[I106]], 2
; CHECK-NEXT:    [[I151:%.*]] = add nsw i32 [[I114]], -1
; CHECK-NEXT:    [[I152:%.*]] = sext i32 [[I151]] to i64
; CHECK-NEXT:    [[I153:%.*]] = icmp eq i64 [[I140]], [[I152]]
; CHECK-NEXT:    [[I154:%.*]] = add nsw i64 [[I140]], 1
; CHECK-NEXT:    [[I155:%.*]] = mul nsw i64 [[I154]], [[I105]]
; CHECK-NEXT:    [[I156:%.*]] = getelementptr i32, ptr [[I110]], i64 [[I155]]
; CHECK-NEXT:    [[I157:%.*]] = trunc i64 [[I106]] to i32
; CHECK-NEXT:    [[I158:%.*]] = add i32 [[I157]], -1
; CHECK-NEXT:    br label [[BB159:%.*]]
; CHECK:       bb159:
; CHECK-NEXT:    [[I149463:%.*]] = phi i64 [ [[I149]], [[BB145]] ], [ [[I149462:%.*]], [[BB255:%.*]] ]
; CHECK-NEXT:    [[I156454:%.*]] = phi ptr [ [[I156]], [[BB145]] ], [ [[I156453:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I148452:%.*]] = phi ptr [ [[I148]], [[BB145]] ], [ [[I148451:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I153450:%.*]] = phi i1 [ [[I153]], [[BB145]] ], [ [[I153449:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I146448:%.*]] = phi i32 [ [[I146]], [[BB145]] ], [ [[I146447:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I142446:%.*]] = phi ptr [ [[I142]], [[BB145]] ], [ [[I142445:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I28442:%.*]] = phi ptr [ [[I28444]], [[BB145]] ], [ [[I28439:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I25435:%.*]] = phi ptr [ [[I25437]], [[BB145]] ], [ [[I25432:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I24428:%.*]] = phi ptr [ [[I24430]], [[BB145]] ], [ [[I24425:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I23421:%.*]] = phi ptr [ [[I23423]], [[BB145]] ], [ [[I23418:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I22414:%.*]] = phi ptr [ [[I22416]], [[BB145]] ], [ [[I22411:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I21407:%.*]] = phi ptr [ [[I21409]], [[BB145]] ], [ [[I21404:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I6399:%.*]] = phi i32 [ [[I6401]], [[BB145]] ], [ [[I6396:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I32394:%.*]] = phi i64 [ [[I32395]], [[BB145]] ], [ [[I32391:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I41390:%.*]] = phi i32 [ [[I41]], [[BB145]] ], [ [[I41387:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I75386:%.*]] = phi double [ [[I75]], [[BB145]] ], [ [[I75384:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I27381:%.*]] = phi ptr [ [[I27383]], [[BB145]] ], [ [[I27378:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I26374:%.*]] = phi ptr [ [[I26376]], [[BB145]] ], [ [[I26371:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I20367:%.*]] = phi ptr [ [[I20369]], [[BB145]] ], [ [[I20364:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I19360:%.*]] = phi ptr [ [[I19362]], [[BB145]] ], [ [[I19357:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I4352:%.*]] = phi ptr [ [[I4354]], [[BB145]] ], [ [[I4349:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I13346:%.*]] = phi i32 [ [[I13348]], [[BB145]] ], [ [[I13342:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I18338:%.*]] = phi i32 [ [[I18340]], [[BB145]] ], [ [[I18335:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I331:%.*]] = phi i32 [ [[I333]], [[BB145]] ], [ [[I302:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I5291:%.*]] = phi i32 [ [[I5293]], [[BB145]] ], [ [[I5288:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I30285:%.*]] = phi i32 [ [[I30287]], [[BB145]] ], [ [[I30282:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I31279:%.*]] = phi i32 [ [[I31281]], [[BB145]] ], [ [[I31276:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I40275:%.*]] = phi i64 [ [[I40]], [[BB145]] ], [ [[I40272:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I106269:%.*]] = phi i64 [ [[I106]], [[BB145]] ], [ [[I106268:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I108265:%.*]] = phi ptr [ [[I108]], [[BB145]] ], [ [[I108264:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I111261:%.*]] = phi ptr [ [[I111]], [[BB145]] ], [ [[I111260:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I112258:%.*]] = phi ptr [ [[I112]], [[BB145]] ], [ [[I112257:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I113255:%.*]] = phi i32 [ [[I113]], [[BB145]] ], [ [[I113254:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I70250:%.*]] = phi i64 [ [[I70]], [[BB145]] ], [ [[I70248:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I10244:%.*]] = phi i32 [ [[I10246]], [[BB145]] ], [ [[I10241:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I160:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I298:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I161:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I297:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I162:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I296:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I163:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I295:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I164:%.*]] = phi double [ 0.000000e+00, [[BB145]] ], [ [[I294:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I165:%.*]] = phi i32 [ 0, [[BB145]] ], [ [[I299:%.*]], [[BB255]] ]
; CHECK-NEXT:    [[I166:%.*]] = add nsw i32 [[I165]], [[I146448]]
; CHECK-NEXT:    [[I167:%.*]] = sext i32 [[I166]] to i64
; CHECK-NEXT:    [[I168:%.*]] = getelementptr inbounds i32, ptr [[I112258]], i64 [[I167]]
; CHECK-NEXT:    [[I169:%.*]] = load i32, ptr [[I168]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I170:%.*]] = getelementptr inbounds double, ptr [[I108265]], i64 [[I167]]
; CHECK-NEXT:    [[I171:%.*]] = load double, ptr [[I170]], align 8, !tbaa [[TBAA39]]
; CHECK-NEXT:    switch i32 [[I113255]], label [[CACHESTORE2:%.*]] [
; CHECK-NEXT:      i32 1, label [[CACHESTORE1:%.*]]
; CHECK-NEXT:      i32 0, label [[BB197:%.*]]
; CHECK-NEXT:    ]
; CHECK:       CacheStore1:
; CHECK-NEXT:    [[TMP11:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP12:%.*]] = load ptr, ptr [[TMP11]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR47:%.*]] = getelementptr inbounds i32, ptr [[TMP12]], i32 1
; CHECK-NEXT:    [[CACHEIDX48:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR47]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP13:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP14:%.*]] = load ptr, ptr [[TMP13]], align 8
; CHECK-NEXT:    [[TMP15:%.*]] = getelementptr inbounds ptr, ptr [[TMP14]], i32 1
; CHECK-NEXT:    [[CACHE_OUT_PTR49:%.*]] = load ptr, ptr [[TMP15]], align 8
; CHECK-NEXT:    [[CACHECELL50:%.*]] = getelementptr inbounds [[CACHE_CELL1:%.*]], ptr [[CACHE_OUT_PTR49]], i32 [[CACHEIDX48]]
; CHECK-NEXT:    [[I10_CACHEIDX51:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX51]], align 4, !invariant.group [[META61]]
; CHECK-NEXT:    [[I70_CACHEIDX52:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX52]], align 8, !invariant.group [[META62]]
; CHECK-NEXT:    [[I142_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX]], align 8, !invariant.group [[META63]]
; CHECK-NEXT:    [[I146_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX]], align 4, !invariant.group [[META64]]
; CHECK-NEXT:    [[I153_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX]], align 1, !invariant.group [[META65]]
; CHECK-NEXT:    [[I148_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX]], align 8, !invariant.group [[META66]]
; CHECK-NEXT:    [[I156_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX]], align 8, !invariant.group [[META67]]
; CHECK-NEXT:    [[I171_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX]], align 8, !invariant.group [[META68]]
; CHECK-NEXT:    [[I169_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX]], align 4, !invariant.group [[META69]]
; CHECK-NEXT:    [[I165_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX]], align 4, !invariant.group [[META70]]
; CHECK-NEXT:    [[I164_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX]], align 8, !invariant.group [[META71]]
; CHECK-NEXT:    [[I163_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX]], align 8, !invariant.group [[META72]]
; CHECK-NEXT:    [[I162_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX]], align 8, !invariant.group [[META73]]
; CHECK-NEXT:    [[I161_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX]], align 8, !invariant.group [[META74]]
; CHECK-NEXT:    [[I160_CACHEIDX:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX]], align 8, !invariant.group [[META75]]
; CHECK-NEXT:    [[I113_CACHEIDX53:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 15
; CHECK-NEXT:    store i32 1, ptr [[I113_CACHEIDX53]], align 4, !invariant.group [[META76]]
; CHECK-NEXT:    [[I112_CACHEIDX54:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX54]], align 8, !invariant.group [[META77]]
; CHECK-NEXT:    [[I111_CACHEIDX55:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX55]], align 8, !invariant.group [[META78]]
; CHECK-NEXT:    [[I108_CACHEIDX56:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX56]], align 8, !invariant.group [[META79]]
; CHECK-NEXT:    [[I106_CACHEIDX57:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX57]], align 8, !invariant.group [[META80]]
; CHECK-NEXT:    [[I40_CACHEIDX58:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX58]], align 8, !invariant.group [[META81]]
; CHECK-NEXT:    [[I31_CACHEIDX59:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX59]], align 4, !invariant.group [[META82]]
; CHECK-NEXT:    [[I30_CACHEIDX60:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX60]], align 4, !invariant.group [[META83]]
; CHECK-NEXT:    [[I5_CACHEIDX61:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX61]], align 4, !invariant.group [[META84]]
; CHECK-NEXT:    [[I_CACHEIDX62:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX62]], align 4, !invariant.group [[META85]]
; CHECK-NEXT:    [[I18_CACHEIDX63:%.*]] = getelementptr inbounds [[CACHE_CELL1]], ptr [[CACHECELL50]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX63]], align 4, !invariant.group [[META86]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       bb197:
; CHECK-NEXT:    [[I198:%.*]] = sext i32 [[I169]] to i64
; CHECK-NEXT:    [[I199:%.*]] = getelementptr i32, ptr [[I148452]], i64 [[I198]]
; CHECK-NEXT:    [[I200:%.*]] = load i32, ptr [[I199]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I201:%.*]] = sext i32 [[I200]] to i64
; CHECK-NEXT:    [[I202:%.*]] = icmp eq i64 [[I149463]], [[I201]]
; CHECK-NEXT:    [[I203:%.*]] = mul nsw i64 [[I106269]], [[I198]]
; CHECK-NEXT:    [[I204:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT:%.*]], ptr [[I111261]], i64 [[I203]]
; CHECK-NEXT:    [[I205:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I204]], i64 [[I201]]
; CHECK-NEXT:    [[I206:%.*]] = select i1 [[I202]], i64 -48, i64 0
; CHECK-NEXT:    [[I207:%.*]] = getelementptr i8, ptr [[I205]], i64 [[I206]]
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       CacheStore2:
; CHECK-NEXT:    [[TMP16:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 3
; CHECK-NEXT:    [[TMP17:%.*]] = load ptr, ptr [[TMP16]], align 8
; CHECK-NEXT:    [[CONTCOUNT_PTR129:%.*]] = getelementptr inbounds i32, ptr [[TMP17]], i32 2
; CHECK-NEXT:    [[CACHEIDX130:%.*]] = atomicrmw add ptr [[CONTCOUNT_PTR129]], i32 1 monotonic, align 4
; CHECK-NEXT:    [[TMP18:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP19:%.*]] = load ptr, ptr [[TMP18]], align 8
; CHECK-NEXT:    [[TMP20:%.*]] = getelementptr inbounds ptr, ptr [[TMP19]], i32 2
; CHECK-NEXT:    [[CACHE_OUT_PTR131:%.*]] = load ptr, ptr [[TMP20]], align 8
; CHECK-NEXT:    [[CACHECELL132:%.*]] = getelementptr inbounds [[CACHE_CELL2:%.*]], ptr [[CACHE_OUT_PTR131]], i32 [[CACHEIDX130]]
; CHECK-NEXT:    [[I10_CACHEIDX133:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 0
; CHECK-NEXT:    store i32 [[I10244]], ptr [[I10_CACHEIDX133]], align 4, !invariant.group [[META94]]
; CHECK-NEXT:    [[I70_CACHEIDX134:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 1
; CHECK-NEXT:    store i64 [[I70250]], ptr [[I70_CACHEIDX134]], align 8, !invariant.group [[META95]]
; CHECK-NEXT:    [[I142_CACHEIDX135:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 2
; CHECK-NEXT:    store ptr [[I142446]], ptr [[I142_CACHEIDX135]], align 8, !invariant.group [[META96]]
; CHECK-NEXT:    [[I146_CACHEIDX136:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 3
; CHECK-NEXT:    store i32 [[I146448]], ptr [[I146_CACHEIDX136]], align 4, !invariant.group [[META97]]
; CHECK-NEXT:    [[I153_CACHEIDX137:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 4
; CHECK-NEXT:    store i1 [[I153450]], ptr [[I153_CACHEIDX137]], align 1, !invariant.group [[META98]]
; CHECK-NEXT:    [[I148_CACHEIDX138:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 5
; CHECK-NEXT:    store ptr [[I148452]], ptr [[I148_CACHEIDX138]], align 8, !invariant.group [[META99]]
; CHECK-NEXT:    [[I156_CACHEIDX139:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 6
; CHECK-NEXT:    store ptr [[I156454]], ptr [[I156_CACHEIDX139]], align 8, !invariant.group [[META100]]
; CHECK-NEXT:    [[I171_CACHEIDX140:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 7
; CHECK-NEXT:    store double [[I171]], ptr [[I171_CACHEIDX140]], align 8, !invariant.group [[META101]]
; CHECK-NEXT:    [[I169_CACHEIDX141:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 8
; CHECK-NEXT:    store i32 [[I169]], ptr [[I169_CACHEIDX141]], align 4, !invariant.group [[META102]]
; CHECK-NEXT:    [[I165_CACHEIDX142:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 9
; CHECK-NEXT:    store i32 [[I165]], ptr [[I165_CACHEIDX142]], align 4, !invariant.group [[META103]]
; CHECK-NEXT:    [[I164_CACHEIDX143:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 10
; CHECK-NEXT:    store double [[I164]], ptr [[I164_CACHEIDX143]], align 8, !invariant.group [[META104]]
; CHECK-NEXT:    [[I163_CACHEIDX144:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 11
; CHECK-NEXT:    store double [[I163]], ptr [[I163_CACHEIDX144]], align 8, !invariant.group [[META105]]
; CHECK-NEXT:    [[I162_CACHEIDX145:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 12
; CHECK-NEXT:    store double [[I162]], ptr [[I162_CACHEIDX145]], align 8, !invariant.group [[META106]]
; CHECK-NEXT:    [[I161_CACHEIDX146:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 13
; CHECK-NEXT:    store double [[I161]], ptr [[I161_CACHEIDX146]], align 8, !invariant.group [[META107]]
; CHECK-NEXT:    [[I160_CACHEIDX147:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 14
; CHECK-NEXT:    store double [[I160]], ptr [[I160_CACHEIDX147]], align 8, !invariant.group [[META108]]
; CHECK-NEXT:    [[I113_CACHEIDX148:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 15
; CHECK-NEXT:    store i32 [[I113255]], ptr [[I113_CACHEIDX148]], align 4, !invariant.group [[META109]]
; CHECK-NEXT:    [[I112_CACHEIDX149:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 16
; CHECK-NEXT:    store ptr [[I112258]], ptr [[I112_CACHEIDX149]], align 8, !invariant.group [[META110]]
; CHECK-NEXT:    [[I111_CACHEIDX150:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 17
; CHECK-NEXT:    store ptr [[I111261]], ptr [[I111_CACHEIDX150]], align 8, !invariant.group [[META111]]
; CHECK-NEXT:    [[I108_CACHEIDX151:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 18
; CHECK-NEXT:    store ptr [[I108265]], ptr [[I108_CACHEIDX151]], align 8, !invariant.group [[META112]]
; CHECK-NEXT:    [[I106_CACHEIDX152:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 19
; CHECK-NEXT:    store i64 [[I106269]], ptr [[I106_CACHEIDX152]], align 8, !invariant.group [[META113]]
; CHECK-NEXT:    [[I40_CACHEIDX153:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 20
; CHECK-NEXT:    store i64 [[I40275]], ptr [[I40_CACHEIDX153]], align 8, !invariant.group [[META114]]
; CHECK-NEXT:    [[I31_CACHEIDX154:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 21
; CHECK-NEXT:    store i32 [[I31279]], ptr [[I31_CACHEIDX154]], align 4, !invariant.group [[META115]]
; CHECK-NEXT:    [[I30_CACHEIDX155:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 22
; CHECK-NEXT:    store i32 [[I30285]], ptr [[I30_CACHEIDX155]], align 4, !invariant.group [[META116]]
; CHECK-NEXT:    [[I5_CACHEIDX156:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 23
; CHECK-NEXT:    store i32 [[I5291]], ptr [[I5_CACHEIDX156]], align 4, !invariant.group [[META117]]
; CHECK-NEXT:    [[I_CACHEIDX157:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 24
; CHECK-NEXT:    store i32 [[I331]], ptr [[I_CACHEIDX157]], align 4, !invariant.group [[META118]]
; CHECK-NEXT:    [[I18_CACHEIDX158:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL132]], i32 0, i32 25
; CHECK-NEXT:    store i32 [[I18338]], ptr [[I18_CACHEIDX158]], align 4, !invariant.group [[META119]]
; CHECK-NEXT:    br label [[THREADEXIT]]
; CHECK:       CacheRemat2:
; CHECK-NEXT:    [[TMP21:%.*]] = getelementptr inbounds [[STRUCT_KERNELLAUNCHENVIRONMENTTY_0]], ptr [[ARG]], i32 0, i32 4
; CHECK-NEXT:    [[TMP22:%.*]] = load ptr, ptr [[TMP21]], align 8
; CHECK-NEXT:    [[TMP23:%.*]] = getelementptr inbounds ptr, ptr [[TMP22]], i32 5
; CHECK-NEXT:    [[CACHE_IN_PTR163:%.*]] = load ptr, ptr [[TMP23]], align 8
; CHECK-NEXT:    [[CACHECELL164:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHE_IN_PTR163]], i32 [[GTID159]]
; CHECK-NEXT:    [[I10_CACHEIDX165:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 0
; CHECK-NEXT:    [[I10_CACHE166:%.*]] = load i32, ptr [[I10_CACHEIDX165]], align 4, !invariant.group [[META94]]
; CHECK-NEXT:    [[I70_CACHEIDX167:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 1
; CHECK-NEXT:    [[I70_CACHE168:%.*]] = load i64, ptr [[I70_CACHEIDX167]], align 8, !invariant.group [[META95]]
; CHECK-NEXT:    [[I142_CACHEIDX169:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 2
; CHECK-NEXT:    [[I142_CACHE170:%.*]] = load ptr, ptr [[I142_CACHEIDX169]], align 8, !invariant.group [[META96]]
; CHECK-NEXT:    [[I146_CACHEIDX171:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 3
; CHECK-NEXT:    [[I146_CACHE172:%.*]] = load i32, ptr [[I146_CACHEIDX171]], align 4, !invariant.group [[META97]]
; CHECK-NEXT:    [[I153_CACHEIDX173:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 4
; CHECK-NEXT:    [[I153_CACHE174:%.*]] = load i1, ptr [[I153_CACHEIDX173]], align 1, !invariant.group [[META98]]
; CHECK-NEXT:    [[I148_CACHEIDX175:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 5
; CHECK-NEXT:    [[I148_CACHE176:%.*]] = load ptr, ptr [[I148_CACHEIDX175]], align 8, !invariant.group [[META99]]
; CHECK-NEXT:    [[I156_CACHEIDX177:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 6
; CHECK-NEXT:    [[I156_CACHE178:%.*]] = load ptr, ptr [[I156_CACHEIDX177]], align 8, !invariant.group [[META100]]
; CHECK-NEXT:    [[I171_CACHEIDX179:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 7
; CHECK-NEXT:    [[I171_CACHE180:%.*]] = load double, ptr [[I171_CACHEIDX179]], align 8, !invariant.group [[META101]]
; CHECK-NEXT:    [[I169_CACHEIDX181:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 8
; CHECK-NEXT:    [[I169_CACHE182:%.*]] = load i32, ptr [[I169_CACHEIDX181]], align 4, !invariant.group [[META102]]
; CHECK-NEXT:    [[I165_CACHEIDX183:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 9
; CHECK-NEXT:    [[I165_CACHE184:%.*]] = load i32, ptr [[I165_CACHEIDX183]], align 4, !invariant.group [[META103]]
; CHECK-NEXT:    [[I164_CACHEIDX185:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 10
; CHECK-NEXT:    [[I164_CACHE186:%.*]] = load double, ptr [[I164_CACHEIDX185]], align 8, !invariant.group [[META104]]
; CHECK-NEXT:    [[I163_CACHEIDX187:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 11
; CHECK-NEXT:    [[I163_CACHE188:%.*]] = load double, ptr [[I163_CACHEIDX187]], align 8, !invariant.group [[META105]]
; CHECK-NEXT:    [[I162_CACHEIDX189:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 12
; CHECK-NEXT:    [[I162_CACHE190:%.*]] = load double, ptr [[I162_CACHEIDX189]], align 8, !invariant.group [[META106]]
; CHECK-NEXT:    [[I161_CACHEIDX191:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 13
; CHECK-NEXT:    [[I161_CACHE192:%.*]] = load double, ptr [[I161_CACHEIDX191]], align 8, !invariant.group [[META107]]
; CHECK-NEXT:    [[I160_CACHEIDX193:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 14
; CHECK-NEXT:    [[I160_CACHE194:%.*]] = load double, ptr [[I160_CACHEIDX193]], align 8, !invariant.group [[META108]]
; CHECK-NEXT:    [[I113_CACHEIDX195:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 15
; CHECK-NEXT:    [[I113_CACHE196:%.*]] = load i32, ptr [[I113_CACHEIDX195]], align 4, !invariant.group [[META109]]
; CHECK-NEXT:    [[I112_CACHEIDX197:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 16
; CHECK-NEXT:    [[I112_CACHE198:%.*]] = load ptr, ptr [[I112_CACHEIDX197]], align 8, !invariant.group [[META110]]
; CHECK-NEXT:    [[I111_CACHEIDX199:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 17
; CHECK-NEXT:    [[I111_CACHE200:%.*]] = load ptr, ptr [[I111_CACHEIDX199]], align 8, !invariant.group [[META111]]
; CHECK-NEXT:    [[I108_CACHEIDX201:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 18
; CHECK-NEXT:    [[I108_CACHE202:%.*]] = load ptr, ptr [[I108_CACHEIDX201]], align 8, !invariant.group [[META112]]
; CHECK-NEXT:    [[I106_CACHEIDX203:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 19
; CHECK-NEXT:    [[I106_CACHE204:%.*]] = load i64, ptr [[I106_CACHEIDX203]], align 8, !invariant.group [[META113]]
; CHECK-NEXT:    [[I40_CACHEIDX205:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 20
; CHECK-NEXT:    [[I40_CACHE206:%.*]] = load i64, ptr [[I40_CACHEIDX205]], align 8, !invariant.group [[META114]]
; CHECK-NEXT:    [[I31_CACHEIDX207:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 21
; CHECK-NEXT:    [[I31_CACHE208:%.*]] = load i32, ptr [[I31_CACHEIDX207]], align 4, !invariant.group [[META115]]
; CHECK-NEXT:    [[I30_CACHEIDX209:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 22
; CHECK-NEXT:    [[I30_CACHE210:%.*]] = load i32, ptr [[I30_CACHEIDX209]], align 4, !invariant.group [[META116]]
; CHECK-NEXT:    [[I5_CACHEIDX211:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 23
; CHECK-NEXT:    [[I5_CACHE212:%.*]] = load i32, ptr [[I5_CACHEIDX211]], align 4, !invariant.group [[META117]]
; CHECK-NEXT:    [[I_CACHEIDX213:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 24
; CHECK-NEXT:    [[I_CACHE214:%.*]] = load i32, ptr [[I_CACHEIDX213]], align 4, !invariant.group [[META118]]
; CHECK-NEXT:    [[I18_CACHEIDX215:%.*]] = getelementptr inbounds [[CACHE_CELL2]], ptr [[CACHECELL164]], i32 0, i32 25
; CHECK-NEXT:    [[I18_CACHE216:%.*]] = load i32, ptr [[I18_CACHEIDX215]], align 4, !invariant.group [[META119]]
; CHECK-NEXT:    [[I13_RECOMPUTE217:%.*]] = shl nsw i32 [[I10_CACHE166]], 7
; CHECK-NEXT:    [[I4_RECOMPUTE218:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 24
; CHECK-NEXT:    [[I19_RECOMPUTE219:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 8
; CHECK-NEXT:    [[I20_RECOMPUTE220:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 16
; CHECK-NEXT:    [[I26_RECOMPUTE221:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 40
; CHECK-NEXT:    [[I27_RECOMPUTE222:%.*]] = getelementptr inbounds i8, ptr [[ARG1]], i64 44
; CHECK-NEXT:    [[I71_RECOMPUTE223:%.*]] = mul i64 [[I70_CACHE168]], 2806196910506780709
; CHECK-NEXT:    [[I72_RECOMPUTE224:%.*]] = add i64 [[I71_RECOMPUTE223]], 1
; CHECK-NEXT:    [[I73_RECOMPUTE225:%.*]] = and i64 [[I72_RECOMPUTE224]], 9223372036854775807
; CHECK-NEXT:    [[I74_RECOMPUTE226:%.*]] = uitofp i64 [[I73_RECOMPUTE225]] to double
; CHECK-NEXT:    [[I75_RECOMPUTE227:%.*]] = fmul double [[I74_RECOMPUTE226]], 0x3C00000000000000
; CHECK-NEXT:    [[I149_RECOMPUTE228:%.*]] = add i64 [[I106_CACHE204]], -1
; CHECK-NEXT:    [[I150_RECOMPUTE229:%.*]] = icmp sgt i64 [[I106_CACHE204]], 2
; CHECK-NEXT:    [[I157_RECOMPUTE230:%.*]] = trunc i64 [[I106_CACHE204]] to i32
; CHECK-NEXT:    [[I158_RECOMPUTE231:%.*]] = add i32 [[I157_RECOMPUTE230]], -1
; CHECK-NEXT:    [[I41_RECOMPUTE232:%.*]] = trunc i64 [[I40_CACHE206]] to i32
; CHECK-NEXT:    [[I32_RECOMPUTE233:%.*]] = zext i32 [[I30_CACHE210]] to i64
; CHECK-NEXT:    [[I6_RECOMPUTE234:%.*]] = add nsw i32 [[I5_CACHE212]], -1
; CHECK-NEXT:    [[I21_RECOMPUTE235:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 8
; CHECK-NEXT:    [[I22_RECOMPUTE236:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 24
; CHECK-NEXT:    [[I23_RECOMPUTE237:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 32
; CHECK-NEXT:    [[I24_RECOMPUTE238:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 40
; CHECK-NEXT:    [[I25_RECOMPUTE239:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 16
; CHECK-NEXT:    [[I28_RECOMPUTE240:%.*]] = getelementptr inbounds i8, ptr [[ARG2]], i64 76
; CHECK-NEXT:    [[I209:%.*]] = sext i32 [[I169_CACHE182]] to i64
; CHECK-NEXT:    [[I210:%.*]] = getelementptr i32, ptr [[I148_CACHE176]], i64 [[I209]]
; CHECK-NEXT:    [[I211:%.*]] = load i32, ptr [[I210]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    br i1 [[I153_CACHE174]], label [[BB216:%.*]], label [[BB212:%.*]]
; CHECK:       bb212:
; CHECK-NEXT:    [[I213:%.*]] = getelementptr i32, ptr [[I156_CACHE178]], i64 [[I209]]
; CHECK-NEXT:    [[I214:%.*]] = load i32, ptr [[I213]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I215:%.*]] = add nsw i32 [[I214]], 1
; CHECK-NEXT:    br label [[BB216]]
; CHECK:       bb216:
; CHECK-NEXT:    [[I217:%.*]] = phi i32 [ [[I215]], [[BB212]] ], [ [[I158_RECOMPUTE231]], [[CACHEREMAT2]] ]
; CHECK-NEXT:    [[I218:%.*]] = mul nsw i64 [[I106_CACHE204]], [[I209]]
; CHECK-NEXT:    [[I219:%.*]] = sext i32 [[I211]] to i64
; CHECK-NEXT:    [[I220:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I111_CACHE200]], i64 [[I218]]
; CHECK-NEXT:    [[I221:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I220]], i64 [[I219]]
; CHECK-NEXT:    [[I222:%.*]] = load double, ptr [[I221]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I223:%.*]] = sext i32 [[I217]] to i64
; CHECK-NEXT:    [[I224:%.*]] = fcmp ult double [[I222]], [[I75_RECOMPUTE227]]
; CHECK-NEXT:    br i1 [[I224]], label [[BB225:%.*]], label [[BB245:%.*]]
; CHECK:       bb225:
; CHECK-NEXT:    [[I226:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I220]], i64 [[I223]]
; CHECK-NEXT:    [[I227:%.*]] = load double, ptr [[I226]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I228:%.*]] = fcmp ugt double [[I227]], [[I75_RECOMPUTE227]]
; CHECK-NEXT:    br i1 [[I228]], label [[BB229:%.*]], label [[BB245]]
; CHECK:       bb229:
; CHECK-NEXT:    [[I230:%.*]] = sub nsw i64 [[I223]], [[I219]]
; CHECK-NEXT:    [[I231:%.*]] = icmp sgt i64 [[I230]], 1
; CHECK-NEXT:    br i1 [[I231]], label [[BB232:%.*]], label [[BB245]]
; CHECK:       bb232:
; CHECK-NEXT:    [[I233:%.*]] = phi i64 [ [[I230]], [[BB229]] ], [ [[I243:%.*]], [[BB232]] ]
; CHECK-NEXT:    [[I234:%.*]] = phi i64 [ [[I219]], [[BB229]] ], [ [[I242:%.*]], [[BB232]] ]
; CHECK-NEXT:    [[I235:%.*]] = phi i64 [ [[I223]], [[BB229]] ], [ [[I241:%.*]], [[BB232]] ]
; CHECK-NEXT:    [[I236:%.*]] = lshr i64 [[I233]], 1
; CHECK-NEXT:    [[I237:%.*]] = add nsw i64 [[I236]], [[I234]]
; CHECK-NEXT:    [[I238:%.*]] = getelementptr inbounds [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I220]], i64 [[I237]]
; CHECK-NEXT:    [[I239:%.*]] = load double, ptr [[I238]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I240:%.*]] = fcmp ogt double [[I239]], [[I75_RECOMPUTE227]]
; CHECK-NEXT:    [[I241]] = select i1 [[I240]], i64 [[I237]], i64 [[I235]]
; CHECK-NEXT:    [[I242]] = select i1 [[I240]], i64 [[I234]], i64 [[I237]]
; CHECK-NEXT:    [[I243]] = sub nsw i64 [[I241]], [[I242]]
; CHECK-NEXT:    [[I244:%.*]] = icmp sgt i64 [[I243]], 1
; CHECK-NEXT:    br i1 [[I244]], label [[BB232]], label [[BB245]]
; CHECK:       bb245:
; CHECK-NEXT:    [[I246:%.*]] = phi i64 [ 0, [[BB216]] ], [ [[I149_RECOMPUTE228]], [[BB225]] ], [ [[I219]], [[BB229]] ], [ [[I242]], [[BB232]] ]
; CHECK-NEXT:    [[I247:%.*]] = shl i64 [[I246]], 32
; CHECK-NEXT:    [[I248:%.*]] = ashr exact i64 [[I247]], 32
; CHECK-NEXT:    [[I249:%.*]] = icmp eq i64 [[I248]], [[I149_RECOMPUTE228]]
; CHECK-NEXT:    br i1 [[I249]], label [[BB250:%.*]], label [[BB253:%.*]]
; CHECK:       bb250:
; CHECK-NEXT:    [[I251:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I220]], i64 [[I149_RECOMPUTE228]]
; CHECK-NEXT:    [[I252:%.*]] = getelementptr i8, ptr [[I251]], i64 -48
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       bb253:
; CHECK-NEXT:    [[I254:%.*]] = getelementptr [[STRUCT_NUCLIDEGRIDPOINT]], ptr [[I220]], i64 [[I248]]
; CHECK-NEXT:    br label [[BB255]]
; CHECK:       bb255:
; CHECK-NEXT:    [[I149462]] = phi i64 [ [[I149_RECOMPUTE228]], [[BB253]] ], [ [[I149_RECOMPUTE228]], [[BB250]] ], [ [[I149463]], [[BB197]] ]
; CHECK-NEXT:    [[I160461:%.*]] = phi double [ [[I160_CACHE194]], [[BB253]] ], [ [[I160_CACHE194]], [[BB250]] ], [ [[I160]], [[BB197]] ]
; CHECK-NEXT:    [[I161460:%.*]] = phi double [ [[I161_CACHE192]], [[BB253]] ], [ [[I161_CACHE192]], [[BB250]] ], [ [[I161]], [[BB197]] ]
; CHECK-NEXT:    [[I162459:%.*]] = phi double [ [[I162_CACHE190]], [[BB253]] ], [ [[I162_CACHE190]], [[BB250]] ], [ [[I162]], [[BB197]] ]
; CHECK-NEXT:    [[I163458:%.*]] = phi double [ [[I163_CACHE188]], [[BB253]] ], [ [[I163_CACHE188]], [[BB250]] ], [ [[I163]], [[BB197]] ]
; CHECK-NEXT:    [[I164457:%.*]] = phi double [ [[I164_CACHE186]], [[BB253]] ], [ [[I164_CACHE186]], [[BB250]] ], [ [[I164]], [[BB197]] ]
; CHECK-NEXT:    [[I165456:%.*]] = phi i32 [ [[I165_CACHE184]], [[BB253]] ], [ [[I165_CACHE184]], [[BB250]] ], [ [[I165]], [[BB197]] ]
; CHECK-NEXT:    [[I171455:%.*]] = phi double [ [[I171_CACHE180]], [[BB253]] ], [ [[I171_CACHE180]], [[BB250]] ], [ [[I171]], [[BB197]] ]
; CHECK-NEXT:    [[I156453]] = phi ptr [ [[I156_CACHE178]], [[BB253]] ], [ [[I156_CACHE178]], [[BB250]] ], [ [[I156454]], [[BB197]] ]
; CHECK-NEXT:    [[I148451]] = phi ptr [ [[I148_CACHE176]], [[BB253]] ], [ [[I148_CACHE176]], [[BB250]] ], [ [[I148452]], [[BB197]] ]
; CHECK-NEXT:    [[I153449]] = phi i1 [ [[I153_CACHE174]], [[BB253]] ], [ [[I153_CACHE174]], [[BB250]] ], [ [[I153450]], [[BB197]] ]
; CHECK-NEXT:    [[I146447]] = phi i32 [ [[I146_CACHE172]], [[BB253]] ], [ [[I146_CACHE172]], [[BB250]] ], [ [[I146448]], [[BB197]] ]
; CHECK-NEXT:    [[I142445]] = phi ptr [ [[I142_CACHE170]], [[BB253]] ], [ [[I142_CACHE170]], [[BB250]] ], [ [[I142446]], [[BB197]] ]
; CHECK-NEXT:    [[I28439]] = phi ptr [ [[I28_RECOMPUTE240]], [[BB253]] ], [ [[I28_RECOMPUTE240]], [[BB250]] ], [ [[I28442]], [[BB197]] ]
; CHECK-NEXT:    [[I25432]] = phi ptr [ [[I25_RECOMPUTE239]], [[BB253]] ], [ [[I25_RECOMPUTE239]], [[BB250]] ], [ [[I25435]], [[BB197]] ]
; CHECK-NEXT:    [[I24425]] = phi ptr [ [[I24_RECOMPUTE238]], [[BB253]] ], [ [[I24_RECOMPUTE238]], [[BB250]] ], [ [[I24428]], [[BB197]] ]
; CHECK-NEXT:    [[I23418]] = phi ptr [ [[I23_RECOMPUTE237]], [[BB253]] ], [ [[I23_RECOMPUTE237]], [[BB250]] ], [ [[I23421]], [[BB197]] ]
; CHECK-NEXT:    [[I22411]] = phi ptr [ [[I22_RECOMPUTE236]], [[BB253]] ], [ [[I22_RECOMPUTE236]], [[BB250]] ], [ [[I22414]], [[BB197]] ]
; CHECK-NEXT:    [[I21404]] = phi ptr [ [[I21_RECOMPUTE235]], [[BB253]] ], [ [[I21_RECOMPUTE235]], [[BB250]] ], [ [[I21407]], [[BB197]] ]
; CHECK-NEXT:    [[I6396]] = phi i32 [ [[I6_RECOMPUTE234]], [[BB253]] ], [ [[I6_RECOMPUTE234]], [[BB250]] ], [ [[I6399]], [[BB197]] ]
; CHECK-NEXT:    [[I32391]] = phi i64 [ [[I32_RECOMPUTE233]], [[BB253]] ], [ [[I32_RECOMPUTE233]], [[BB250]] ], [ [[I32394]], [[BB197]] ]
; CHECK-NEXT:    [[I41387]] = phi i32 [ [[I41_RECOMPUTE232]], [[BB253]] ], [ [[I41_RECOMPUTE232]], [[BB250]] ], [ [[I41390]], [[BB197]] ]
; CHECK-NEXT:    [[I75384]] = phi double [ [[I75_RECOMPUTE227]], [[BB253]] ], [ [[I75_RECOMPUTE227]], [[BB250]] ], [ [[I75386]], [[BB197]] ]
; CHECK-NEXT:    [[I27378]] = phi ptr [ [[I27_RECOMPUTE222]], [[BB253]] ], [ [[I27_RECOMPUTE222]], [[BB250]] ], [ [[I27381]], [[BB197]] ]
; CHECK-NEXT:    [[I26371]] = phi ptr [ [[I26_RECOMPUTE221]], [[BB253]] ], [ [[I26_RECOMPUTE221]], [[BB250]] ], [ [[I26374]], [[BB197]] ]
; CHECK-NEXT:    [[I20364]] = phi ptr [ [[I20_RECOMPUTE220]], [[BB253]] ], [ [[I20_RECOMPUTE220]], [[BB250]] ], [ [[I20367]], [[BB197]] ]
; CHECK-NEXT:    [[I19357]] = phi ptr [ [[I19_RECOMPUTE219]], [[BB253]] ], [ [[I19_RECOMPUTE219]], [[BB250]] ], [ [[I19360]], [[BB197]] ]
; CHECK-NEXT:    [[I4349]] = phi ptr [ [[I4_RECOMPUTE218]], [[BB253]] ], [ [[I4_RECOMPUTE218]], [[BB250]] ], [ [[I4352]], [[BB197]] ]
; CHECK-NEXT:    [[I13342]] = phi i32 [ [[I13_RECOMPUTE217]], [[BB253]] ], [ [[I13_RECOMPUTE217]], [[BB250]] ], [ [[I13346]], [[BB197]] ]
; CHECK-NEXT:    [[I18335]] = phi i32 [ [[I18_CACHE216]], [[BB253]] ], [ [[I18_CACHE216]], [[BB250]] ], [ [[I18338]], [[BB197]] ]
; CHECK-NEXT:    [[I302]] = phi i32 [ [[I_CACHE214]], [[BB253]] ], [ [[I_CACHE214]], [[BB250]] ], [ [[I331]], [[BB197]] ]
; CHECK-NEXT:    [[I5288]] = phi i32 [ [[I5_CACHE212]], [[BB253]] ], [ [[I5_CACHE212]], [[BB250]] ], [ [[I5291]], [[BB197]] ]
; CHECK-NEXT:    [[I30282]] = phi i32 [ [[I30_CACHE210]], [[BB253]] ], [ [[I30_CACHE210]], [[BB250]] ], [ [[I30285]], [[BB197]] ]
; CHECK-NEXT:    [[I31276]] = phi i32 [ [[I31_CACHE208]], [[BB253]] ], [ [[I31_CACHE208]], [[BB250]] ], [ [[I31279]], [[BB197]] ]
; CHECK-NEXT:    [[I40272]] = phi i64 [ [[I40_CACHE206]], [[BB253]] ], [ [[I40_CACHE206]], [[BB250]] ], [ [[I40275]], [[BB197]] ]
; CHECK-NEXT:    [[I106268]] = phi i64 [ [[I106_CACHE204]], [[BB253]] ], [ [[I106_CACHE204]], [[BB250]] ], [ [[I106269]], [[BB197]] ]
; CHECK-NEXT:    [[I108264]] = phi ptr [ [[I108_CACHE202]], [[BB253]] ], [ [[I108_CACHE202]], [[BB250]] ], [ [[I108265]], [[BB197]] ]
; CHECK-NEXT:    [[I111260]] = phi ptr [ [[I111_CACHE200]], [[BB253]] ], [ [[I111_CACHE200]], [[BB250]] ], [ [[I111261]], [[BB197]] ]
; CHECK-NEXT:    [[I112257]] = phi ptr [ [[I112_CACHE198]], [[BB253]] ], [ [[I112_CACHE198]], [[BB250]] ], [ [[I112258]], [[BB197]] ]
; CHECK-NEXT:    [[I113254]] = phi i32 [ [[I113_CACHE196]], [[BB253]] ], [ [[I113_CACHE196]], [[BB250]] ], [ 0, [[BB197]] ]
; CHECK-NEXT:    [[I70248]] = phi i64 [ [[I70_CACHE168]], [[BB253]] ], [ [[I70_CACHE168]], [[BB250]] ], [ [[I70250]], [[BB197]] ]
; CHECK-NEXT:    [[I10241]] = phi i32 [ [[I10_CACHE166]], [[BB253]] ], [ [[I10_CACHE166]], [[BB250]] ], [ [[I10244]], [[BB197]] ]
; CHECK-NEXT:    [[I256:%.*]] = phi ptr [ [[I252]], [[BB250]] ], [ [[I254]], [[BB253]] ], [ [[I207]], [[BB197]] ]
; CHECK-NEXT:    [[I257:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 48
; CHECK-NEXT:    [[I258:%.*]] = load double, ptr [[I257]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I259:%.*]] = fsub double [[I258]], [[I75384]]
; CHECK-NEXT:    [[I260:%.*]] = load double, ptr [[I256]], align 8, !tbaa [[TBAA87]]
; CHECK-NEXT:    [[I261:%.*]] = fsub double [[I258]], [[I260]]
; CHECK-NEXT:    [[I262:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 56
; CHECK-NEXT:    [[I263:%.*]] = load double, ptr [[I262]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I264:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 8
; CHECK-NEXT:    [[I265:%.*]] = load double, ptr [[I264]], align 8, !tbaa [[TBAA89]]
; CHECK-NEXT:    [[I266:%.*]] = fsub double [[I263]], [[I265]]
; CHECK-NEXT:    [[I267:%.*]] = fneg double [[I259]]
; CHECK-NEXT:    [[I268:%.*]] = fdiv double [[I267]], [[I261]]
; CHECK-NEXT:    [[I269:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I266]], double [[I263]])
; CHECK-NEXT:    [[I270:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 64
; CHECK-NEXT:    [[I271:%.*]] = load double, ptr [[I270]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I272:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 16
; CHECK-NEXT:    [[I273:%.*]] = load double, ptr [[I272]], align 8, !tbaa [[TBAA90]]
; CHECK-NEXT:    [[I274:%.*]] = fsub double [[I271]], [[I273]]
; CHECK-NEXT:    [[I275:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I274]], double [[I271]])
; CHECK-NEXT:    [[I276:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 72
; CHECK-NEXT:    [[I277:%.*]] = load double, ptr [[I276]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I278:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 24
; CHECK-NEXT:    [[I279:%.*]] = load double, ptr [[I278]], align 8, !tbaa [[TBAA91]]
; CHECK-NEXT:    [[I280:%.*]] = fsub double [[I277]], [[I279]]
; CHECK-NEXT:    [[I281:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I280]], double [[I277]])
; CHECK-NEXT:    [[I282:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 80
; CHECK-NEXT:    [[I283:%.*]] = load double, ptr [[I282]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I284:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 32
; CHECK-NEXT:    [[I285:%.*]] = load double, ptr [[I284]], align 8, !tbaa [[TBAA92]]
; CHECK-NEXT:    [[I286:%.*]] = fsub double [[I283]], [[I285]]
; CHECK-NEXT:    [[I287:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I286]], double [[I283]])
; CHECK-NEXT:    [[I288:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 88
; CHECK-NEXT:    [[I289:%.*]] = load double, ptr [[I288]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I290:%.*]] = getelementptr inbounds i8, ptr [[I256]], i64 40
; CHECK-NEXT:    [[I291:%.*]] = load double, ptr [[I290]], align 8, !tbaa [[TBAA93]]
; CHECK-NEXT:    [[I292:%.*]] = fsub double [[I289]], [[I291]]
; CHECK-NEXT:    [[I293:%.*]] = tail call double @llvm.fmuladd.f64(double [[I268]], double [[I292]], double [[I289]])
; CHECK-NEXT:    [[I294]] = tail call double @llvm.fmuladd.f64(double [[I269]], double [[I171455]], double [[I164457]])
; CHECK-NEXT:    [[I295]] = tail call double @llvm.fmuladd.f64(double [[I275]], double [[I171455]], double [[I163458]])
; CHECK-NEXT:    [[I296]] = tail call double @llvm.fmuladd.f64(double [[I281]], double [[I171455]], double [[I162459]])
; CHECK-NEXT:    [[I297]] = tail call double @llvm.fmuladd.f64(double [[I287]], double [[I171455]], double [[I161460]])
; CHECK-NEXT:    [[I298]] = tail call double @llvm.fmuladd.f64(double [[I293]], double [[I171455]], double [[I160461]])
; CHECK-NEXT:    [[I299]] = add nuw nsw i32 [[I165456]], 1
; CHECK-NEXT:    [[I300:%.*]] = load i32, ptr [[I142445]], align 4, !tbaa [[TBAA60]]
; CHECK-NEXT:    [[I301:%.*]] = icmp slt i32 [[I299]], [[I300]]
; CHECK-NEXT:    br i1 [[I301]], label [[BB159]], label [[BB302]]
; CHECK:       bb302:
; CHECK-NEXT:    [[I28441]] = phi ptr [ [[I28444]], [[BB139]] ], [ [[I28439]], [[BB255]] ]
; CHECK-NEXT:    [[I25434]] = phi ptr [ [[I25437]], [[BB139]] ], [ [[I25432]], [[BB255]] ]
; CHECK-NEXT:    [[I24427]] = phi ptr [ [[I24430]], [[BB139]] ], [ [[I24425]], [[BB255]] ]
; CHECK-NEXT:    [[I23420]] = phi ptr [ [[I23423]], [[BB139]] ], [ [[I23418]], [[BB255]] ]
; CHECK-NEXT:    [[I22413]] = phi ptr [ [[I22416]], [[BB139]] ], [ [[I22411]], [[BB255]] ]
; CHECK-NEXT:    [[I21406]] = phi ptr [ [[I21409]], [[BB139]] ], [ [[I21404]], [[BB255]] ]
; CHECK-NEXT:    [[I6398]] = phi i32 [ [[I6401]], [[BB139]] ], [ [[I6396]], [[BB255]] ]
; CHECK-NEXT:    [[I32393]] = phi i64 [ [[I32395]], [[BB139]] ], [ [[I32391]], [[BB255]] ]
; CHECK-NEXT:    [[I41389:%.*]] = phi i32 [ [[I41]], [[BB139]] ], [ [[I41387]], [[BB255]] ]
; CHECK-NEXT:    [[I27380]] = phi ptr [ [[I27383]], [[BB139]] ], [ [[I27378]], [[BB255]] ]
; CHECK-NEXT:    [[I26373]] = phi ptr [ [[I26376]], [[BB139]] ], [ [[I26371]], [[BB255]] ]
; CHECK-NEXT:    [[I20366]] = phi ptr [ [[I20369]], [[BB139]] ], [ [[I20364]], [[BB255]] ]
; CHECK-NEXT:    [[I19359]] = phi ptr [ [[I19362]], [[BB139]] ], [ [[I19357]], [[BB255]] ]
; CHECK-NEXT:    [[I4351]] = phi ptr [ [[I4354]], [[BB139]] ], [ [[I4349]], [[BB255]] ]
; CHECK-NEXT:    [[I13345]] = phi i32 [ [[I13348]], [[BB139]] ], [ [[I13342]], [[BB255]] ]
; CHECK-NEXT:    [[I18337]] = phi i32 [ [[I18340]], [[BB139]] ], [ [[I18335]], [[BB255]] ]
; CHECK-NEXT:    [[I330]] = phi i32 [ [[I333]], [[BB139]] ], [ [[I302]], [[BB255]] ]
; CHECK-NEXT:    [[I5290]] = phi i32 [ [[I5293]], [[BB139]] ], [ [[I5288]], [[BB255]] ]
; CHECK-NEXT:    [[I30284]] = phi i32 [ [[I30287]], [[BB139]] ], [ [[I30282]], [[BB255]] ]
; CHECK-NEXT:    [[I31278]] = phi i32 [ [[I31281]], [[BB139]] ], [ [[I31276]], [[BB255]] ]
; CHECK-NEXT:    [[I40274:%.*]] = phi i64 [ [[I40]], [[BB139]] ], [ [[I40272]], [[BB255]] ]
; CHECK-NEXT:    [[I10243]] = phi i32 [ [[I10246]], [[BB139]] ], [ [[I10241]], [[BB255]] ]
; CHECK-NEXT:    [[I303:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I294]], [[BB255]] ]
; CHECK-NEXT:    [[I304:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I295]], [[BB255]] ]
; CHECK-NEXT:    [[I305:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I296]], [[BB255]] ]
; CHECK-NEXT:    [[I306:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I297]], [[BB255]] ]
; CHECK-NEXT:    [[I307:%.*]] = phi double [ 0.000000e+00, [[BB139]] ], [ [[I298]], [[BB255]] ]
; CHECK-NEXT:    [[I308:%.*]] = fcmp ogt double [[I303]], -1.000000e+00
; CHECK-NEXT:    [[I309:%.*]] = select i1 [[I308]], double [[I303]], double -1.000000e+00
; CHECK-NEXT:    [[I310:%.*]] = fcmp ogt double [[I304]], [[I309]]
; CHECK-NEXT:    [[I311:%.*]] = select i1 [[I310]], double [[I304]], double [[I309]]
; CHECK-NEXT:    [[I312:%.*]] = fcmp ogt double [[I305]], [[I311]]
; CHECK-NEXT:    [[I313:%.*]] = select i1 [[I312]], double [[I305]], double [[I311]]
; CHECK-NEXT:    [[I314:%.*]] = fcmp ogt double [[I306]], [[I313]]
; CHECK-NEXT:    [[I315:%.*]] = select i1 [[I314]], double [[I306]], double [[I313]]
; CHECK-NEXT:    [[I316:%.*]] = select i1 [[I310]], i64 2, i64 1
; CHECK-NEXT:    [[I317:%.*]] = fcmp ogt double [[I307]], [[I315]]
; CHECK-NEXT:    [[I318:%.*]] = select i1 [[I312]], i64 3, i64 [[I316]]
; CHECK-NEXT:    [[I319:%.*]] = select i1 [[I314]], i64 4, i64 [[I318]]
; CHECK-NEXT:    [[I320:%.*]] = select i1 [[I317]], i64 5, i64 [[I319]]
; CHECK-NEXT:    [[I321:%.*]] = getelementptr inbounds i64, ptr [[ARG3]], i64 [[I40274]]
; CHECK-NEXT:    store i64 [[I320]], ptr [[I321]], align 8, !tbaa [[TBAA120]]
; CHECK-NEXT:    [[I322:%.*]] = add nsw i32 [[I18337]], [[I41389]]
; CHECK-NEXT:    [[I323]] = sext i32 [[I322]] to i64
; CHECK-NEXT:    [[I324:%.*]] = icmp ugt i64 [[I323]], [[I32393]]
; CHECK-NEXT:    br i1 [[I324]], label [[BB325]], label [[BB39]]
; CHECK:       bb325:
; CHECK-NEXT:    [[I28443]] = phi ptr [ [[I28441]], [[BB302]] ], [ [[I28443]], [[BB35]] ], [ [[I28443]], [[BB29_FROM_BB325:%.*]] ]
; CHECK-NEXT:    [[I25436]] = phi ptr [ [[I25434]], [[BB302]] ], [ [[I25436]], [[BB35]] ], [ [[I25436]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I24429]] = phi ptr [ [[I24427]], [[BB302]] ], [ [[I24429]], [[BB35]] ], [ [[I24429]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I23422]] = phi ptr [ [[I23420]], [[BB302]] ], [ [[I23422]], [[BB35]] ], [ [[I23422]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I22415]] = phi ptr [ [[I22413]], [[BB302]] ], [ [[I22415]], [[BB35]] ], [ [[I22415]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I21408]] = phi ptr [ [[I21406]], [[BB302]] ], [ [[I21408]], [[BB35]] ], [ [[I21408]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I6400]] = phi i32 [ [[I6398]], [[BB302]] ], [ [[I6400]], [[BB35]] ], [ [[I6400]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I27382]] = phi ptr [ [[I27380]], [[BB302]] ], [ [[I27382]], [[BB35]] ], [ [[I27382]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I26375]] = phi ptr [ [[I26373]], [[BB302]] ], [ [[I26375]], [[BB35]] ], [ [[I26375]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I20368]] = phi ptr [ [[I20366]], [[BB302]] ], [ [[I20368]], [[BB35]] ], [ [[I20368]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I19361]] = phi ptr [ [[I19359]], [[BB302]] ], [ [[I19361]], [[BB35]] ], [ [[I19361]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I4353]] = phi ptr [ [[I4351]], [[BB302]] ], [ [[I4353]], [[BB35]] ], [ [[I4353]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I13347]] = phi i32 [ [[I13345]], [[BB302]] ], [ [[I13347]], [[BB35]] ], [ [[I13347]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I18339]] = phi i32 [ [[I18337]], [[BB302]] ], [ [[I18339]], [[BB35]] ], [ [[I18339]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I332]] = phi i32 [ [[I330]], [[BB302]] ], [ [[I332]], [[BB35]] ], [ [[I332]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I5292]] = phi i32 [ [[I5290]], [[BB302]] ], [ [[I5292]], [[BB35]] ], [ [[I5292]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I30286:%.*]] = phi i32 [ [[I30284]], [[BB302]] ], [ [[I328_BB29]], [[BB35]] ], [ [[I328_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I31280:%.*]] = phi i32 [ [[I31278]], [[BB302]] ], [ [[I326_BB29]], [[BB35]] ], [ [[I326_BB29]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    [[I10245]] = phi i32 [ [[I10243]], [[BB302]] ], [ [[I10245]], [[BB35]] ], [ [[I10245]], [[BB29_FROM_BB325]] ]
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I326:%.*]] = add nsw i32 [[I31280]], [[I13347]]
; CHECK-NEXT:    [[I327:%.*]] = add nsw i32 [[I30286]], [[I13347]]
; CHECK-NEXT:    [[I328:%.*]] = tail call i32 @llvm.smin.i32(i32 [[I327]], i32 [[I6400]])
; CHECK-NEXT:    [[I329:%.*]] = icmp slt i32 [[I326]], [[I5292]]
; CHECK-NEXT:    br i1 [[I329]], label [[BB29_FROM_BB325]], label [[BB330:%.*]]
; CHECK:       bb29.from.bb325:
; CHECK-NEXT:    [[I326_BB29]] = phi i32 [ [[I326]], [[BB325]] ]
; CHECK-NEXT:    [[I328_BB29]] = phi i32 [ [[I328]], [[BB325]] ]
; CHECK-NEXT:    [[I32]] = zext i32 [[I328_BB29]] to i64
; CHECK-NEXT:    tail call void @llvm.nvvm.barrier0() #[[ATTR9]]
; CHECK-NEXT:    [[I33:%.*]] = load i32, ptr [[I4353]], align 8, !tbaa [[TBAA19]]
; CHECK-NEXT:    [[I34:%.*]] = icmp sgt i32 [[I33]], 0
; CHECK-NEXT:    br i1 [[I34]], label [[BB35]], label [[BB325]]
; CHECK:       bb330:
; CHECK-NEXT:    ret void
; CHECK:       ThreadExit:
; CHECK-NEXT:    call void asm sideeffect "exit
; CHECK-NEXT:    unreachable
;
;.
; CHECK: [[RNG17]] = !{i32 1, i32 0}
; CHECK: [[RNG18]] = !{i32 0, i32 -1}
; CHECK: [[TBAA19]] = !{[[META20:![0-9]+]], [[META21:![0-9]+]], i64 24}
; CHECK: [[META20]] = !{!"", [[META21]], i64 0, [[META24:![0-9]+]], i64 8, [[META24]], i64 16, [[META21]], i64 24, [[META25:![0-9]+]], i64 32, [[META21]], i64 40, [[META21]], i64 44, [[META21]], i64 48, [[META21]], i64 52, [[META21]], i64 56, [[META21]], i64 60}
; CHECK: [[META21]] = !{!"int", [[META22:![0-9]+]], i64 0}
; CHECK: [[META22]] = !{!"omnipotent char", [[META23:![0-9]+]], i64 0}
; CHECK: [[META23]] = !{!"Simple C/C++ TBAA"}
; CHECK: [[META24]] = !{!"long", [[META22]], i64 0}
; CHECK: [[META25]] = !{!"any pointer", [[META22]], i64 0}
; CHECK: [[RNG26]] = !{i32 -2147483648, i32 2147483647}
; CHECK: [[TBAA27]] = !{[[META20]], [[META24]], i64 8}
; CHECK: [[TBAA28]] = !{[[META20]], [[META24]], i64 16}
; CHECK: [[TBAA29]] = !{[[META30:![0-9]+]], [[META25]], i64 0}
; CHECK: [[META30]] = !{!"", [[META25]], i64 0, [[META25]], i64 8, [[META25]], i64 16, [[META25]], i64 24, [[META25]], i64 32, [[META25]], i64 40, [[META21]], i64 48, [[META21]], i64 52, [[META21]], i64 56, [[META21]], i64 60, [[META24]], i64 64, [[META21]], i64 72, [[META21]], i64 76, [[META25]], i64 80, [[META21]], i64 88, [[META25]], i64 96, [[META21]], i64 104}
; CHECK: [[TBAA31]] = !{[[META30]], [[META25]], i64 8}
; CHECK: [[TBAA32]] = !{[[META30]], [[META25]], i64 24}
; CHECK: [[TBAA33]] = !{[[META30]], [[META25]], i64 32}
; CHECK: [[TBAA34]] = !{[[META30]], [[META25]], i64 40}
; CHECK: [[TBAA35]] = !{[[META30]], [[META25]], i64 16}
; CHECK: [[TBAA36]] = !{[[META20]], [[META21]], i64 40}
; CHECK: [[TBAA37]] = !{[[META20]], [[META21]], i64 44}
; CHECK: [[TBAA38]] = !{[[META30]], [[META21]], i64 76}
; CHECK: [[TBAA39]] = !{[[META40:![0-9]+]], [[META40]], i64 0}
; CHECK: [[META40]] = !{!"double", [[META22]], i64 0}
; CHECK: [[META41]] = distinct !{}
; CHECK: [[META42]] = distinct !{}
; CHECK: [[META43]] = distinct !{}
; CHECK: [[META44]] = distinct !{}
; CHECK: [[META45]] = distinct !{}
; CHECK: [[META46]] = distinct !{}
; CHECK: [[META47]] = distinct !{}
; CHECK: [[META48]] = distinct !{}
; CHECK: [[META49]] = distinct !{}
; CHECK: [[META50]] = distinct !{}
; CHECK: [[META51]] = distinct !{}
; CHECK: [[META52]] = distinct !{}
; CHECK: [[META53]] = distinct !{}
; CHECK: [[META54]] = distinct !{}
; CHECK: [[META55]] = distinct !{}
; CHECK: [[META56]] = distinct !{}
; CHECK: [[META57]] = distinct !{}
; CHECK: [[META58]] = distinct !{}
; CHECK: [[META59]] = distinct !{}
; CHECK: [[TBAA60]] = !{[[META21]], [[META21]], i64 0}
; CHECK: [[META61]] = distinct !{}
; CHECK: [[META62]] = distinct !{}
; CHECK: [[META63]] = distinct !{}
; CHECK: [[META64]] = distinct !{}
; CHECK: [[META65]] = distinct !{}
; CHECK: [[META66]] = distinct !{}
; CHECK: [[META67]] = distinct !{}
; CHECK: [[META68]] = distinct !{}
; CHECK: [[META69]] = distinct !{}
; CHECK: [[META70]] = distinct !{}
; CHECK: [[META71]] = distinct !{}
; CHECK: [[META72]] = distinct !{}
; CHECK: [[META73]] = distinct !{}
; CHECK: [[META74]] = distinct !{}
; CHECK: [[META75]] = distinct !{}
; CHECK: [[META76]] = distinct !{}
; CHECK: [[META77]] = distinct !{}
; CHECK: [[META78]] = distinct !{}
; CHECK: [[META79]] = distinct !{}
; CHECK: [[META80]] = distinct !{}
; CHECK: [[META81]] = distinct !{}
; CHECK: [[META82]] = distinct !{}
; CHECK: [[META83]] = distinct !{}
; CHECK: [[META84]] = distinct !{}
; CHECK: [[META85]] = distinct !{}
; CHECK: [[META86]] = distinct !{}
; CHECK: [[TBAA87]] = !{[[META88:![0-9]+]], [[META40]], i64 0}
; CHECK: [[META88]] = !{!"", [[META40]], i64 0, [[META40]], i64 8, [[META40]], i64 16, [[META40]], i64 24, [[META40]], i64 32, [[META40]], i64 40}
; CHECK: [[TBAA89]] = !{[[META88]], [[META40]], i64 8}
; CHECK: [[TBAA90]] = !{[[META88]], [[META40]], i64 16}
; CHECK: [[TBAA91]] = !{[[META88]], [[META40]], i64 24}
; CHECK: [[TBAA92]] = !{[[META88]], [[META40]], i64 32}
; CHECK: [[TBAA93]] = !{[[META88]], [[META40]], i64 40}
; CHECK: [[META94]] = distinct !{}
; CHECK: [[META95]] = distinct !{}
; CHECK: [[META96]] = distinct !{}
; CHECK: [[META97]] = distinct !{}
; CHECK: [[META98]] = distinct !{}
; CHECK: [[META99]] = distinct !{}
; CHECK: [[META100]] = distinct !{}
; CHECK: [[META101]] = distinct !{}
; CHECK: [[META102]] = distinct !{}
; CHECK: [[META103]] = distinct !{}
; CHECK: [[META104]] = distinct !{}
; CHECK: [[META105]] = distinct !{}
; CHECK: [[META106]] = distinct !{}
; CHECK: [[META107]] = distinct !{}
; CHECK: [[META108]] = distinct !{}
; CHECK: [[META109]] = distinct !{}
; CHECK: [[META110]] = distinct !{}
; CHECK: [[META111]] = distinct !{}
; CHECK: [[META112]] = distinct !{}
; CHECK: [[META113]] = distinct !{}
; CHECK: [[META114]] = distinct !{}
; CHECK: [[META115]] = distinct !{}
; CHECK: [[META116]] = distinct !{}
; CHECK: [[META117]] = distinct !{}
; CHECK: [[META118]] = distinct !{}
; CHECK: [[META119]] = distinct !{}
; CHECK: [[TBAA120]] = !{[[META121:![0-9]+]], [[META121]], i64 0}
; CHECK: [[META121]] = !{!"long long", [[META22]], i64 0}
;.
